<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é»˜</title>
  <subtitle>ä¸ºäº†ç”Ÿå­˜ï¼Œè€Œä¸€ç‚¹ç‚¹æ·¡å¿˜äº†æœ€åˆçš„æœ¬æ„ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-03-23T18:03:05.922Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Jasper</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vscodeç³»åˆ—â€”cè¯­è¨€</title>
    <link href="http://yoursite.com/2018/03/24/Vscode%E7%B3%BB%E5%88%97-c%E8%AF%AD%E8%A8%80/"/>
    <id>http://yoursite.com/2018/03/24/Vscodeç³»åˆ—-cè¯­è¨€/</id>
    <published>2018-03-24T04:00:00.000Z</published>
    <updated>2018-03-23T18:03:05.922Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>ç¯å¢ƒ</p>
<ul>
<li>vscode 1.20.x</li>
<li>ubuntu</li>
</ul>
<hr>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><ul>
<li>å†™åµŒå…¥å¼çš„cè¯­è¨€å¤ªéš¾æäº†,å—å¤Ÿäº†ç›—ç‰ˆ sourceinsight è‰°éš¾çš„ä»£ç æç¤ºå’Œè¡¥å…¨ä¹‹å,å°è¯•æ¢ä¸€æ¬¾ç¼–è¾‘å™¨.</li>
<li>è·¨å¹³å°,æ”¯æŒå¤šç§è¯­è¨€,è‡ªç”±åº¦é«˜.</li>
<li>vim å’Œ Emacs å‘½ä»¤è¡Œ æœ‰ä¸€ç‚¹å­¦ä¹ æˆæœ¬.</li>
<li>æœ€åé€‰å®šäº† vscode ä¸šä½™å†™ç‚¹ python å’Œ java å†™å†™ markdown åšå®¢ç­‰ç­‰ (çœ‹pdfä¹Ÿè¡Œâ€¦).</li>
</ul>
<hr>
<ul>
<li>æ³¨æ„vscodeé¦–å…ˆæ˜¯ä¸ªç¼–è¾‘å™¨,å…¶ä»–çš„åŠŸèƒ½éƒ½æ˜¯é€šè¿‡ æ’ä»¶ + åç«¯ å®ç°çš„.</li>
</ul>
<hr>
<h1 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h1><ul>
<li>ä»£ç è¡¥å…¨ æœ€é‡è¦çš„<strong>cè¯­è¨€çš„ç»“æ„ä½“è¡¥å…¨!!!</strong>.<ul>
<li>ç»“æ„ä½“è¡¥å…¨æ›¾ç»æ·±æ·±æŠ˜ç£¨è¿™æˆ‘,ç›´åˆ°é‡åˆ°äº†clangâ€¦.</li>
<li>é¡ºå¸¦ç€è§£å†³äº†è¯­æ³•æ£€æŸ¥,clangçš„è¯­æ³•æ£€æŸ¥å¾ˆæ˜¯å¥½ç”¨.</li>
<li>æ’ä»¶: C/C++ Clang Command Adapter</li>
<li><img src="https://i.loli.net/2018/03/23/5ab4f9c678732.png" alt="auto.png"></li>
<li><img src="https://i.loli.net/2018/03/23/5ab4f9c6ec147.png" alt="autoa.png"></li>
</ul>
</li>
<li>è¯­æ³•æ£€æŸ¥<ul>
<li>å¸¸è§„clangè¶³çŸ£,ä½†è¿˜ä¸å¤Ÿ.</li>
<li>clangæ˜¯ç¼–è¯‘å™¨,ä½†æœ‰äº›é”™è¯¯ç¼–è¯‘å™¨è¿˜æ˜¯æ— èƒ½ä¸ºåŠ›,ç¥­å‡ºCppcheck,C/C++ä»£ç ç¼ºé™·é™æ€æ£€æŸ¥å·¥å…·.</li>
<li>æ’ä»¶: cppcheck</li>
<li><img src="https://i.loli.net/2018/03/23/5ab4f9c64e3af.png" alt="err.png"></li>
</ul>
</li>
<li>ä»£ç æ ¼å¼åŒ–<ul>
<li>çœ¼ç…ç€clang é…å¥—çš„clang-format .</li>
<li>æ’ä»¶: Clang-Format</li>
</ul>
</li>
<li>å‡½æ•°è·³è½¬<ul>
<li>å¾®è½¯å®˜æ–¹c/c++æ’ä»¶å°±è¡Œäº†,ä½†å®˜æ–¹æ’ä»¶è‡ªå¸¦ä»£ç è¡¥å…¨å’Œè¯­æ³•æ£€æŸ¥,ä¸æ€ä¹ˆå¥½,ä¸€å®šè¦å…³æ‰å¦åˆ™ä¼šä¸clangå†²çª.</li>
<li>æ’ä»¶: C/C++ for Visual Studio Code</li>
<li><img src="https://i.loli.net/2018/03/23/5ab4f9c702d2c.png" alt="jump.png"></li>
</ul>
</li>
</ul>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><ul>
<li><p>ä¸Šæ–‡ä¹¦è¯´åˆ°,vscodeå®ç°ç¼–è¾‘å™¨ä»¥å¤–çš„åŠŸèƒ½éƒ½éœ€è¦æ’ä»¶+åç«¯çš„å½¢å¼ so ä¸€èˆ¬çš„å®‰è£…æ­¥éª¤å¦‚ä¸‹:</p>
</li>
<li><p>å®‰è£…åç«¯,å¦‚clang ã€cppcheck ç­‰.</p>
</li>
<li>å®‰è£…å¯¹åº”æ’ä»¶</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶(jsonæ ¼å¼)</p>
</li>
<li><p>æœ€åé’ˆå¯¹å¤„ç†å¤´æ–‡ä»¶ç­‰.</p>
</li>
</ul>
<h2 id="ä»£ç è¡¥å…¨-è¯­æ³•æ£€æŸ¥"><a href="#ä»£ç è¡¥å…¨-è¯­æ³•æ£€æŸ¥" class="headerlink" title="ä»£ç è¡¥å…¨/è¯­æ³•æ£€æŸ¥"></a>ä»£ç è¡¥å…¨/è¯­æ³•æ£€æŸ¥</h2><ul>
<li>ä»£ç è¡¥å…¨/è¯­æ³•æ£€æŸ¥éƒ½ä¾èµ–äºåç«¯clang,è€Œubuntè‡ªå¸¦çš„clang 3.8ç‰ˆæœ¬,è€Œclangæœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ä¸º5.0,è¿™é‡Œé€‰æ‹©5.0ç‰ˆæœ¬.</li>
<li>å‚è€ƒ &gt; <a href="https://apt.llvm.org/" target="_blank" rel="external">https://apt.llvm.org/</a></li>
</ul>
<h3 id="å®‰è£…clang-5-0"><a href="#å®‰è£…clang-5-0" class="headerlink" title="å®‰è£…clang-5.0"></a>å®‰è£…clang-5.0</h3><ul>
<li><p>ä¿®æ”¹ubuntuæº /etc/apt/source.list æ·»åŠ llvmå®˜æ–¹æº</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">deb http://apt.llvm.org/trusty/ llvm-toolchain-trusty-5.0 main</div><div class="line">deb-src http://apt.llvm.org/trusty/ llvm-toolchain-trusty-5.0 main</div></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ llvmæºçš„ å¯†é’¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key|sudo apt-key add -</div></pre></td></tr></table></figure>
</li>
<li><p>æ›´æ–°è½¯ä»¶åˆ—è¡¨,è¿™æ ·å°±å¯ä»¥å®‰è£…5.0ç‰ˆæœ¬äº†</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update</div></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…clang5.0</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install clang-5.0 lldb-5.0</div></pre></td></tr></table></figure>
<p>æˆ–è€…å®‰è£…å…¨éƒ¨llvm rootç”¨æˆ·ä¸‹(å¤ªå¤šå·ä¸ªæ‡’)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apt-get install clang-5.0 clang-tools-5.0 clang-5.0-doc libclang-common-5.0-dev libclang-5.0-dev libclang1-5.0 libclang1-5.0-dbg libllvm-5.0-ocaml-dev libllvm5.0 libllvm5.0-dbg lldb-5.0 llvm-5.0 llvm-5.0-dev llvm-5.0-doc llvm-5.0-examples llvm-5.0-runtime clang-format-5.0 python-clang-5.0 libfuzzer-5.0-dev</div></pre></td></tr></table></figure>
</li>
<li><p>å®Œæ•´å®‰è£…éœ€è¦è‰¯å¥½çš„ç½‘ç»œ,llvmå¤§æ¦‚300M,ç­‰ä¸‹å°±å¥½.</p>
</li>
<li><p>éªŒè¯</p>
<ul>
<li>å‘½ä»¤è¡Œè¾“å…¥ clang-5.0 ä¸ä¼šæç¤ºæ— æ­¤å‘½ä»¤å³å¯.</li>
</ul>
</li>
</ul>
<h3 id="clang"><a href="#clang" class="headerlink" title="clang"></a>clang</h3><ul>
<li><p>ubuntuè‡ªå¸¦ç‰ˆæœ¬3.8</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install clang</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="clangæ’ä»¶åŠé…ç½®"><a href="#clangæ’ä»¶åŠé…ç½®" class="headerlink" title="clangæ’ä»¶åŠé…ç½®"></a>clangæ’ä»¶åŠé…ç½®</h3><ul>
<li><p>æ’ä»¶å C/C++ Clang Command Adapter,åœ¨vscodeä¸­æœç´¢ä¸‹è½½å³å¯.<br>ç½‘ç»œç¯å¢ƒé™åˆ¶è¿˜å¯ä»¥åœ¨vscodeå®˜ç½‘ä¸‹è½½vsixæ ¼å¼çš„æ–‡ä»¶,ç¦»çº¿å®‰è£….</p>
</li>
<li><p>å®‰è£…å®Œæˆå,è¿›å…¥é‡å¤´æˆ,ä¹Ÿæ˜¯åˆæ¬¡ä¸Šæ‰‹vscodeæœ€éš¾é€‚åº”çš„åœ°æ–¹.</p>
</li>
<li><p>è¿›å…¥vscodeçš„è®¾ç½® <code>setting.json</code> ,åˆ†ä¸º ç”¨æˆ·åŒºè®¾ç½® å’Œ å·¥ä½œåŒºè®¾ç½®.</p>
<ul>
<li>ç”¨æˆ·åŒºè®¾ç½®,æ˜¯ç”¨æˆ·è‡ªå®šä¹‰å…¨å±€è®¾ç½®,è¦†ç›–vscodeé»˜è®¤è®¾ç½®,æ¯ä¸ªå·¥ç¨‹éƒ½æœ‰æ•ˆ.</li>
<li>å·¥ä½œåŒºè®¾ç½®,æ˜¯é’ˆå¯¹æœ¬å·¥ç¨‹çš„ä¸ªæ€§åŒ–è®¾ç½®,åªåœ¨æœ¬å·¥ç¨‹ç”Ÿæ•ˆ.</li>
<li>ç®€æ˜“æ˜¯å°†clangç­‰è®¾ç½® ä¿å­˜åœ¨ç”¨æˆ·åŒº,å·¥ä½œåŒºä¿å­˜è¿½å¯¹ clang çš„å¤´æ–‡ä»¶è®¾ç½®.</li>
</ul>
</li>
<li><p>ç”¨æˆ·åŒºè®¾ç½®</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">"clang.executable": "clang-5.0",</div><div class="line">"clang.completion.triggerChars": [</div><div class="line">      ".",</div><div class="line">      ":",</div><div class="line">      "&gt;"],</div></pre></td></tr></table></figure>
<ul>
<li>clang.executable : åç«¯clangçš„è·¯å¾„,è¿™é‡Œæ˜¯ clang-5.0 ,ä¹Ÿå¯ä»¥å†™å…¥ clang çš„å®‰è£…ç›®å½•.</li>
<li>clang.completion.triggerChars : è§¦å‘ä»£ç è¡¥å…¨çš„è¾“å…¥,å¸¸ç”¨çš„ . : &gt;.</li>
</ul>
</li>
<li><p>å·¥ä½œåŒºè®¾ç½®</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">"clang.cflags": [</div><div class="line">      "-std=c99",</div><div class="line">      "-I$&#123;cwd&#125;",</div><div class="line">      "-I/usr/include",</div><div class="line">      "-I/usr/include/c++/5",</div><div class="line">      "-I/usr/include/x86_64-linux-gnu/c++/5",</div><div class="line">      "-I/usr/include/c++/5/backward",</div><div class="line">      "-I/usr/lib/gcc/x86_64-linux-gnu/5/include",</div><div class="line">      "-I/usr/local/include",</div><div class="line">      "-I/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed",</div><div class="line">      "-I/usr/include/x86_64-linux-gnu",</div><div class="line">      "-I/usr/include",</div><div class="line">      "-I$&#123;workspaceRoot&#125;",</div><div class="line">      "-I$&#123;workspaceRoot&#125;/Include",</div><div class="line">      "-I$&#123;workspaceRoot&#125;/Libs/Cjson/Include"</div><div class="line">  ],</div></pre></td></tr></table></figure>
<ul>
<li>clang.cflags : <code>&quot;-std=c99&quot;</code> clangè¯­æ³•æ£€æŸ¥æ—¶ c/c++ è¯­è¨€æ ‡å‡†,è¦å…¼å®¹å†å²é¡¹ç›®,è¿™å°±é€‰çš„ c99 ,æ–°é¡¹ç›®ç®€æ˜“ ç›´æ¥ c11.clangè¿›è¡Œä»£ç è¡¥å…¨/è¯­æ³•æ£€æŸ¥çš„å¤´æ–‡ä»¶è·¯å¾„, æ ¼å¼æ˜¯ <code>-Iè·¯å¾„</code> ,æ”¯æŒç›´æ¥å’Œé—´æ¥è·¯å¾„(${workspaceRoot}).</li>
<li>å¤´æ–‡ä»¶ä¸€å®šè¦å†™å…¨,å¦åˆ™ä¸€ç›´ä¼šæœ‰é”™è¯¯æç¤º.</li>
</ul>
</li>
<li><p>ä¿å­˜å,ä»£ç è¡¥å…¨/è¯­æ³•æ£€æŸ¥ å…¨éƒ¨å¦‚ä¸Šå›¾æ‰€ç¤º.</p>
</li>
</ul>
<h2 id="è¯­æ³•æ£€æŸ¥"><a href="#è¯­æ³•æ£€æŸ¥" class="headerlink" title="è¯­æ³•æ£€æŸ¥"></a>è¯­æ³•æ£€æŸ¥</h2><ul>
<li>è¿™é‡Œç‰¹æŒ‡ cppcheck</li>
</ul>
<h3 id="å®‰è£…cppcheck"><a href="#å®‰è£…cppcheck" class="headerlink" title="å®‰è£…cppcheck"></a>å®‰è£…cppcheck</h3><ul>
<li><p>æˆ‘æ²¡æœ‰è¿½æ±‚æœ€æ–°,ç›´æ¥é€šè¿‡ubuntuå®˜æ–¹æºå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install cppcheck</div></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…å®Œæˆ,æ‰§è¡Œ cppcheck å‘½ä»¤,ä¸æç¤ºæ— æ­¤å‘½ä»¤å³å¯.</p>
</li>
</ul>
<h3 id="cppcheckæ’ä»¶åŠé…ç½®"><a href="#cppcheckæ’ä»¶åŠé…ç½®" class="headerlink" title="cppcheckæ’ä»¶åŠé…ç½®"></a>cppcheckæ’ä»¶åŠé…ç½®</h3><ul>
<li><p>æœç´¢å®‰è£… cppcheck</p>
</li>
<li><p>åŒæ ·é…ç½®åˆ†ä¸ºç”¨æˆ·åŒºå’Œå·¥ä½œåŒº.å·¥ä½œåŒºå¯¹åº”å¤´æ–‡ä»¶è®¾ç½®.</p>
</li>
<li><p>ç”¨æˆ·åŒº</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">"cppcheck.cppcheckPath": null,</div><div class="line">"cppcheck.standard": [</div><div class="line">      "c99",</div><div class="line">  ],</div><div class="line">"cppcheck.language": "c",</div></pre></td></tr></table></figure>
<ul>
<li>cppcheck.cppcheckPath : nullæ—¶,ä¼šä½¿ç”¨ cppcheck å‘½ä»¤æŒ‡å‘çš„ç‰ˆæœ¬,ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰è·¯å¾„.</li>
<li>cppcheck.standard : cppcheck æ£€æŸ¥æ—¶ c/c++ç‰ˆæœ¬,å†å²åŸå› æˆ‘è¿™é‡Œè¿˜æ˜¯ c99.</li>
<li>cppcheck.language : å‰ç½®æ£€æŸ¥æ—¶ ä»¥ c æˆ–è€… c++ æ£€æŸ¥.æˆ‘è¿™é‡Œéƒ½æ˜¯ c é¡¹ç›®,å¡«å†™ c .</li>
</ul>
</li>
<li><p>å·¥ä½œåŒº</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">"cppcheck.includePaths": [</div><div class="line">  "$&#123;cwd&#125;",</div><div class="line">  "/usr/include",</div><div class="line">  "/usr/include/c++/5",</div><div class="line">  "/usr/include/x86_64-linux-gnu/c++/5",</div><div class="line">  "/usr/include/c++/5/backward",</div><div class="line">  "/usr/lib/gcc/x86_64-linux-gnu/5/include",</div><div class="line">  "/usr/local/include",</div><div class="line">  "/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed",</div><div class="line">  "/usr/include/x86_64-linux-gnu",</div><div class="line">  "/usr/include",</div><div class="line">  "$&#123;workspaceRoot&#125;",</div><div class="line">  "$&#123;workspaceRoot&#125;/Include",</div><div class="line">  "$&#123;workspaceRoot&#125;/Code/APP/Code/Libs/Cjson/Include"</div><div class="line">],</div><div class="line">"cppcheck.force": true</div></pre></td></tr></table></figure>
<ul>
<li>cppcheck.includePaths : å¤´æ–‡ä»¶è·¯å¾„,è¿™é‡Œæ²¡æœ‰ <code>-I</code> ,ç›´æ¥è¾“å…¥è·¯å¾„å³å¯.æ”¯æŒç›´æ¥å’Œé—´æ¥è·¯å¾„.</li>
<li>cppcheck.force : å¼ºåˆ¶æ£€æŸ¥æ‰€æœ‰æšä¸¾æ‰€æœ‰å¯èƒ½é…ç½®,æœ‰å¤šä¸ªé¡¹ç›®åŒæ—¶åœ¨å·¥ä½œ,è¿™é‡Œæˆ‘æ”¾åˆ°å·¥ä½œåŒºäº†,å¦‚æœä»£ç é‡å°çš„å·¥ç¨‹å»ºè®®æ”¾åœ¨ç”¨æˆ·åŒº,ä½œä¸ºå…¨å±€é…ç½®.</li>
</ul>
</li>
</ul>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ul>
<li><p>å·¦ä¸‹è§’,ç‚¹å‡»cppcheck å¦‚å›¾<br><img src="https://i.loli.net/2018/03/23/5ab4f7f51181a.png" alt="cppcheck.png"></p>
</li>
<li><p>3ä¸ªé€‰æ‹©</p>
<ul>
<li>åˆ†æå½“å‰æ‰“å¼€æ–‡ä»¶</li>
<li>åˆ†æå·¥ä½œåŒºæ‰€æœ‰æ–‡ä»¶</li>
<li>å…¶ä»–â€¦æ²¡ç”¨è¿‡..</li>
</ul>
</li>
</ul>
<h2 id="å‡½æ•°è·³è½¬"><a href="#å‡½æ•°è·³è½¬" class="headerlink" title="å‡½æ•°è·³è½¬"></a>å‡½æ•°è·³è½¬</h2><ul>
<li>ç›´æ¥ä½¿ç”¨å¾®è½¯çš„ C/C++ for Visual Studio Code å³å¯.</li>
<li>å®˜æ–¹çš„å¾ˆå¼ºå¤§,å¸¦ä»£ç è¡¥å…¨å’Œè¯­æ³•æ£€æŸ¥,,å¯æƒœè¡¨ç°ä¸å¤ªå¥½.å‡½æ•°è·³è½¬å¾ˆå¥½ç”¨.</li>
</ul>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><ul>
<li><p>æœç´¢å®‰è£… C/C++ for Visual Studio Code</p>
</li>
<li><p>ä¸ç”¨å®‰è£…åç«¯äº†,å¯¹åº”çš„é…ç½®å°±ç¨å¾®éº»çƒ¦äº†.</p>
</li>
<li><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ æŸ¥æ‰¾ .vscodeæ–‡ä»¶å¤¹,è¿›å…¥.åº”è¯¥ç”± setting.jsonæ–‡ä»¶,å¯¹åº”å·¥ä½œåŒºè®¾ç½®.</p>
</li>
<li><p>æ–°å»ºc_cpp_properties.json ,å†™å…¥ä»¥ä¸‹å†…å®¹.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"configurations"</span>: [</div><div class="line">      &#123;</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"Mac"</span>,</div><div class="line">          <span class="attr">"includePath"</span>: [</div><div class="line">              <span class="string">"/usr/include"</span>,</div><div class="line">              <span class="string">"/usr/local/include"</span>,</div><div class="line">              <span class="string">"$&#123;workspaceRoot&#125;"</span></div><div class="line">          ],</div><div class="line">          <span class="attr">"defines"</span>: [],</div><div class="line">          <span class="attr">"intelliSenseMode"</span>: <span class="string">"clang-x64"</span>,</div><div class="line">          <span class="attr">"browse"</span>: &#123;</div><div class="line">              <span class="attr">"path"</span>: [</div><div class="line">                  <span class="string">"/usr/include"</span>,</div><div class="line">                  <span class="string">"/usr/local/include"</span>,</div><div class="line">                  <span class="string">"$&#123;workspaceRoot&#125;"</span></div><div class="line">              ],</div><div class="line">              <span class="attr">"limitSymbolsToIncludedHeaders"</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">"databaseFilename"</span>: <span class="string">""</span></div><div class="line">          &#125;,</div><div class="line">          <span class="attr">"macFrameworkPath"</span>: [</div><div class="line">              <span class="string">"/System/Library/Frameworks"</span>,</div><div class="line">              <span class="string">"/Library/Frameworks"</span></div><div class="line">          ]</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"Linux"</span>,</div><div class="line">          <span class="attr">"includePath"</span>: [</div><div class="line">              <span class="string">"/usr/include/c++/5"</span>,</div><div class="line">              <span class="string">"/usr/include/x86_64-linux-gnu/c++/5"</span>,</div><div class="line">              <span class="string">"/usr/include/c++/5/backward"</span>,</div><div class="line">              <span class="string">"/usr/lib/gcc/x86_64-linux-gnu/5/include"</span>,</div><div class="line">              <span class="string">"/usr/local/include"</span>,</div><div class="line">              <span class="string">"/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed"</span>,</div><div class="line">              <span class="string">"/usr/include/x86_64-linux-gnu"</span>,</div><div class="line">              <span class="string">"/usr/include"</span>,</div><div class="line">              <span class="string">"$&#123;workspaceRoot&#125;"</span>,</div><div class="line">              <span class="string">"$&#123;workspaceRoot&#125;/Include"</span></div><div class="line">          ],</div><div class="line">          <span class="attr">"defines"</span>: [],</div><div class="line">          <span class="attr">"intelliSenseMode"</span>: <span class="string">"clang-x64"</span>,</div><div class="line">          <span class="attr">"browse"</span>: &#123;</div><div class="line">              <span class="attr">"path"</span>: [</div><div class="line">                  <span class="string">"/usr/include/c++/5"</span>,</div><div class="line">                  <span class="string">"/usr/include/x86_64-linux-gnu/c++/5"</span>,</div><div class="line">                  <span class="string">"/usr/include/c++/5/backward"</span>,</div><div class="line">                  <span class="string">"/usr/lib/gcc/x86_64-linux-gnu/5/include"</span>,</div><div class="line">                  <span class="string">"/usr/local/include"</span>,</div><div class="line">                  <span class="string">"/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed"</span>,</div><div class="line">                  <span class="string">"/usr/include/x86_64-linux-gnu"</span>,</div><div class="line">                  <span class="string">"/usr/include"</span>,</div><div class="line">                  <span class="string">"$&#123;workspaceRoot&#125;"</span>,</div><div class="line">                  <span class="string">"$&#123;workspaceRoot&#125;/Include"</span></div><div class="line">              ],</div><div class="line">              <span class="attr">"limitSymbolsToIncludedHeaders"</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">"databaseFilename"</span>: <span class="string">""</span></div><div class="line">          &#125;</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"Win32"</span>,</div><div class="line">          <span class="attr">"includePath"</span>: [</div><div class="line">              <span class="string">"C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/include"</span>,</div><div class="line">              <span class="string">"$&#123;workspaceRoot&#125;"</span></div><div class="line">          ],</div><div class="line">          <span class="attr">"defines"</span>: [</div><div class="line">              <span class="string">"_DEBUG"</span>,</div><div class="line">              <span class="string">"UNICODE"</span>,</div><div class="line">              <span class="string">"_UNICODE"</span></div><div class="line">          ],</div><div class="line">          <span class="attr">"intelliSenseMode"</span>: <span class="string">"msvc-x64"</span>,</div><div class="line">          <span class="attr">"browse"</span>: &#123;</div><div class="line">              <span class="attr">"path"</span>: [</div><div class="line">                  <span class="string">"C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/include/*"</span>,</div><div class="line">                  <span class="string">"$&#123;workspaceRoot&#125;"</span></div><div class="line">              ],</div><div class="line">              <span class="attr">"limitSymbolsToIncludedHeaders"</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">"databaseFilename"</span>: <span class="string">""</span></div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">  ],</div><div class="line">  <span class="attr">"version"</span>: <span class="number">3</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åªå…³æ³¨linuxä¸‹çš„è®¾ç½®,å°†å¸¸ç”¨å¤´æ–‡ä»¶è·¯å¾„æ·»åŠ åˆ° <code>includePath</code> å’Œ <code>&quot;browse&quot;-&gt;&quot;path&quot;</code>ä¸‹.<br><strong>å¯ä»¥ä¸ç”¨æ‰‹å·¥æ·»åŠ </strong>,é¡¹ç›®æ–‡ä»¶ä¸‹,å…‰æ ‡ æŒ‡å‘æç¤ºæ‰¾ä¸åˆ°çš„ include å¤´æ–‡ä»¶ ,ä¼šæœ‰ ğŸ’¡ æç¤ºæ·»åŠ è·¯å¾„åˆ°pathä¸­,æå®š!</p>
</li>
<li><p>è‡³æ­¤ä»£ç è·³è½¬åº”è¯¥å¯ä»¥ä½¿ç”¨äº†.</p>
<ul>
<li>ctrl æ‚¬æµ®æç¤º,ç‚¹å‡»è·³è½¬.è¿˜æœ‰å…¶ä»–å¿«æ·é”®çˆ½ç¿»å¤©.</li>
</ul>
</li>
</ul>
<h3 id="ç‰¹åˆ«æé†’"><a href="#ç‰¹åˆ«æé†’" class="headerlink" title="ç‰¹åˆ«æé†’"></a>ç‰¹åˆ«æé†’</h3><ul>
<li><p>ä¸Šæ–‡æåˆ° C/C++ for Visual Studio Code ä¼šä¸ clang çš„ä»£ç æç¤ºå’Œè¯­æ³•æ£€æŸ¥å†²çª,æ‰€ä»¥ä¸€å®šè¦è®°å¾—åœ¨ç”¨æˆ·åŒºè®¾ç½®å…³é—­è‡ªå¸¦.</p>
</li>
<li><p>ç”¨æˆ·åŒºè®¾ç½®</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">"C_Cpp.autocomplete": "Disabled",</div><div class="line">"C_Cpp.errorSquiggles": "Disabled",</div><div class="line">"C_Cpp.formatting": "Disabled",</div></pre></td></tr></table></figure>
<ul>
<li>å…³é—­è‡ªåŠ¨è¡¥å…¨ é”™è¯¯æç¤º å’Œ ä»£ç æ ¼å¼åŒ–.</li>
</ul>
</li>
</ul>
<h2 id="ä»£ç æ ¼å¼åŒ–"><a href="#ä»£ç æ ¼å¼åŒ–" class="headerlink" title="ä»£ç æ ¼å¼åŒ–"></a>ä»£ç æ ¼å¼åŒ–</h2><ul>
<li>ä½¿ç”¨clang-5.0 é…å¥—çš„ clang-format-5.0å³å¯.</li>
<li>clang-formatå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶å¾ˆå¤šæ ¼å¼åŒ–ç»†èŠ‚,æ¨èä½¿ç”¨.</li>
</ul>
<h3 id="å®‰è£…clang-format"><a href="#å®‰è£…clang-format" class="headerlink" title="å®‰è£…clang-format"></a>å®‰è£…clang-format</h3><ul>
<li><p>è¿›è¡Œè¿‡ å®‰è£…clang-5.0 å,æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install clang-format-5.0</div></pre></td></tr></table></figure>
</li>
<li><p>ubuntuå®˜æ–¹æº ä¸º3.8ç‰ˆæœ¬,ä¹Ÿå¯ä»¥å®‰è£…ä½¿ç”¨.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install clang-format</div></pre></td></tr></table></figure>
</li>
<li><p>æœ€å¥½ä¸clangç‰ˆæœ¬ä¿æŒä¸€è‡´.</p>
</li>
</ul>
<h3 id="clang-formaté…ç½®"><a href="#clang-formaté…ç½®" class="headerlink" title="clang-formaté…ç½®"></a>clang-formaté…ç½®</h3><ul>
<li><p>è¿™é‡Œä½¿ç”¨é…ç½®æ–‡ä»¶å½¢å¼è¯¦ç»†è‡ªå®šä¹‰æ ¼å¼åŒ–.(ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è‡ªå¸¦çš„å‡ ç§æ ¼å¼,åŒæ ·å¤Ÿç”¨)</p>
</li>
<li><p>ç”¨æˆ·åŒºè®¾ç½®</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">"clang-format.assumeFilename": ".clang-format",</div><div class="line">"clang-format.executable": "clang-format-5.0",</div></pre></td></tr></table></figure>
<ul>
<li>clang-format.assumeFilename : åˆ¶å®šæ ¼å¼åŒ–çš„æ ‡å‡†,è¿™é‡Œæ˜¯é€šè¿‡æ–‡ä»¶ .clang-format æ¥é…ç½®.è¿˜å¯ä»¥ç•™ç©ºé€šè¿‡<code>clang-format.fallbackStyle</code>æŒ‡å®š LLVM, Google, Chromium, Mozilla, WebKit ä¹‹ä¸€ä¸ºæ ¼å¼åŒ–æ ‡å‡†.</li>
<li>clang-format.executable : clang-formatè·¯å¾„,è¿™é‡Œå®‰è£…çš„æ˜¯ clang-format-5.0.</li>
</ul>
</li>
<li><p>æŒ‡å®šé€šè¿‡.clang-formatæ–‡ä»¶ä¸ºæ ¼å¼åŒ–æ ‡å‡†å,åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ æ–°å»º .clang-format æ–‡ä»¶.</p>
</li>
<li><p>æ¯ä¸ªç‰ˆæœ¬çš„ clang-format éƒ½æœ‰å¯¹åº”çš„è¯¦ç»†å®šåˆ¶è¯´æ˜.5.0ç‰ˆæœ¬<a href="http://releases.llvm.org/5.0.0/tools/clang/docs/ClangFormatStyleOptions.html" target="_blank" rel="external">å¯¹åº”è¯´æ˜</a></p>
</li>
<li><p>å®˜æ–¹æœ‰å‡ ä¸ªé£æ ¼å®ä¾‹:</p>
<ul>
<li><p>Linux Kernel style</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">BasedOnStyle: LLVM</div><div class="line">IndentWidth: 8</div><div class="line">UseTab: Always</div><div class="line">BreakBeforeBraces: Linux</div><div class="line">AllowShortIfStatementsOnASingleLine: <span class="literal">false</span></div><div class="line">IndentCaseLabels: <span class="literal">false</span></div></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">        <span class="keyword">switch</span> (x) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">        <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                do_something();</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">                do_something_else();</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (condition)</div><div class="line">                do_something_completely_different();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (x == y) &#123;</div><div class="line">                q();</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; y) &#123;</div><div class="line">                w();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">                r();</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Visual Studio style</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">UseTab: Never</div><div class="line">IndentWidth: 4</div><div class="line">BreakBeforeBraces: Allman</div><div class="line">AllowShortIfStatementsOnASingleLine: <span class="literal">false</span></div><div class="line">IndentCaseLabels: <span class="literal">false</span></div><div class="line">ColumnLimit: 0</div></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">switch</span> (suffix)</div><div class="line">    &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">        do_something();</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">        do_something_else();</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (condition)</div><div class="line">        do_somthing_completely_different();</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (x == y)</div><div class="line">    &#123;</div><div class="line">        q();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; y)</div><div class="line">    &#123;</div><div class="line">        w();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        r();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æœ€åæ˜¯æˆ‘çš„è‡ªå®šä¹‰é…ç½®(ä¸­æ–‡è¯´æ˜),ä»ç½‘ä¸Šæ”¶é›†+å®˜æ–¹æ–‡æ¡£.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># é…ç½®ä»¥ä»€ä¹ˆè¯­è¨€formatå½“å‰æ–‡ä»¶</span></div><div class="line"><span class="comment"># CPP: C, C++, Objective-C, ObjectiveC++;</span></div><div class="line">Language: Cpp</div><div class="line"></div><div class="line"><span class="comment">#åœ¨llvmçš„é…ç½®åŸºç¡€ä¸ŠåŠ å®šåˆ¶é…ç½®</span></div><div class="line">BasedOnStyle: LLVM </div><div class="line"></div><div class="line"><span class="comment">#someLongFunction(argument1,</span></div><div class="line"><span class="comment">#                 argument2);</span></div><div class="line">AlignAfterOpenBracket: Align</div><div class="line"></div><div class="line"><span class="comment"># true: è¡¨ç¤ºå¯¹é½è¿ç»­çš„ç´§è·Ÿæ³¨é‡Šï¼ˆè¿ç»­è¡Œä½¿ç”¨åŒæ–œæ æ³¨é‡Šï¼ŒåŒ…æ‹¬åœ¨å‡½æ•°ä½“å†…ï¼‰ï¼Œå¤šç”¨äºModelå®šä¹‰ã€propertyè¯´æ˜ã€ç§æœ‰æˆå‘˜å˜é‡è¯´æ˜ï¼›</span></div><div class="line">AlignTrailingComments: <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#å¯¹é½è¿ç»­èµ‹å€¼è¿ç®—ç¬¦</span></div><div class="line">AlignConsecutiveAssignments : <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#è‹¥trueï¼Œåˆ™å¯¹é½è¿ç»­å£°æ˜.</span></div><div class="line">AlignConsecutiveDeclarations : <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#æ¢è¡Œç¬¦é€‰é¡¹ å·¦å¯¹é½</span></div><div class="line">AlignEscapedNewlines: Left</div><div class="line"></div><div class="line"><span class="comment">#æ°´å¹³å¯¹é½äºŒç›®è¿ç®—ç¬¦å’Œä¸‰ç›®è¿ç®—ç¬¦çš„æ“ä½œæ•°</span></div><div class="line">AlignOperands : <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment"># trueï¼šå…è®¸è¾ƒçŸ­(ä¸€èˆ¬åªæœ‰ä¸€è¡Œï¼Œå¤šä¸ºå†…è”Cå‡½æ•°)çš„Functionåœ¨ä¸€è¡Œæ˜¾ç¤º,å¦‚â€œint f() &#123; return 1; &#125;â€ï¼Œè§„å®šè®¾ä¸ºfalseï¼›</span></div><div class="line">AllowShortFunctionsOnASingleLine: <span class="literal">false</span></div><div class="line"></div><div class="line"><span class="comment">#true: å…è®¸è¾ƒçŸ­çš„ifåˆ¤æ–­åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå¦åˆ™æ¢è¡Œæ˜¾ç¤ºï¼ˆæ²¡æœ‰è‡ªåŠ¨åŠ èŠ±æ‹¬å·ï¼‰ï¼›</span></div><div class="line">AllowShortIfStatementsOnASingleLine: <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#??? true å…è®¸è¾ƒçŸ­çš„å¾ªç¯ï¼ˆwhileã€forï¼‰åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå¦åˆ™æ¢è¡Œæ˜¾ç¤ºï¼ˆæ²¡æœ‰è‡ªåŠ¨åŠ èŠ±æ‹¬å·ï¼‰ï¼›</span></div><div class="line">AllowShortLoopsOnASingleLine: <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#trueï¼šå…è®¸åªæœ‰Breakè¯­å¥çš„caseæ ‡ç­¾åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œfalseï¼šä¸å…è®¸ï¼ˆè‡ªåŠ¨æ¢è¡Œæ˜¾ç¤ºï¼‰, è§„èŒƒä¸ºä¸å…è®¸</span></div><div class="line">AllowShortCaseLabelsOnASingleLine: <span class="literal">false</span></div><div class="line"></div><div class="line"><span class="comment">#trueï¼šå…è®¸å°†è¾ƒé•¿çš„literalï¼Stringå­—ç¬¦ä¸²åˆ†å‰²æˆå¤šè¡Œæ˜¾ç¤ºï¼›</span></div><div class="line">AlwaysBreakBeforeMultilineStrings: <span class="literal">false</span></div><div class="line"></div><div class="line">BreakBeforeBraces: Allman</div><div class="line"></div><div class="line"><span class="comment">#è¿ç»­è¡Œçš„ç¼©è¿›é•¿åº¦ï¼ˆé€šå¸¸ç¼©è¿›ï¼‹è®¾ç½®å€¼ï¼‰ï¼Œ ä¸€èˆ¬ç”¨äºé¦–å‚æ•°å°äºåç»­å‚æ•°çš„methodåå­—ã€å¤šè¡Œçš„Stringï¼literals</span></div><div class="line">ContinuationIndentWidth: 4</div><div class="line"></div><div class="line"><span class="comment">#è®¾ç½®ä»£ç çš„æœ€å¤§é•¿åº¦ï¼ˆå›è‡ªåŠ¨å¯¹ä»£ç é•¿åº¦è¿›è¡Œæ¢è¡Œæ˜¾ç¤ºï¼Œå¹¶å¯¹æ³¨é‡Šè‡ªåŠ¨æ¢è¡Œï¼›å½“é•¿åº¦åŠ å¤§çš„æ—¶å€™ï¼ŒAllowAllParametersOfDeclarationOnNextLineï¼trueå¤±æ•ˆï¼‰</span></div><div class="line">ColumnLimit: 100</div><div class="line"></div><div class="line"><span class="comment">#å¦‚æœä¸ºçœŸï¼ˆtrueï¼‰, åˆ†ææœ€å¸¸è§çš„æ ¼å¼åŒ–æ–‡ä»¶ä¸­â€œ&amp;â€å’Œâ€œ\*â€çš„å¯¹é½æ–¹å¼ã€‚pointeralignmentåˆ™ä»…ä½œä¸ºåå¤‡ã€‚</span></div><div class="line">DerivePointerAlignment: <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#true: å°†switchçš„caseæ ‡ç­¾ä»switchè¡¨è¾¾å¼ç¼©è¿›ä¸€çº§ï¼›å¦åˆ™å°†switchè¡¨è¾¾å¼å¯¹é½ï¼›</span></div><div class="line">IndentCaseLabels: <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#ç¼©è¿›å­—ç¬¦é•¿åº¦</span></div><div class="line">IndentWidth:     4</div><div class="line"></div><div class="line"><span class="comment">#æ‰€æœ‰ä½ç½®çš„æŒ‡é’ˆæ˜Ÿå·ï¼ˆï¼Šï¼‰æˆ–å–åœ°å€ç¬¦å·ï¼ˆ&amp;ï¼‰å¯¹é½ä½ç½®ï¼šLeftã€Middleã€Rightï¼Œå½“ä½œä¸ºä¹˜å·æ—¶å€™å±…ä¸­ ï¼ˆè§„èŒƒä¸ºRightï¼‰</span></div><div class="line">PointerAlignment: Right</div><div class="line"></div><div class="line"><span class="comment">#æ•´ä¸ªæ–‡ä»¶ä»»æ„ä½ç½®æœ€å¤§èƒ½å¤Ÿä¿æŒçš„è¿ç»­ç©ºè¡Œæ•°ï¼ˆå¦‚æœè¶…è¿‡MAXå€¼ï¼Œå‡å°‘åˆ°Maxè¡Œï¼Œå°äºä¸ç®¡ï¼›ï¼‰</span></div><div class="line">MaxEmptyLinesToKeep: 2</div><div class="line"></div><div class="line"><span class="comment">#true:åœ¨èµ‹å€¼è¿ç®—ç¬¦ä¹‹å‰æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™å»æ‰ï¼›(è§„èŒƒä¸ºæ·»åŠ )</span></div><div class="line">SpaceBeforeAssignmentOperators: <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">#æ˜¯å¦åœ¨æ‹¬å·ä¹‹å‰æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼ŒNeverï¼šä»»ä½•æƒ…å†µéƒ½ä¸æ·»åŠ ï¼›ControlStatementsï¼šåªåœ¨æ§åˆ¶ç»“æ„ï¼ˆforã€ifã€whileï¼‰çš„åœ°æ–¹æ·»åŠ ç©ºæ ¼ï¼›AlWays: é™¤å¼€åœ¨functionï¼likeçš„çš„å®å®šä¹‰ä¹‹å¤–åœ¨ä»»ä½•åœ°æ–¹éƒ½éœ€è¦æ·»åŠ ç©ºæ ¼ï¼›ï¼ˆè§„èŒƒä¸ºControlStatementsï¼‰</span></div><div class="line">SpaceBeforeParens: ControlStatements</div><div class="line"></div><div class="line"><span class="comment">#åœ¨ç´§è·Ÿæ³¨é‡Šä¹‹å‰æ‰€ç•™ç©ºæ ¼æ•°ï¼Œä¸€èˆ¬å»ºè®®ä¸º2ä¸ªç©ºæ ¼</span></div><div class="line">SpacesBeforeTrailingComments: 2</div><div class="line"></div><div class="line">UseTab: Never</div><div class="line"></div><div class="line"><span class="comment"># æ ¼å¼å…¼å®¹C++11</span></div><div class="line">Standard: Cpp11</div><div class="line"></div><div class="line"><span class="comment">#å½“å‰é…ç½®ç”Ÿæ•ˆå¼€å…³ï¼Œtrueï¼šæ‰“å¼€ï¼Œfalseï¼šå…³é—­</span></div><div class="line">DisableFormat: <span class="literal">false</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="ç¼–è¯‘-è°ƒè¯•"><a href="#ç¼–è¯‘-è°ƒè¯•" class="headerlink" title="ç¼–è¯‘/è°ƒè¯•"></a>ç¼–è¯‘/è°ƒè¯•</h1><ul>
<li>å¾…ç»­</li>
</ul>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><ul>
<li>è‡³æ­¤,vscode ç¼–å†™cè¯­è¨€çš„ä½“éªŒå°±ååˆ†å®Œæ•´äº†.è·¨å¹³å°ä¸€è‡´åŒ–çš„ä½“éªŒçœŸçš„å¾ˆå¥½.æ¨èè¿˜åœ¨è‹¦æ¼ c ç¼–è¾‘å™¨çš„å¯ä»¥ä¸€è¯•.</li>
<li>ä¸‹ä¸€ç¯‡vscodeçš„ python é…ç½®.</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;ç¯å¢ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vscode 1.20.x&lt;/li&gt;
&lt;li&gt;ubuntu&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;ul
    
    </summary>
    
      <category term="linuxç¬”è®°" scheme="http://yoursite.com/categories/linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•é¢˜æ±‡æ€»â€”java</title>
    <link href="http://yoursite.com/2018/03/07/%E9%9D%A2%E8%AF%95%E6%B1%87%E6%80%BB-java/"/>
    <id>http://yoursite.com/2018/03/07/é¢è¯•æ±‡æ€»-java/</id>
    <published>2018-03-07T04:00:00.000Z</published>
    <updated>2018-03-08T15:24:02.524Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>èµ„æ–™æ¥æºå¦‚ä¸‹</p>
<blockquote>
<p><a href="https://github.com/AweiLoveAndroid/CommonDevKnowledge" target="_blank" rel="external">å¸¸ç”¨çš„Androidå¼€å‘çš„ä¸€äº›æŠ€èƒ½ç‚¹ä»¥åŠBATå…¬å¸é¢è¯•é¢˜æ±‡é›†</a></p>
</blockquote>
<ul>
<li><p>æ„Ÿè§‰è‡ªå·±ç™½å­¦äº†////ğŸ˜‚////</p>
</li>
<li><p>ä¸€é“ä¸€é“çš„æ‰¾ç­”æ¡ˆ..</p>
</li>
</ul>
<hr>
<h1 id="javaé¢è¯•é¢˜æ±‡æ€»"><a href="#javaé¢è¯•é¢˜æ±‡æ€»" class="headerlink" title="javaé¢è¯•é¢˜æ±‡æ€»"></a>javaé¢è¯•é¢˜æ±‡æ€»</h1><p>ç†Ÿç»ƒæŒæ¡javaæ˜¯å¾ˆå…³é”®çš„ï¼Œå¤§å…¬å¸ä¸ä»…ä»…è¦æ±‚ä½ ä¼šä½¿ç”¨å‡ ä¸ªapiï¼Œæ›´å¤šçš„æ˜¯è¦ä½ ç†Ÿæ‚‰æºç å®ç°åŸç†ï¼Œç”šè‡³è¦ä½ çŸ¥é“æœ‰å“ªäº›ä¸è¶³ï¼Œæ€ä¹ˆæ”¹è¿›ï¼Œè¿˜æœ‰ä¸€äº›javaæœ‰å…³çš„ä¸€äº›ç®—æ³•ï¼Œè®¾è®¡æ¨¡å¼ç­‰ç­‰ã€‚</p>
<h2 id="ä¸€ã€javaåŸºç¡€é¢è¯•çŸ¥è¯†ç‚¹"><a href="#ä¸€ã€javaåŸºç¡€é¢è¯•çŸ¥è¯†ç‚¹" class="headerlink" title="ä¸€ã€javaåŸºç¡€é¢è¯•çŸ¥è¯†ç‚¹"></a>ä¸€ã€javaåŸºç¡€é¢è¯•çŸ¥è¯†ç‚¹</h2><ul>
<li><p>javaä¸­==å’Œequalså’ŒhashCodeçš„åŒºåˆ«</p>
<ul>
<li>å…³ç³»æ“ä½œç¬¦ ==ï¼š<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹ï¼Œ== åˆ¤æ–­çš„æ˜¯å·¦å³ä¸¤è¾¹æ“ä½œæ•°çš„å€¼æ˜¯å¦ç›¸ç­‰</li>
<li>å¼•ç”¨æ•°æ®ç±»å‹ï¼Œ== åˆ¤æ–­çš„æ˜¯å·¦å³ä¸¤è¾¹æ“ä½œæ•°çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒ,æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</li>
</ul>
</li>
<li>equalsæ–¹æ³• åŸºç±»Objectä¸­çš„å®ä¾‹æ–¹æ³•<ul>
<li>æœ¬è´¨æ˜¯æœŸæœ›æ¯”è¾ƒ å¯¹è±¡çš„å†…å®¹</li>
</ul>
</li>
<li>hashCodeæ–¹æ³•,åŸºç±»Objectä¸­çš„å®ä¾‹æ–¹æ³•,è¿”å›ä¸€ä¸ªintç±»å‹ hashå€¼.<ul>
<li>é‡å†™ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•,å¿…é¡»ä¿è¯hashCodeä¸equalsçš„ç»“æœä¸€è‡´æ€§,å†…å®¹ç›¸åŒçš„å¯¹è±¡,hashå€¼ç›¸åŒ,æ¯”è¾ƒè¿”å› true</li>
<li>hashå€¼ä¸ºç¡®å®šå¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­ä½ç½®çš„æ ‡è¯†.</li>
</ul>
</li>
</ul>
</li>
<li><p>intã€charã€longå„å å¤šå°‘å­—èŠ‚æ•°</p>
<ul>
<li>int 4å­—èŠ‚</li>
<li>char 2ä¸ªå­—èŠ‚</li>
<li>long 8ä¸ªå­—èŠ‚</li>
</ul>
</li>
<li><p>intä¸integerçš„åŒºåˆ«</p>
<ul>
<li>intä¸ºjavaçš„å†…ç½®åŸºæœ¬ç±»å‹</li>
<li>integer ä¸ºintçš„åŒ…è£…ç±»</li>
</ul>
</li>
<li><p>æ¢æ¢å¯¹javaå¤šæ€çš„ç†è§£</p>
<ul>
<li>ç±»ä¹‹é—´å­˜åœ¨ç»§æ‰¿å…³ç³»,å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»ç›¸åŒçš„æ–¹æ³•å.</li>
<li>è°ƒç”¨æ—¶ å­ç±»ç›´æ¥è°ƒç”¨è‡ªå·±å®ç°çš„åŒå‘½æ–¹æ³•.</li>
</ul>
</li>
<li><p>Stringã€StringBufferã€StringBuilderåŒºåˆ«</p>
<ul>
<li>String æ˜¯ä¸å¯å˜å¯¹è±¡,æ‰€æœ‰æ“ä½œéƒ½ä¼šç”Ÿæˆæ–°çš„Stringå¯¹è±¡</li>
<li>StringBuffer StringBuilder ä¸ºå¯å˜å¯¹è±¡.<ul>
<li>StringBufferd çº¿ç¨‹å®‰å…¨</li>
<li>StringBuilder çº¿ç¨‹ä¸å®‰å…¨,ä½†æ˜¯å•çº¿ç¨‹æ€§èƒ½å¥½</li>
</ul>
</li>
</ul>
</li>
<li><p>ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»ï¼Ÿå†…éƒ¨ç±»çš„ä½œç”¨</p>
<ul>
<li><p>å†…éƒ¨ç±»ä¸»è¦å®šä¹‰åœ¨ç±»çš„å†…éƒ¨</p>
<ul>
<li>æˆå‘˜å†…éƒ¨ç±»<ul>
<li>ä½œä¸ºå¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜å’Œæ–¹æ³•ï¼Œå³ä½¿æ˜¯private</li>
<li>å¤–éƒ¨ç±»è¦è®¿é—®å†…éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡æˆ–æ–¹æ³•ï¼Œåˆ™éœ€è¦é€šè¿‡å†…éƒ¨ç±»çš„å¯¹è±¡æ¥è·å–</li>
<li>æˆå‘˜å†…éƒ¨ç±»ä¸èƒ½å«æœ‰ static çš„å˜é‡å’Œæ–¹æ³•</li>
</ul>
</li>
<li>å±€éƒ¨å†…éƒ¨ç±» <ul>
<li>æŒ‡å†…éƒ¨ç±»å®šä¹‰åœ¨æ–¹æ³•å’Œä½œç”¨åŸŸå†…ï¼Œå°±æ˜¯åœ¨å¤–éƒ¨ç±»çš„æ–¹æ³•ä¸­å®šä¹‰çš„å†…éƒ¨ç±»å°±æ˜¯å±€éƒ¨å†…éƒ¨ç±»</li>
<li>å±€éƒ¨å†…éƒ¨ç±»ç”±äºæ˜¯åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„ï¼Œå…¶ä½œç”¨åŸŸä¹Ÿæ˜¯åœ¨æ–¹æ³•å†…éƒ¨ä¸­ï¼Œæ–¹æ³•å¤–æ‰§è¡Œåˆ°ï¼Œåˆ™è¢«JVMå›æ”¶ã€‚å±€éƒ¨å†…éƒ¨ç±»çš„å®ä¾‹åŒ–ä¹Ÿåªèƒ½åœ¨æ–¹æ³•ä¸­è¿›è¡Œ</li>
<li>å±€éƒ¨å†…éƒ¨ç±»æ–¹æ³•ä¸­æƒ³è¦ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œè¯¥å˜é‡å¿…é¡»å£°æ˜ä¸º final ç±»å‹</li>
</ul>
</li>
<li>é™æ€å†…éƒ¨ç±»<ul>
<li>ä¿®é¥°ä¸ºstaticçš„å†…éƒ¨ç±»</li>
<li>ç›´æ¥å¼•ç”¨ <code>å¤–éƒ¨ç±».å†…éƒ¨ç±»</code></li>
<li>å®ä¾‹åŒ–: <code>å¤–éƒ¨ç±».å†…éƒ¨ç±» å¯¹è±¡ = new å¤–éƒ¨ç±».å†…éƒ¨ç±»()</code></li>
</ul>
</li>
<li>åŒ¿åå†…éƒ¨ç±»<ul>
<li>å±€éƒ¨å†…éƒ¨ç±»ä¸€ç§</li>
<li>æ²¡æœ‰åç§°,åªèƒ½ä½¿ç”¨newå£°æ˜<code>new &lt;ç±»æˆ–æ¥å£&gt; &lt;ç±»çš„ä¸»ä½“&gt;</code></li>
<li>ä½¿ç”¨æœ€å¤šçš„å®ä¾‹(åˆ›å»ºçº¿ç¨‹):<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        Thread t = <span class="keyword">new</span> Thread() &#123;</div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</div><div class="line">                    System.out.print(i + <span class="string">" "</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        t.start();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å†…éƒ¨ç±»èƒ½ç‹¬ç«‹åœ°ç»§æ‰¿è‡ªä¸€ä¸ªç±»ï¼ˆæ¥å£çš„ï¼‰å®ç°ï¼Œæ‰€ä»¥æ— è®ºå¤–å›´ç±»æ˜¯å¦å·²ç»ç»§æ‰¿äº†æŸä¸ªï¼ˆæ¥å£çš„ï¼‰å®ç°ï¼Œå¯¹äºå†…éƒ¨ç±»éƒ½æ²¡æœ‰å½±å“ã€‚å†…éƒ¨ç±»ä½¿å¾—å¤šé‡ç»§æ‰¿çš„è§£å†³æ–¹æ¡ˆå˜å¾—å®Œæ•´ã€‚æ¥å£è§£å†³äº†éƒ¨åˆ†é—®é¢˜ï¼Œè€Œå†…éƒ¨ç±»æœ‰æ•ˆåœ°å®ç°äº†â€œå¤šé‡ç»§æ‰¿â€ã€‚</p>
</li>
</ul>
</li>
<li><p>æŠ½è±¡ç±»å’Œæ¥å£åŒºåˆ«</p>
<ul>
<li>æŠ½è±¡ç±»æ˜¯å¯¹äº‹ç‰©çš„æŠ½è±¡,æ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡</li>
</ul>
</li>
<li><p>æŠ½è±¡ç±»çš„æ„ä¹‰</p>
<ul>
<li>æ›´åˆ©äºä»£ç çš„ç»´æŠ¤å’Œé‡ç”¨</li>
</ul>
</li>
<li><p>æŠ½è±¡ç±»ä¸æ¥å£çš„åº”ç”¨åœºæ™¯</p>
<ul>
<li>æ¥å£æ˜¯ä¸ºäº†ä½¿ç”¨å®ƒè§„èŒƒçš„æŸä¸€ä¸ªè¡Œä¸º</li>
<li>æŠ½è±¡ç±»æ˜¯ä¸ºäº†ä½¿ç”¨è¿™ä¸ªç±»å±æ€§å’Œè¡Œä¸º</li>
</ul>
</li>
<li><p>æŠ½è±¡ç±»æ˜¯å¦å¯ä»¥æ²¡æœ‰æ–¹æ³•å’Œå±æ€§ï¼Ÿ</p>
<ul>
<li>å¯ä»¥</li>
</ul>
</li>
<li><p>æ¥å£çš„æ„ä¹‰</p>
<ul>
<li>è¡¥è¶³å¤šé‡ç»§æ‰¿å…³ç³».</li>
<li>èµ‹äºˆå¤šæ€æ›´å¤šçš„å®ç°æ–¹å¼</li>
</ul>
</li>
<li><p>æ³›å‹ä¸­extendså’Œsuperçš„åŒºåˆ«</p>
<ul>
<li><code>&lt;? super T&gt;</code> ä»£è¡¨æ³›å‹TåŠå…¶çˆ¶ç±» ?çš„ä¸‹ç•Œ</li>
<li><code>&lt;? extends T&gt;</code> ä»£è¡¨æ³›å‹TåŠå…¶å­ç±» ?çš„ä¸Šç•Œ</li>
<li>é¢‘ç¹å¾€å¤–è¯»å–å†…å®¹çš„ï¼Œé€‚åˆç”¨ä¸Šç•ŒExtendsã€‚</li>
<li>ç»å¸¸å¾€é‡Œæ’å…¥çš„ï¼Œé€‚åˆç”¨ä¸‹ç•ŒSuperã€‚</li>
</ul>
</li>
<li><p>çˆ¶ç±»çš„é™æ€æ–¹æ³•èƒ½å¦è¢«å­ç±»é‡å†™</p>
<ul>
<li>å¦ é™æ€æ–¹æ³•ä¸å¯¹è±¡æ— å…³</li>
</ul>
</li>
<li><p>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</p>
<ul>
<li>è¿›ç¨‹æ˜¯å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨,è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚</li>
<li>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“, æ˜¯CPUè°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½,å®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½.çº¿ç¨‹è‡ªå·±åŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æº,åªæ‹¥æœ‰ä¸€ç‚¹åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æº(å¦‚ç¨‹åºè®¡æ•°å™¨,ä¸€ç»„å¯„å­˜å™¨å’Œæ ˆ),ä½†æ˜¯å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çš„çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚</li>
<li>ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤é”€å¦ä¸€ä¸ªçº¿ç¨‹ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚</li>
<li>è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦å·®åˆ«åœ¨äºå®ƒä»¬æ˜¯ä¸åŒçš„æ“ä½œç³»ç»Ÿèµ„æºç®¡ç†æ–¹å¼ã€‚è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶å®ƒè¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œè€Œçº¿ç¨‹åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒæ‰§è¡Œè·¯å¾„ã€‚çº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œä½†çº¿ç¨‹ä¹‹é—´æ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªçº¿ç¨‹æ­»æ‰å°±ç­‰äºæ•´ä¸ªè¿›ç¨‹æ­»æ‰ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åºè¦æ¯”å¤šçº¿ç¨‹çš„ç¨‹åº å¥å£®ï¼Œä½†åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œè€—è´¹èµ„æºè¾ƒå¤§ï¼Œæ•ˆç‡è¦å·®ä¸€äº›ã€‚ä½†å¯¹äºä¸€äº›è¦æ±‚åŒæ—¶è¿›è¡Œå¹¶ä¸”åˆè¦å…±äº«æŸäº›å˜é‡çš„å¹¶å‘æ“ä½œï¼Œåªèƒ½ç”¨çº¿ç¨‹ï¼Œä¸èƒ½ç”¨è¿›ç¨‹ã€‚</li>
</ul>
</li>
<li><p>finalï¼Œfinallyï¼Œfinalizeçš„åŒºåˆ«</p>
<ul>
<li>final ä¿®é¥°ç¬¦ ä¿®é¥°ç±»æ ‡è¯†æ— æ³•å†è¢«ç»§æ‰¿</li>
<li>finally ç”¨äºé”™è¯¯å¤„ç†</li>
<li>finalize ææ„å‡½æ•°,ä½†è°ƒç”¨å èµ„æºå›æ”¶æ—¶é—´ç”± jvmå†³å®š</li>
</ul>
</li>
<li><p>åºåˆ—åŒ–çš„æ–¹å¼(<strong>å¾…è€ƒ</strong>)</p>
<ul>
<li>åºåˆ—åŒ–ï¼Œè¡¨ç¤ºå°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆå¯å­˜å‚¨æˆ–å¯ä¼ è¾“çš„çŠ¶æ€ã€‚åºåˆ—åŒ–åçš„å¯¹è±¡å¯ä»¥åœ¨ç½‘ç»œä¸Šè¿›è¡Œä¼ è¾“ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨åˆ°æœ¬åœ°</li>
<li>Json,Serializable,Parcelable,ObjectOutputStream</li>
</ul>
</li>
<li><p>Serializable å’ŒParcelable çš„åŒºåˆ«</p>
<ul>
<li>Serializableæ˜¯java apiï¼ŒParcelableæ˜¯Android api;</li>
<li>Serializableè¿‡ç¨‹éœ€è¦å¤§é‡çš„I/Oæ“ä½œ,å¼€é”€å¤§,æ•ˆç‡ä½</li>
<li>Parcelableè¿‡ç¨‹ä¸éœ€è¦å¤§é‡çš„I/Oæ“ä½œ,å¼€é”€å°,æ•ˆç‡é«˜</li>
</ul>
</li>
<li><p>é™æ€å±æ€§å’Œé™æ€æ–¹æ³•æ˜¯å¦å¯ä»¥è¢«ç»§æ‰¿ï¼Ÿæ˜¯å¦å¯ä»¥è¢«é‡å†™ï¼Ÿä»¥åŠåŸå› ï¼Ÿ</p>
<ul>
<li>å¯ä»¥è¢«ç»§æ‰¿,ä½†ä¸èƒ½è¢«é‡å†™,é™æ€æ–¹æ³•å’Œé™æ€å±æ€§æ˜¯å±äºç±».</li>
</ul>
</li>
<li><p>é™æ€å†…éƒ¨ç±»çš„è®¾è®¡æ„å›¾</p>
<ul>
<li>é™æ€å†…éƒ¨ç±»å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œåˆå¸Œæœ›åªè¢«å¤–éƒ¨ç±»ä½¿ç”¨ï¼Œprivateä¿®é¥°çš„æ—¶å€™ä¸è¢«åŒä¸€ä¸ªåŒ…ä¸‹çš„å…¶ä»–ç±»ä½¿ç”¨ã€‚</li>
<li>éé™æ€å†…éƒ¨ç±»åœ¨ç¼–è¯‘å®Œæˆä¹‹åä¼šéšå«åœ°ä¿å­˜ç€ä¸€ä¸ªå¼•ç”¨ï¼Œè¯¥å¼•ç”¨æ˜¯æŒ‡å‘åˆ›å»ºå®ƒçš„å¤–å›´å†…ï¼Œä½†æ˜¯é™æ€å†…éƒ¨ç±»å´æ²¡æœ‰ã€‚</li>
<li>é™æ€å†…éƒ¨ç±»çš„ä½œç”¨ï¼š</li>
<li>åªæ˜¯ä¸ºäº†é™ä½åŒ…çš„æ·±åº¦ï¼Œæ–¹ä¾¿ç±»çš„ä½¿ç”¨ï¼Œ</li>
<li>é™æ€å†…éƒ¨ç±»é€‚ç”¨äºåŒ…å«ç±»å½“ä¸­ï¼Œä½†åˆä¸ä¾èµ–ä¸å¤–åœ¨çš„ç±»ï¼Œä¸èƒ½ä½¿ç”¨å¤–åœ¨ç±»çš„éé™æ€å±æ€§å’Œæ–¹æ³•ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†ç±»ç»“æ„è€Œå®šä¹‰ã€‚</li>
<li>åœ¨åˆ›å»ºé™æ€å†…éƒ¨ç±»çš„æ—¶å€™ï¼Œä¸éœ€è¦å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ã€‚</li>
<li>éé™æ€å†…éƒ¨ç±»æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜ç‚¹ï¼šå¯ä»¥è‡ªç”±ä½¿ç”¨å¤–éƒ¨ç±»çš„æ‰€æœ‰å˜é‡å’Œæ–¹æ³•</li>
</ul>
</li>
<li><p>æˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»å’ŒåŒ¿åå†…éƒ¨ç±»çš„ç†è§£ï¼Œä»¥åŠé¡¹ç›®ä¸­çš„åº”ç”¨</p>
<ul>
<li>è§ä¸Šå†…éƒ¨ç±»</li>
</ul>
</li>
<li><p>è°ˆè°ˆå¯¹kotlinçš„ç†è§£</p>
<ul>
<li>ä»£ç é‡ä¸‹é™</li>
<li>è¯­æ³•ç³–</li>
<li>ä¸java 100%å…¼å®¹</li>
<li>å‡½æ•°å¼ç¼–ç¨‹</li>
</ul>
</li>
<li><p>é—­åŒ…å’Œå±€éƒ¨å†…éƒ¨ç±»çš„åŒºåˆ«</p>
</li>
</ul>
<ul>
<li>string è½¬æ¢æˆ integerçš„æ–¹å¼åŠåŸç†</li>
</ul>
<h2 id="äºŒã€javaæ·±å…¥æºç çº§çš„é¢è¯•é¢˜ï¼ˆæœ‰éš¾åº¦ï¼‰"><a href="#äºŒã€javaæ·±å…¥æºç çº§çš„é¢è¯•é¢˜ï¼ˆæœ‰éš¾åº¦ï¼‰" class="headerlink" title="äºŒã€javaæ·±å…¥æºç çº§çš„é¢è¯•é¢˜ï¼ˆæœ‰éš¾åº¦ï¼‰"></a>äºŒã€javaæ·±å…¥æºç çº§çš„é¢è¯•é¢˜ï¼ˆæœ‰éš¾åº¦ï¼‰</h2><ul>
<li>å“ªäº›æƒ…å†µä¸‹çš„å¯¹è±¡ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å¤„ç†æ‰ï¼Ÿ</li>
<li>è®²ä¸€ä¸‹å¸¸è§ç¼–ç æ–¹å¼ï¼Ÿ</li>
<li>utf-8ç¼–ç ä¸­çš„ä¸­æ–‡å å‡ ä¸ªå­—èŠ‚ï¼›intå‹å‡ ä¸ªå­—èŠ‚ï¼Ÿ</li>
<li>é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†çš„åŒºåˆ«ï¼Œä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ</li>
<li>Javaçš„å¼‚å¸¸ä½“ç³»</li>
<li>è°ˆè°ˆä½ å¯¹è§£æä¸åˆ†æ´¾çš„è®¤è¯†ã€‚</li>
<li>ä¿®æ”¹å¯¹è±¡Açš„equalsæ–¹æ³•çš„ç­¾åï¼Œé‚£ä¹ˆä½¿ç”¨HashMapå­˜æ”¾è¿™ä¸ªå¯¹è±¡å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å“ªä¸ªequalsæ–¹æ³•ï¼Ÿ</li>
<li>Javaä¸­å®ç°å¤šæ€çš„æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å¦‚ä½•å°†ä¸€ä¸ªJavaå¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶é‡Œï¼Ÿ</li>
<li>è¯´è¯´ä½ å¯¹Javaåå°„çš„ç†è§£</li>
<li>è¯´è¯´ä½ å¯¹Javaæ³¨è§£çš„ç†è§£</li>
<li>è¯´è¯´ä½ å¯¹ä¾èµ–æ³¨å…¥çš„ç†è§£</li>
<li>è¯´ä¸€ä¸‹æ³›å‹åŸç†ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜</li>
<li>Javaä¸­Stringçš„äº†è§£</li>
<li>Stringä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ</li>
<li>Objectç±»çš„equalå’ŒhashCodeæ–¹æ³•é‡å†™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</li>
</ul>
<h2 id="ä¸‰ã€æ•°æ®ç»“æ„"><a href="#ä¸‰ã€æ•°æ®ç»“æ„" class="headerlink" title="ä¸‰ã€æ•°æ®ç»“æ„"></a>ä¸‰ã€æ•°æ®ç»“æ„</h2><ul>
<li>å¸¸ç”¨æ•°æ®ç»“æ„ç®€ä»‹</li>
<li>å¹¶å‘é›†åˆäº†è§£å“ªäº›ï¼Ÿ</li>
<li>åˆ—ä¸¾javaçš„é›†åˆä»¥åŠé›†åˆä¹‹é—´çš„ç»§æ‰¿å…³ç³»</li>
<li>é›†åˆç±»ä»¥åŠé›†åˆæ¡†æ¶</li>
<li>å®¹å™¨ç±»ä»‹ç»ä»¥åŠä¹‹é—´çš„åŒºåˆ«ï¼ˆå®¹å™¨ç±»ä¼°è®¡å¾ˆå¤šäººæ²¡å¬è¿™ä¸ªè¯ï¼ŒJavaå®¹å™¨ä¸»è¦å¯ä»¥åˆ’åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼šListåˆ—è¡¨ã€Seté›†åˆã€Mapæ˜ å°„ã€å·¥å…·ç±»ï¼ˆIteratorè¿­ä»£å™¨ã€Enumerationæšä¸¾ç±»ã€Arrayså’ŒCollectionsï¼‰ï¼Œå…·ä½“çš„å¯ä»¥çœ‹çœ‹è¿™ç¯‡åšæ–‡ <a href="http://alexyyek.github.io/2015/04/06/Collection/" target="_blank" rel="external">Javaå®¹å™¨ç±»</a>ï¼‰</li>
<li>List,Set,Mapçš„åŒºåˆ«</li>
<li>Listå’ŒMapçš„å®ç°æ–¹å¼ä»¥åŠå­˜å‚¨æ–¹å¼</li>
<li>HashMapçš„å®ç°åŸç†</li>
<li>HashMapæ•°æ®ç»“æ„ï¼Ÿ</li>
<li>HashMapæºç ç†è§£</li>
<li>HashMapå¦‚ä½•putæ•°æ®ï¼ˆä»HashMapæºç è§’åº¦è®²è§£ï¼‰ï¼Ÿ</li>
<li>HashMapæ€ä¹ˆæ‰‹å†™å®ç°ï¼Ÿ</li>
<li>ConcurrentHashMapçš„å®ç°åŸç†</li>
<li>ArrayMapå’ŒHashMapçš„å¯¹æ¯”</li>
<li>HashTableå®ç°åŸç†</li>
<li>TreeMapå…·ä½“å®ç°</li>
<li>HashMapå’ŒHashTableçš„åŒºåˆ«</li>
<li>HashMapä¸HashSetçš„åŒºåˆ«</li>
<li>HashSetä¸HashMapæ€ä¹ˆåˆ¤æ–­é›†åˆå…ƒç´ é‡å¤ï¼Ÿ</li>
<li>é›†åˆSetå®ç°Hashæ€ä¹ˆé˜²æ­¢ç¢°æ’</li>
<li>ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Œä»¥åŠåº”ç”¨åœºæ™¯</li>
<li>æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«</li>
<li>äºŒå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†çš„å…·ä½“å®ç°</li>
<li>å †çš„ç»“æ„</li>
<li>å †å’Œæ ‘çš„åŒºåˆ«</li>
<li>å †å’Œæ ˆåœ¨å†…å­˜ä¸­çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ(è§£ç­”æç¤ºï¼šå¯ä»¥ä»æ•°æ®ç»“æ„æ–¹é¢ä»¥åŠå®é™…å®ç°æ–¹é¢ä¸¤ä¸ªæ–¹é¢å»å›ç­”)ï¼Ÿ</li>
<li>ä»€ä¹ˆæ˜¯æ·±æ‹·è´å’Œæµ…æ‹·è´</li>
<li>æ‰‹å†™é“¾è¡¨é€†åºä»£ç </li>
<li>è®²ä¸€ä¸‹å¯¹æ ‘ï¼ŒB+æ ‘çš„ç†è§£</li>
<li>è®²ä¸€ä¸‹å¯¹å›¾çš„ç†è§£</li>
<li>åˆ¤æ–­å•é“¾è¡¨æˆç¯ä¸å¦ï¼Ÿ</li>
<li>é“¾è¡¨ç¿»è½¬ï¼ˆå³ï¼šç¿»è½¬ä¸€ä¸ªå•é¡¹é“¾è¡¨ï¼‰</li>
<li>åˆå¹¶å¤šä¸ªå•æœ‰åºé“¾è¡¨ï¼ˆå‡è®¾éƒ½æ˜¯é€’å¢çš„ï¼‰</li>
</ul>
<h2 id="å››ã€çº¿ç¨‹ã€å¤šçº¿ç¨‹å’Œçº¿ç¨‹æ± "><a href="#å››ã€çº¿ç¨‹ã€å¤šçº¿ç¨‹å’Œçº¿ç¨‹æ± " class="headerlink" title="å››ã€çº¿ç¨‹ã€å¤šçº¿ç¨‹å’Œçº¿ç¨‹æ± "></a>å››ã€çº¿ç¨‹ã€å¤šçº¿ç¨‹å’Œçº¿ç¨‹æ± </h2><ul>
<li>å¼€å¯çº¿ç¨‹çš„ä¸‰ç§æ–¹å¼ï¼Ÿ</li>
<li>çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆè¦æœ‰çº¿ç¨‹ï¼Œè€Œä¸æ˜¯ä»…ä»…ç”¨è¿›ç¨‹ï¼Ÿ</li>
<li>run()å’Œstart()æ–¹æ³•åŒºåˆ«</li>
<li>å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„ä¸ªæ•°ï¼Ÿ</li>
<li>åœ¨Javaä¸­waitå’Œseelpæ–¹æ³•çš„ä¸åŒï¼›</li>
<li>è°ˆè°ˆwait/notifyå…³é”®å­—çš„ç†è§£</li>
<li>ä»€ä¹ˆå¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Ÿ</li>
<li>çº¿ç¨‹å¦‚ä½•å…³é—­ï¼Ÿ</li>
<li>è®²ä¸€ä¸‹javaä¸­çš„åŒæ­¥çš„æ–¹æ³•</li>
<li>æ•°æ®ä¸€è‡´æ€§å¦‚ä½•ä¿è¯ï¼Ÿ</li>
<li>å¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</li>
<li>å¦‚ä½•å®ç°çº¿ç¨‹åŒæ­¥ï¼Ÿ</li>
<li>ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶è¦æ±‚å†™æˆ–è€…è¯»ï¼Œèƒ½ä¸èƒ½å®ç°ï¼Ÿå¦‚ä½•é˜²æ­¢è¿›ç¨‹çš„åŒæ­¥ï¼Ÿ</li>
<li>çº¿ç¨‹é—´æ“ä½œList</li>
<li>Javaä¸­å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</li>
<li>Synchronizedç”¨æ³•</li>
<li>synchronizeçš„åŸç†</li>
<li>è°ˆè°ˆå¯¹Synchronizedå…³é”®å­—ï¼Œç±»é”ï¼Œæ–¹æ³•é”ï¼Œé‡å…¥é”çš„ç†è§£</li>
<li>static synchronized æ–¹æ³•çš„å¤šçº¿ç¨‹è®¿é—®å’Œä½œç”¨</li>
<li>åŒä¸€ä¸ªç±»é‡Œé¢ä¸¤ä¸ªsynchronizedæ–¹æ³•ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®çš„é—®é¢˜</li>
<li>volatileçš„åŸç†</li>
<li>è°ˆè°ˆvolatileå…³é”®å­—çš„ç”¨æ³•</li>
<li>è°ˆè°ˆvolatileå…³é”®å­—çš„ä½œç”¨</li>
<li>è°ˆè°ˆNIOçš„ç†è§£</li>
<li>synchronized å’Œvolatile å…³é”®å­—çš„åŒºåˆ«</li>
<li>synchronizedä¸Lockçš„åŒºåˆ«</li>
<li>ReentrantLock ã€synchronizedå’Œvolatileæ¯”è¾ƒ</li>
<li>ReentrantLockçš„å†…éƒ¨å®ç°</li>
<li>lockåŸç†</li>
<li>æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Ÿ</li>
<li>æ€ä¹ˆé¿å…æ­»é”ï¼Ÿ</li>
<li>å¯¹è±¡é”å’Œç±»é”æ˜¯å¦ä¼šäº’ç›¸å½±å“ï¼Ÿ</li>
<li>ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Œå¦‚ä½•ä½¿ç”¨?</li>
<li>Javaçš„å¹¶å‘ã€å¤šçº¿ç¨‹ã€çº¿ç¨‹æ¨¡å‹</li>
<li>è°ˆè°ˆå¯¹å¤šçº¿ç¨‹çš„ç†è§£</li>
<li>å¤šçº¿ç¨‹æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ</li>
<li>è°ˆè°ˆä½ å¯¹å¹¶å‘ç¼–ç¨‹çš„ç†è§£å¹¶ä¸¾ä¾‹è¯´æ˜</li>
<li>è°ˆè°ˆä½ å¯¹å¤šçº¿ç¨‹åŒæ­¥æœºåˆ¶çš„ç†è§£ï¼Ÿ</li>
<li>å¦‚ä½•ä¿è¯å¤šçº¿ç¨‹è¯»å†™æ–‡ä»¶çš„å®‰å…¨ï¼Ÿ</li>
<li>å¤šçº¿ç¨‹æ–­ç‚¹ç»­ä¼ åŸç†</li>
<li>æ–­ç‚¹ç»­ä¼ çš„å®ç°</li>
</ul>
<h2 id="å¹¶å‘ç¼–ç¨‹æœ‰å…³çŸ¥è¯†ç‚¹ï¼ˆè¿™ä¸ªæ˜¯ä¸€èˆ¬Androidå¼€å‘ç”¨çš„å°‘çš„ï¼Œæ‰€ä»¥å»ºè®®å¤šå»çœ‹çœ‹ï¼‰ï¼š"><a href="#å¹¶å‘ç¼–ç¨‹æœ‰å…³çŸ¥è¯†ç‚¹ï¼ˆè¿™ä¸ªæ˜¯ä¸€èˆ¬Androidå¼€å‘ç”¨çš„å°‘çš„ï¼Œæ‰€ä»¥å»ºè®®å¤šå»çœ‹çœ‹ï¼‰ï¼š" class="headerlink" title="å¹¶å‘ç¼–ç¨‹æœ‰å…³çŸ¥è¯†ç‚¹ï¼ˆè¿™ä¸ªæ˜¯ä¸€èˆ¬Androidå¼€å‘ç”¨çš„å°‘çš„ï¼Œæ‰€ä»¥å»ºè®®å¤šå»çœ‹çœ‹ï¼‰ï¼š"></a>å¹¶å‘ç¼–ç¨‹æœ‰å…³çŸ¥è¯†ç‚¹ï¼ˆè¿™ä¸ªæ˜¯ä¸€èˆ¬Androidå¼€å‘ç”¨çš„å°‘çš„ï¼Œæ‰€ä»¥å»ºè®®å¤šå»çœ‹çœ‹ï¼‰ï¼š</h2><p>å¹³æ—¶Androidå¼€å‘ä¸­å¯¹å¹¶å‘ç¼–ç¨‹å¯ä»¥åšå¾—æ¯”è¾ƒå°‘ï¼ŒThreadè¿™ä¸ªç±»ç»å¸¸ä¼šç”¨åˆ°ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³æå‡è‡ªå·±çš„è¯ï¼Œä¸€å®šä¸èƒ½åœç•™åœ¨è¡¨é¢ï¼Œ,æˆ‘ä»¬ä¹Ÿåº”è¯¥å»äº†è§£ä¸€ä¸‹javaçš„å…³äºçº¿ç¨‹ç›¸å…³çš„æºç çº§åˆ«çš„ä¸œè¥¿ã€‚</p>
<hr>
<p><strong>å­¦ä¹ çš„å‚è€ƒèµ„æ–™å¦‚ä¸‹ï¼š</strong></p>
<blockquote>
<p>Java å†…å­˜æ¨¡å‹</p>
</blockquote>
<ul>
<li><a href="http://www.iteye.com/topic/806990" target="_blank" rel="external">javaçº¿ç¨‹å®‰å…¨æ€»ç»“</a></li>
<li><a href="http://ifeve.com/java-memory-model-0/" target="_blank" rel="external">æ·±å…¥ç†è§£javaå†…å­˜æ¨¡å‹ç³»åˆ—æ–‡ç« </a></li>
</ul>
<blockquote>
<p>çº¿ç¨‹çŠ¶æ€ï¼š</p>
</blockquote>
<ul>
<li><a href="https://my.oschina.net/mingdongcheng/blog/139263" target="_blank" rel="external">ä¸€å¼ å›¾è®©ä½ çœ‹æ‡‚JAVAçº¿ç¨‹é—´çš„çŠ¶æ€è½¬æ¢</a></li>
</ul>
<blockquote>
<p>é”ï¼š</p>
</blockquote>
<ul>
<li><a href="http://blog.csdn.net/vking_wang/article/details/9952063" target="_blank" rel="external">é”æœºåˆ¶ï¼šsynchronizedã€Lockã€Condition</a></li>
<li><a href="http://wiki.jikexueyuan.com/project/java-concurrent/locks-in-java.html" target="_blank" rel="external">Java ä¸­çš„é”</a></li>
</ul>
<blockquote>
<p>å¹¶å‘ç¼–ç¨‹ï¼š</p>
</blockquote>
<ul>
<li><a href="http://www.cnblogs.com/dolphin0520/p/3920357.html" target="_blank" rel="external">Javaå¹¶å‘ç¼–ç¨‹ï¼šThreadç±»çš„ä½¿ç”¨</a></li>
<li><a href="http://blog.51cto.com/lavasoft/27069" target="_blank" rel="external">Javaå¤šçº¿ç¨‹ç¼–ç¨‹æ€»ç»“</a></li>
<li><a href="https://www.jianshu.com/p/053943a425c3#" target="_blank" rel="external">Javaå¹¶å‘ç¼–ç¨‹çš„æ€»ç»“ä¸æ€è€ƒ</a></li>
<li><a href="http://www.cnblogs.com/chenssy/p/4701027.html" target="_blank" rel="external">Javaå¹¶å‘ç¼–ç¨‹å®æˆ˜â€”â€“synchronized</a></li>
<li><a href="http://www.infoq.com/cn/articles/ConcurrentHashMap#" target="_blank" rel="external">æ·±å…¥åˆ†æConcurrentHashMap</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;èµ„æ–™æ¥æºå¦‚ä¸‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/AweiLoveAndroid/CommonDevKnowledge&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¸¸ç”¨çš„Android
    
    </summary>
    
      <category term="é¢è¯•" scheme="http://yoursite.com/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="é¢è¯•é¢˜" scheme="http://yoursite.com/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•ç¬¬å››ç‰ˆç¬”è®°â€”</title>
    <link href="http://yoursite.com/2018/02/07/%E7%AE%97%E6%B3%95%E7%AC%AC%E5%9B%9B%E7%89%88%E2%80%94%E6%91%98%E5%BD%95/"/>
    <id>http://yoursite.com/2018/02/07/ç®—æ³•ç¬¬å››ç‰ˆâ€”æ‘˜å½•/</id>
    <published>2018-02-07T04:00:00.000Z</published>
    <updated>2018-02-23T12:32:37.572Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>èµ„æ–™æ¥æºå¦‚ä¸‹</p>
<ul>
<li><p>ç®—æ³•ç¬¬å››ç‰ˆ</p>
</li>
<li><p>ç›®å‰æ˜¯äº‘é‡Œé›¾é‡Œçš„,æ‘˜å½•ä¸€äº›æœ‰ç”¨çš„,å†è¡¥å……</p>
</li>
</ul>
<hr>
<h1 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h1><ul>
<li><p>å¯¹è±¡æ˜¯èƒ½å¤Ÿæ‰¿è½½æ•°æ®ç±»å‹çš„å€¼çš„å®ä½“,åŒ…å« çŠ¶æ€ æ ‡è¯† è¡Œä¸º 3ä¸ªé‡è¦ç‰¹å¾.</p>
<ul>
<li>çŠ¶æ€:æ•°æ®ç±»å‹çš„å€¼</li>
<li>æ ‡è¯†:èƒ½å¤Ÿå°†å¯¹è±¡åŒºåˆ†</li>
<li>è¡Œä¸º:å¯¹æ•°æ®ç±»å‹çš„æ“ä½œ</li>
</ul>
</li>
<li><p>å¼•ç”¨ç±»å‹å’ŒåŸå§‹æ•°æ®ç±»å‹å¹¶åˆ—,å¼•ç”¨å¯ä»¥è®¤ä¸ºæ˜¯å†…å­˜åœ°å€,è¿™ä¸€ç‚¹éå¸¸å®¹æ˜“å’Œ<code>C</code>ä¸­çš„æŒ‡é’ˆææ··,(åˆ°ç°åœ¨è¿˜æ˜¯å¤´æ™•)</p>
</li>
<li><p>èµ‹å€¼è¯­å¥ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡,åªæ˜¯åˆ›å»ºå¦ä¸€ä¸ªæŒ‡å‘å·²å­˜åœ¨å¯¹è±¡çš„å¼•ç”¨.</p>
</li>
<li><p>javaä¸­æ•°ç»„å¯¹è±¡å³æ˜¯ä¸€ä¸ªç”±å¯¹è±¡å¼•ç”¨ç»„æˆçš„æ•°ç»„.</p>
</li>
<li><p>javaç»å¯¹ä¸å…è®¸ç›´æ¥å¯¹å¼•ç”¨ä¿®æ”¹.(ä¸cçš„æŒ‡é’ˆçš„åŒºåˆ«ç°åœ¨è¿˜æ˜¯æœ‰äº›æ··ä¹±)</p>
</li>
</ul>
<h2 id="é›†åˆæ•°æ®ç±»å‹"><a href="#é›†åˆæ•°æ®ç±»å‹" class="headerlink" title="é›†åˆæ•°æ®ç±»å‹"></a>é›†åˆæ•°æ®ç±»å‹</h2><ul>
<li><p>èƒŒåŒ…</p>
<ul>
<li>ä¸æ”¯æŒä»ä¸­åˆ é™¤å…ƒç´ </li>
<li>ä¸é¡ºåºæ— å…³</li>
<li>åªæ˜¯ç”¨æ¥å›Šæ‹¬æ‰€æœ‰å…ƒç´ </li>
</ul>
</li>
<li><p>å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—(é˜Ÿåˆ—) FIFO</p>
<ul>
<li>å…ˆè¿›å…ˆå‡º</li>
<li>éå†çš„é¡ºåºå°±æ˜¯æ·»åŠ è¿›é˜Ÿåˆ—çš„é¡ºåº</li>
</ul>
</li>
<li><p>ä¸‹å‹æ ˆ(æ ˆ)</p>
<ul>
<li>åè¿›å…ˆå‡º</li>
<li>éå†é¡ºåºæ˜¯æ·»åŠ é¡ºåºçš„é€†åº.</li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;èµ„æ–™æ¥æºå¦‚ä¸‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç®—æ³•ç¬¬å››ç‰ˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›®å‰æ˜¯äº‘é‡Œé›¾é‡Œçš„,æ‘˜å½•ä¸€äº›æœ‰ç”¨çš„,å†è¡¥å……&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&quot;åŸºç¡€&quot;&gt;&lt;a href=&quot;#åŸºç¡€&quot; class=&quot;headerlink&quot;
    
    </summary>
    
      <category term="ç®—æ³•ç¬¬å››ç‰ˆ" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95%E7%AC%AC%E5%9B%9B%E7%89%88/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ€»ç»“</title>
    <link href="http://yoursite.com/2018/01/22/2017%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/01/22/2017æ€»ç»“/</id>
    <published>2018-01-22T04:00:11.000Z</published>
    <updated>2018-01-22T13:15:40.622Z</updated>
    
    <content type="html"><![CDATA[<h3 id="2016"><a href="#2016" class="headerlink" title="2016"></a>2016</h3><ul>
<li>æ‰¾åˆ°äº†å…´è¶£-Androidå¼€å§‹æ­£å¼å­¦ä¹ ã€‚</li>
<li>æ­å»ºäº†è‡ªå·±çš„blogï¼Œè™½ç„¶å‘¨å›´äººæ²¡äººå…³æ³¨ï¼Œæœ‰ä¸€ç¯‡æ—¥å­çš„é˜…è¯»é‡è¿‡äº†1ä¸‡ï¼Œè¿˜æ˜¯å¾ˆæƒŠå–œçš„</li>
<li>åµŒå…¥å¼å·¥ä½œæ²¡ç”¨æ‰¾åˆ°æ»¡æ„çš„ï¼Œåªèƒ½è¯´ç­‰æ˜¥æ‹› Andoidçš„å®ä¹ ï¼Œè¿™æ®µæ—¶é—´åŠªåŠ›æé«˜è‡ªå·±ï¼Œ</li>
<li>æ”¾å¼ƒäº†è€ƒç ”</li>
<li>å¿ƒæƒ…èµ°è¿‡äº†ç±»ä¼¼æŠ‘éƒçš„ç»å†ï¼Œå¯¹ä½“åˆ¶ç§ç§å„æœ‰çœ‹æ³•ï¼Œæ˜¯å¯¹æ˜¯é”™ï¼Œè®©æ—¶é—´è§è¯</li>
</ul>
<hr>
<h3 id="2017"><a href="#2017" class="headerlink" title="2017"></a>2017</h3><ul>
<li>å¸Œæœ›æœ‰è‡ªå·±çš„æ”¶å…¥ï¼Œç»æµç›¸å¯¹è‡ªç”±ä¸€ç‚¹</li>
<li>è°ˆä¸€æ®µæ‹çˆ±ï¼Œé‡åˆ°åˆé€‚çš„å¥³å­©å§</li>
<li>Androidçš„è·¯ä¸Šï¼Œé¡ºåˆ©ä¸€ç‚¹å§</li>
<li>ä¸ç»™è‡ªå·±è®¾å®šé™åˆ¶ï¼Œèµ°ä¸€æ­¥å†èµ°ä¸€æ­¥</li>
</ul>
<h3 id="2017-1"><a href="#2017-1" class="headerlink" title="2017"></a>2017</h3><ul>
<li>å·¥ä½œäº†,æœ‰äº†ä¸€ç‚¹è‡ªå·±çš„æ”¶å…¥</li>
<li>æœ‰å–œæ¬¢çš„äºº,å´å¾ˆæ— åŠ›çš„é€‰æ‹©é—å¿˜</li>
<li>åœ¨ä»äº‹androidä»¥å¤–çš„å·¥ä½œ,2018å‡†å¤‡è½¬è¡Œ.</li>
</ul>
<hr>
<h3 id="2018"><a href="#2018" class="headerlink" title="2018"></a>2018</h3><ul>
<li>è¿Ÿåˆ°çš„ç»ˆç»“</li>
<li>è½¬è¡Œandroid,è¡¥è¶³åŸºç¡€.</li>
<li>æ—¥å¸¸è¿ç§»åˆ°linuxä¸‹,ç†Ÿæ‚‰python,æå‡æ•ˆç‡.</li>
<li>åšå®¢ä¸è¦æ–­,è®°æ¸…æ¥šè‡ªå·±çš„ç›®æ ‡</li>
<li>ä½“åˆ¶é‡é‡,å®ˆæŠ¤å¥½å®¶äºº,é™¤æ­¤ä¹‹å¤–,åˆ«æ— ä»–æ±‚.</li>
<li>ä¿æŒè‡ªå·±å¯¹ç¯å¢ƒçš„ä½“å¯Ÿ,çæƒœå‰©ä¸‹çš„æ—¶é—´.</li>
<li>è¦è®°å¾— æœ‰è¿‡çš„æ¢¦æƒ³,å³ä½¿å·²ç»é¥ä¸å¯åŠ,ä¸ç­‰äºè¦è¿èƒŒè‡ªå·±çš„åº•çº¿.</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;2016&quot;&gt;&lt;a href=&quot;#2016&quot; class=&quot;headerlink&quot; title=&quot;2016&quot;&gt;&lt;/a&gt;2016&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ‰¾åˆ°äº†å…´è¶£-Androidå¼€å§‹æ­£å¼å­¦ä¹ ã€‚&lt;/li&gt;
&lt;li&gt;æ­å»ºäº†è‡ªå·±çš„blogï¼Œè™½ç„¶å‘¨å›´äººæ²¡äººå…³æ³¨ï¼Œæœ‰ä¸€ç¯‡æ—¥å­
    
    </summary>
    
      <category term="éš" scheme="http://yoursite.com/categories/%E9%9A%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>pythonâ€”é«˜çº§ç‰¹æ€§</title>
    <link href="http://yoursite.com/2018/01/19/python%E2%80%94%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"/>
    <id>http://yoursite.com/2018/01/19/pythonâ€”é«˜çº§ç‰¹æ€§/</id>
    <published>2018-01-19T02:17:11.000Z</published>
    <updated>2018-01-19T15:03:49.103Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é«˜çº§ç‰¹æ€§"><a href="#é«˜çº§ç‰¹æ€§" class="headerlink" title="é«˜çº§ç‰¹æ€§"></a>é«˜çº§ç‰¹æ€§</h2><ul>
<li>ä»£ç ç²¾ç‚¼</li>
<li>pythonä»£ç é‡è¶Šå°‘,å¼€å‘æ•ˆç‡è¶Šé«˜.<h3 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h3></li>
<li>å–listæˆ–tupleçš„éƒ¨åˆ†å…ƒç´ </li>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">L[<span class="number">0</span>:<span class="number">3</span>] <span class="comment">#0åˆ°3,ä½†ç»“æœä¸åŒ…æ‹¬ç´¢å¼•3</span></div><div class="line">L[:<span class="number">3</span>] <span class="comment">#0å¯çœç•¥</span></div></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">L[<span class="number">-2</span>:]  <span class="comment">#-2åˆ°0 ä½†ä¸åŒ…æ‹¬ç´¢å¼•0</span></div><div class="line">L[<span class="number">-2</span>:<span class="number">-1</span>] <span class="comment">#-2</span></div></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">L[:<span class="number">10</span>:<span class="number">2</span>] <span class="comment">#å‰10 æ¯éš”2ä¸ªå–ä¸€ä¸ª</span></div><div class="line">L[::<span class="number">5</span>] <span class="comment">#æ‰€æœ‰,æ¯éš”5ä¸ªå–ä¸€ä¸ª</span></div><div class="line">L[:] <span class="comment">#åŸæ ·å¤åˆ¶</span></div></pre></td></tr></table></figure>
</li>
<li><p>å¯¹tupleå–åˆ‡ç‰‡,ç»“æœä¾ç„¶æ˜¯tuple.</p>
</li>
<li><strong>å­—ç¬¦ä¸²å¯ä»¥çœ‹ä½œä¸€ä¸ªlist</strong>,æ¯ä¸ªå­—ç¬¦å ä¸€ä½.</li>
</ul>
<h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><ul>
<li>è¿­ä»£å¾ˆéšä¾¿â€¦å¤ªéšä¾¿äº†â€¦</li>
<li>list tupleä¸å¤šè¯´äº†</li>
<li><p>dictå­—å…¸ä¹Ÿå¯ä»¥è¿­ä»£,å› ä¸ºæ— åº,è¾“å‡ºçš„é¡ºåºä¸ä¸€å®šç›¸åŒ.<br>é»˜è®¤è¿­ä»£çš„æ˜¯key ä½†value ä¹Ÿå¯ä»¥è¿­ä»£,key valueä¹Ÿå¯ä»¥åŒæ—¶è¿­ä»£</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> value <span class="keyword">in</span> d.values()</div><div class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items()</div></pre></td></tr></table></figure>
</li>
<li><p>ä¸Šæ–‡ä¹¦ä¸­è¯´çš„,å­—ç¬¦ä¸²å¯ä»¥å½“ä½œlist,æ‰€ä»¥ä¹Ÿå¯ä»¥è¿­ä»£.</p>
</li>
<li><p>é—®é¢˜æ¥äº†,å¦‚ä½•åˆ¤æ–­å¯è¿­ä»£å¯¹è±¡?<br><code>collectionsæ¨¡å—çš„Iterableç±»å‹åˆ¤æ–­</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># stræ˜¯å¦å¯è¿­ä»£</span></div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
</li>
<li><p>ç±»ä¼¼c/javaçš„å¸¦ä¸‹æ ‡å¾ªç¯å®ç°?<br>Pythonå†…ç½®çš„<code>enumerateå‡½æ•°</code>,æŠŠä¸€ä¸ªlistå˜æˆç´¢å¼•-å…ƒç´ å¯¹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</div><div class="line">  print(i, value)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="åˆ—è¡¨ç”Ÿæˆå¼"><a href="#åˆ—è¡¨ç”Ÿæˆå¼" class="headerlink" title="åˆ—è¡¨ç”Ÿæˆå¼"></a>åˆ—è¡¨ç”Ÿæˆå¼</h3><ul>
<li><code>ç”¨æ¥ç”Ÿæˆlist</code></li>
<li><p>ç¤ºä¾‹: [1x1, 2x2, 3x3, â€¦, 10x10]</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)] </div><div class="line">[m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">'ABC'</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">'XYZ'</span>] <span class="comment">#ä¸¤å±‚</span></div></pre></td></tr></table></figure>
</li>
<li><p>forå¯ä»¥åŒæ—¶å¾ªç¯ä¸¤ä¸ªç”šè‡³å¤šä¸ªå˜é‡,dictçš„items()å¯ä»¥åŒæ—¶è¿­ä»£keyå’Œvalue</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125; <span class="comment"># å¤šä¸ªå˜é‡</span></div><div class="line">[k + <span class="string">'='</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.items()] <span class="comment"># ç”Ÿæˆlist</span></div><div class="line">[s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L] <span class="comment"># å…¨éƒ¨å°å†™</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h3><ul>
<li>generator ä¾ç…§æŸç§ç®—æ³•ä¸æ–­å¾ªç¯ç”Ÿæˆæ•°æ®,è€Œä¸æ˜¯ä¸€æ¬¡æ€§ç”Ÿæˆå®Œ.èŠ‚çœå¤§é‡ç©ºé—´.</li>
<li><p>åˆ›å»ºgenerator</p>
<ul>
<li><p>æŠŠåˆ—è¡¨ç”Ÿæˆå¼çš„[]æ”¹æˆ()</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</div></pre></td></tr></table></figure>
<p>è°ƒç”¨<code>next(g)</code>å¯è·å–ä¸‹ä¸€ä¸ªå€¼.<br>æœ€å¸¸ç”¨<code>for n in g:</code>ä»£å…¥forå¾ªç¯.ä¹Ÿæ²¡æœ‰æŠ›å‡ºé”™è¯¯.</p>
</li>
<li><p>å®šä¹‰ä¸€ä¸ªåŒ…å«<code>yield</code>å…³é”®å­—çš„å‡½æ•°.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></div><div class="line">n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></div><div class="line"><span class="keyword">while</span> n &lt; max:</div><div class="line">    <span class="keyword">yield</span> b</div><div class="line">    a, b = b, a + b</div><div class="line">    n = n + <span class="number">1</span></div><div class="line"><span class="keyword">return</span> <span class="string">'done'</span></div></pre></td></tr></table></figure>
<ul>
<li>å˜æˆgeneratorçš„å‡½æ•°ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨next()çš„æ—¶å€™æ‰§è¡Œï¼Œé‡åˆ°yieldè¯­å¥è¿”å›ï¼Œå†æ¬¡æ‰§è¡Œæ—¶ä»ä¸Šæ¬¡è¿”å›çš„yieldè¯­å¥å¤„ç»§ç»­æ‰§è¡Œã€‚</li>
<li>ç”¨forå¾ªç¯è°ƒç”¨generatoræ—¶ï¼Œæ‹¿ä¸åˆ°generatorçš„returnè¯­å¥çš„è¿”å›å€¼ã€‚å¦‚æœæƒ³è¦æ‹¿åˆ°è¿”å›å€¼ï¼Œå¿…é¡»æ•è·StopIterationé”™è¯¯ï¼Œè¿”å›å€¼åŒ…å«åœ¨StopIterationçš„valueä¸­.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><ul>
<li><p>å¯ä»¥è¢«forå¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼š<code>Iterable</code><br>ä½¿ç”¨isinstance()åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Iterableå¯¹è±¡</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">isinstance(&#123;&#125;, Iterable)</div></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ï¼š<code>Iterator</code> è¡¨ç¤ºä¸€ä¸ªæƒ°æ€§è®¡ç®—çš„åºåˆ— <code>Iterator</code>ç”šè‡³å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ— é™å¤§çš„æ•°æ®æµ<br>isinstance()åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Iteratorå¯¹è±¡</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">isinstance((x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)), Iterator)</div></pre></td></tr></table></figure>
</li>
<li><p>é›†åˆæ•°æ®ç±»å‹å¦‚listã€dictã€strç­‰æ˜¯Iterableä½†ä¸æ˜¯Iteratorï¼Œä¸è¿‡å¯ä»¥é€šè¿‡iter()å‡½æ•°è·å¾—ä¸€ä¸ªIteratorå¯¹è±¡ã€‚</p>
</li>
<li>Pythonçš„forå¾ªç¯æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸æ–­è°ƒç”¨next()</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é«˜çº§ç‰¹æ€§&quot;&gt;&lt;a href=&quot;#é«˜çº§ç‰¹æ€§&quot; class=&quot;headerlink&quot; title=&quot;é«˜çº§ç‰¹æ€§&quot;&gt;&lt;/a&gt;é«˜çº§ç‰¹æ€§&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä»£ç ç²¾ç‚¼&lt;/li&gt;
&lt;li&gt;pythonä»£ç é‡è¶Šå°‘,å¼€å‘æ•ˆç‡è¶Šé«˜.&lt;h3 id=&quot;åˆ‡ç‰‡&quot;&gt;&lt;a href=&quot;#åˆ‡
    
    </summary>
    
      <category term="pythonç¬”è®°" scheme="http://yoursite.com/categories/python%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pythonâ€”é¢å‘å¯¹è±¡</title>
    <link href="http://yoursite.com/2018/01/19/python%E2%80%94%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
    <id>http://yoursite.com/2018/01/19/pythonâ€”é¢å‘å¯¹è±¡/</id>
    <published>2018-01-19T02:17:11.000Z</published>
    <updated>2018-01-19T15:00:27.451Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><ul>
<li>ç±» æ–¹æ³• å®ä¾‹</li>
<li>å°è£… ç»§æ‰¿ å¤šæ€</li>
</ul>
<h3 id="ç±»å’Œå®ä¾‹"><a href="#ç±»å’Œå®ä¾‹" class="headerlink" title="ç±»å’Œå®ä¾‹"></a>ç±»å’Œå®ä¾‹</h3><ul>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, score)</span>:</span></div><div class="line">      self.name = name</div><div class="line">      self.score = score</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">print_score</span><span class="params">(self)</span>:</span></div><div class="line">      print(<span class="string">'%s: %s'</span> % (self.name, self.score))</div><div class="line"></div><div class="line">bart = Student(<span class="string">'Bart Simpson'</span>, <span class="number">59</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>å®šä¹‰ç±»çš„å…³é”®è¯ä¸javaä¸€æ · <code>class</code> æ‹¬å·å†…ä¸ºç»§æ‰¿çš„çˆ¶ç±».æ²¡æœ‰çˆ¶ç±»æ—¶,é€‰æ‹© <code>object</code> ä½œä¸ºåŸºç±».(<code>object</code>æ˜¯æ‰€æœ‰ç±»çš„åŸºç±»)</p>
</li>
<li><p>å˜é‡æ¯”è¾ƒç‰¹æ®Š,ä¸åƒjavaä¸­æœ‰å•ç‹¬å­—æ®µ.python ç±»ä¸­å˜é‡å®šä¹‰æ˜¯åœ¨<code>__init__</code>æ–¹æ³•</p>
</li>
<li><p>æ–¹æ³•çš„å£°æ˜å’Œå‡½æ•°ç±»ä¼¼. <code>def æ–¹æ³•å (å‚æ•°)</code></p>
<ul>
<li>ç±»ä¸­ ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯<code>self</code>,æ„ä¸ºåˆ›å»ºçš„å®ä¾‹è‡ªèº«.æ–¹æ³•ä¸­è°ƒç”¨ç±»ä¸­å…¶ä»–å˜é‡éƒ½è¦é€šè¿‡ <code>self.xxx</code> è®¿é—®.</li>
</ul>
</li>
<li><p>ä¸€äº›å¿…é¡»å®ç°çš„å±æ€§åœ¨<code>__init__</code>æ–¹æ³•ä¸­å®šä¹‰.å¦‚ç¤ºä¾‹.ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>self</code> ä¹‹åæ˜¯å…·ä½“å˜é‡å€¼,åœ¨æ–¹æ³•å†… ä½¿ç”¨selfè®¿é—®ç±»ä¸­å®šä¹‰çš„å˜é‡.</p>
</li>
<li><p>Pythonå…è®¸å¯¹å®ä¾‹å˜é‡ç»‘å®šä»»ä½•æ•°æ®,so just do itğŸ˜ˆ</p>
</li>
</ul>
<h3 id="è®¿é—®é™åˆ¶"><a href="#è®¿é—®é™åˆ¶" class="headerlink" title="è®¿é—®é™åˆ¶"></a>è®¿é—®é™åˆ¶</h3><ul>
<li>ç±»ä¼¼java private å­—æ®µçš„pythonå®ç°</li>
<li>å±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿ <code>__</code> è¯¥å±æ€§å°±æˆä¸ºäº†ç±»çš„ç§æœ‰å±æ€§,åªèƒ½åœ¨å®ä¾‹çš„å†…éƒ¨è®¿é—®.(<code>self.xxx</code>) </li>
<li><p>è·å–/ä¿®æ”¹,ä½¿ç”¨ <code>get/set</code> è·å–æˆ–ä¿®æ”¹å¯¹åº”å±æ€§.(ä¸€èˆ¬åœ¨setä¸­å¯ä»¥æ·»åŠ ç±»å‹æ£€æŸ¥)</p>
</li>
<li><p>ç±»ä¼¼<code>__xxx__</code>çš„å˜é‡ï¼ŒåŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡.ç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡.ä¹Ÿ<strong>æœ€å¥½ä¸è¦å®šä¹‰<code>__xxx__</code>å˜é‡å</strong></p>
</li>
<li><p>ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡åï¼Œä¾‹å¦‚<code>_name</code>.å¯ä»¥åœ¨å¤–éƒ¨è®¿é—®çš„ï¼Œä½†æ˜¯ï¼Œçº¦å®šä¿—æˆ,è¯·ç›´æ¥å¿½è§†.</p>
</li>
<li><p>ç‰¹ä¾‹:</p>
<ul>
<li>åŒä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡ä¸èƒ½ç›´æ¥è®¿é—®æ˜¯å› ä¸ºPythonè§£é‡Šå™¨å¯¹å¤–æŠŠ<code>__name</code>å˜é‡æ”¹æˆäº†<code>_Student__name</code>.<strong>ä»ç„¶å¯ä»¥é€šè¿‡<code>_Student__name</code>æ¥è®¿é—®<code>__name</code>å˜é‡</strong>.</li>
<li><p>ä¸€ä¸ªé”™è¯¯è®¾ç½®ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">'Bart Simpson'</span>, <span class="number">59</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.get_name()</div><div class="line"><span class="string">'Bart Simpson'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.__name = <span class="string">'New Name'</span> <span class="comment"># è®¾ç½®__nameå˜é‡ï¼</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.__name</div><div class="line"><span class="string">'New Name'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.get_name() <span class="comment"># get_name()å†…éƒ¨è¿”å›self.__name</span></div><div class="line"><span class="string">'Bart Simpson'</span></div></pre></td></tr></table></figure>
</li>
<li><p>å¦‚åŒç¤ºä¾‹,å¤–éƒ¨ä»£ç ç›´æ¥èµ‹ç»™ <code>bart.__name</code> ä¸ä¼šå½±å“å®ä¾‹ä¸­åŸæœ‰å±æ€§,åªä¼šæ–°å¢ä¸€ä¸ªå±æ€§.ç©¶å…¶åŸå› ,å®ä¾‹ä¸­çš„å±æ€§å·²ç»è¢«è§£é‡Šå™¨é‡å‘½åä¸ºäº†<code>bart._Student__name</code>.</p>
</li>
</ul>
</li>
</ul>
<h3 id="ç»§æ‰¿å’Œå¤šæ€"><a href="#ç»§æ‰¿å’Œå¤šæ€" class="headerlink" title="ç»§æ‰¿å’Œå¤šæ€"></a>ç»§æ‰¿å’Œå¤šæ€</h3><ul>
<li>ç»§æ‰¿å’Œå¤šæ€æ¦‚å¿µä¸javaç±»ä¼¼.ä¸å¤šè¯­äº†.</li>
<li>é‚£ä¹ˆé‡ç‚¹æ¥äº†:</li>
<li>pythonæœ¬èº«æ˜¯åŠ¨æ€è¯­è¨€,ä½“ç°åœ¨å˜é‡/ç±»ç­‰å„ä¸ªæ–¹é¢,è‡ªç”±åº¦æé«˜.åœ¨ç»§æ‰¿ä¸Š,äº¦æ˜¯å¦‚æ­¤.<ul>
<li>javaä¸­å®šä¹‰ä¸€ä¸ªsuæ–¹æ³•,è°ƒç”¨modelç±»å®ä¾‹å®ç°çš„runæ–¹æ³•.suæ–¹æ³•å¯ä¼ å…¥çš„åªæœ‰ modelç±»æˆ–å…¶å­ç±»çš„å®ä¾‹</li>
<li>ä½†pythonä¸­ åªè¦æ˜¯å®šä¹‰äº† runæ–¹æ³•(åˆ«ç®¡å†…å®¹/åŠŸèƒ½ä¸€æ ·ä¸ä¸€æ ·)ç±»çš„å®ä¾‹,éƒ½å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥ su æ–¹æ³•.</li>
</ul>
</li>
<li>javaä¸­å¯¹ç±»çš„ç±»å‹çš„å¤„ç†,ç›¸å½“äºç…§çŒ«ğŸ±ç”»è™ğŸ¯,ä¼ å…¥çš„èµ·ç è¦æ˜¯ä¸ªçŒ«ç§‘åŠ¨ç‰©. python ä¸­å¯¹ç±»çš„ç±»å‹å¤„ç†,é¢å¤´å†™ä¸ª<code>ç‹</code>å­—,å“ªæ€•ä¼ å…¥å…·ä½“å¯¹è±¡æ˜¯ä¸ªçŒ«å¤´é¹°ğŸ¦‰,ä¹Ÿå½“ä½œçŒ«ç§‘å¤„ç†äº†.</li>
</ul>
<hr>
<ul>
<li>note:<br>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨isinstance()<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(a, list)</div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="è·å–å¯¹è±¡ä¿¡æ¯"><a href="#è·å–å¯¹è±¡ä¿¡æ¯" class="headerlink" title="è·å–å¯¹è±¡ä¿¡æ¯"></a>è·å–å¯¹è±¡ä¿¡æ¯</h3><hr>
<h2 id="è®©æˆ‘æƒ³èµ·äº†javaåå°„-ä¸è¿‡èƒ½è·å–çš„ä¿¡æ¯è¦å…¨å¤šäº†"><a href="#è®©æˆ‘æƒ³èµ·äº†javaåå°„-ä¸è¿‡èƒ½è·å–çš„ä¿¡æ¯è¦å…¨å¤šäº†" class="headerlink" title="* è®©æˆ‘æƒ³èµ·äº†javaåå°„..ä¸è¿‡èƒ½è·å–çš„ä¿¡æ¯è¦å…¨å¤šäº†."></a>* è®©æˆ‘æƒ³èµ·äº†javaåå°„..ä¸è¿‡èƒ½è·å–çš„ä¿¡æ¯è¦å…¨å¤šäº†.</h2><h4 id="type"><a href="#type" class="headerlink" title="type()"></a>type()</h4><ul>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; type(123)</div><div class="line">&lt;class 'int'&gt;</div><div class="line"></div><div class="line">&gt;&gt;&gt; type(a)</div><div class="line">&lt;class '__main__.Animal'&gt;</div><div class="line"></div><div class="line">&gt;&gt;&gt; type(123)==type(456)</div><div class="line">True</div></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å¯¹è±¡ç±»å‹</p>
</li>
<li>ç”±å˜é‡æŒ‡å‘å‡½æ•°æˆ–è€…ç±»ï¼Œä¹Ÿå¯ä»¥ç”¨type()åˆ¤æ–­</li>
<li><p>typeè¿”å›å¯¹åº”çš„Classç±»å‹,å¯ç›´æ¥ <code>== ç±»å‹</code>åˆ¤æ–­</p>
</li>
<li><p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import types</div><div class="line">&gt;&gt;&gt; def fn():</div><div class="line">...     pass</div><div class="line">...</div><div class="line">&gt;&gt;&gt; type(fn)==types.FunctionType</div><div class="line">True</div><div class="line">&gt;&gt;&gt; type(abs)==types.BuiltinFunctionType</div><div class="line">True</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance()"></a>isinstance()</h4><ul>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(h, Husky)</div><div class="line"><span class="keyword">True</span></div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], (list, tuple))</div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­ç»§æ‰¿å…³ç³»,ä¸€æ‰“ä¸€ä¸ªå‡†.</p>
</li>
<li>èƒ½ç”¨type()åˆ¤æ–­çš„åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥ç”¨isinstance()åˆ¤æ–­</li>
<li>æ€»æ˜¯ä¼˜å…ˆä½¿ç”¨isinstance()åˆ¤æ–­ç±»å‹ï¼Œå¯ä»¥å°†æŒ‡å®šç±»å‹åŠå…¶å­ç±»â€œä¸€ç½‘æ‰“å°½â€ã€‚</li>
</ul>
<h4 id="dir"><a href="#dir" class="headerlink" title="dir()"></a>dir()</h4><ul>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>dir(<span class="string">'ABC'</span>)</div><div class="line">[<span class="string">'__add__'</span>, <span class="string">'__class__'</span>,..., <span class="string">'__subclasshook__'</span>, <span class="string">'capitalize'</span>, <span class="string">'casefold'</span>,..., <span class="string">'zfill'</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>è·å¾—ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•.ç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²list.</p>
</li>
<li><p>é…åˆgetattr()ã€setattr()ä»¥åŠhasattr()ï¼Œå¯ä»¥ç›´æ¥æ“ä½œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€.</p>
</li>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(obj, <span class="string">'x'</span>) <span class="comment"># æœ‰å±æ€§'x'å—ï¼Ÿ</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>obj.x</div><div class="line"><span class="number">9</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(obj, <span class="string">'y'</span>) <span class="comment"># æœ‰å±æ€§'y'å—ï¼Ÿ</span></div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>setattr(obj, <span class="string">'y'</span>, <span class="number">19</span>) <span class="comment"># è®¾ç½®ä¸€ä¸ªå±æ€§'y'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(obj, <span class="string">'y'</span>) <span class="comment"># æœ‰å±æ€§'y'å—ï¼Ÿ</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(obj, <span class="string">'y'</span>) <span class="comment"># è·å–å±æ€§'y'</span></div><div class="line"><span class="number">19</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>obj.y <span class="comment"># è·å–å±æ€§'y'</span></div><div class="line"><span class="number">19</span></div></pre></td></tr></table></figure>
</li>
<li><p>ä¸å­˜åœ¨çš„å±æ€§ï¼Œä¼šæŠ›å‡ºAttributeErrorçš„é”™è¯¯,å¯ä»¥ä¼ å…¥ä¸€ä¸ªdefaultå‚æ•°ï¼Œå¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œå°±è¿”å›é»˜è®¤å€¼.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(obj, <span class="string">'z'</span>, <span class="number">404</span>) <span class="comment"># è·å–å±æ€§'z'ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼404</span></div><div class="line"><span class="number">404</span></div></pre></td></tr></table></figure>
</li>
<li><p>ä¹Ÿå¯ä»¥è·å¾—å¯¹è±¡çš„æ–¹æ³•</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(obj, <span class="string">'power'</span>) <span class="comment"># æœ‰å±æ€§'power'å—ï¼Ÿ</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(obj, <span class="string">'power'</span>) <span class="comment"># è·å–å±æ€§'power'</span></div><div class="line">&lt;bound method MyObject.power of &lt;__main__.MyObject object at <span class="number">0x10077a6a0</span>&gt;&gt;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>fn = getattr(obj, <span class="string">'power'</span>) <span class="comment"># è·å–å±æ€§'power'å¹¶èµ‹å€¼åˆ°å˜é‡fn</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>fn <span class="comment"># fnæŒ‡å‘obj.power</span></div><div class="line">&lt;bound method MyObject.power of &lt;__main__.MyObject object at <span class="number">0x10077a6a0</span>&gt;&gt;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>fn() <span class="comment"># è°ƒç”¨fn()ä¸è°ƒç”¨obj.power()æ˜¯ä¸€æ ·çš„</span></div><div class="line"><span class="number">81</span></div></pre></td></tr></table></figure>
</li>
<li><p>åªæœ‰åœ¨ä¸çŸ¥é“å¯¹è±¡ä¿¡æ¯çš„æ—¶å€™ï¼Œæ‰ä¼šå»è·å–å¯¹è±¡ä¿¡æ¯.è°¨è®°,è°¨è®°.</p>
</li>
</ul>
<h3 id="å®ä¾‹å±æ€§å’Œç±»å±æ€§"><a href="#å®ä¾‹å±æ€§å’Œç±»å±æ€§" class="headerlink" title="å®ä¾‹å±æ€§å’Œç±»å±æ€§"></a>å®ä¾‹å±æ€§å’Œç±»å±æ€§</h3><ul>
<li>ç±»ä¼¼javaç±»ä¸­é™æ€å˜é‡ ä¸ æ™®é€šå˜é‡åŒºåˆ«.</li>
<li><p>ç±»çš„å±æ€§,ç›´æ¥åœ¨ç±»çš„cclassä¸­å£°æ˜.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line">  name = <span class="string">'Student'</span></div></pre></td></tr></table></figure>
</li>
<li><p>è®¿é—®æ—¶,ç±»çš„å±æ€§ä¼šè¢«å®ä¾‹çš„åŒåå±æ€§è¦†ç›–,ä½†ä¸ä¼šè¢«ä¿®æ”¹,äº’ç›¸ç‹¬ç«‹.</p>
</li>
<li>åˆ é™¤å®ä¾‹å±æ€§åï¼Œå†ä½¿ç”¨ç›¸åŒçš„åç§°ï¼Œè®¿é—®åˆ°çš„å°†æ˜¯ç±»å±æ€§</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é¢å‘å¯¹è±¡&quot;&gt;&lt;a href=&quot;#é¢å‘å¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;é¢å‘å¯¹è±¡&quot;&gt;&lt;/a&gt;é¢å‘å¯¹è±¡&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ç±» æ–¹æ³• å®ä¾‹&lt;/li&gt;
&lt;li&gt;å°è£… ç»§æ‰¿ å¤šæ€&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ç±»å’Œå®ä¾‹&quot;&gt;&lt;a hr
    
    </summary>
    
      <category term="pythonç¬”è®°" scheme="http://yoursite.com/categories/python%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pythonâ€”æ¨¡å—</title>
    <link href="http://yoursite.com/2018/01/19/python%E2%80%94%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2018/01/19/pythonâ€”æ¨¡å—/</id>
    <published>2018-01-19T02:17:11.000Z</published>
    <updated>2018-01-19T15:01:52.735Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><ul>
<li>æ¨¡å—æ˜¯ä¸€ç»„Pythonä»£ç çš„é›†åˆï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å—ï¼Œä¹Ÿå¯ä»¥è¢«å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚</li>
<li><p>æ¶‰åŠåˆ°æ¦‚å¿µ åŒ…(Package) å’Œ æ¨¡å—(Module)</p>
</li>
<li><p>åˆ›å»ºè‡ªå·±çš„æ¨¡å—æ—¶ï¼Œè¦æ³¨æ„ï¼š</p>
<ul>
<li>æ¨¡å—åè¦éµå¾ªPythonå˜é‡å‘½åè§„èŒƒï¼Œä¸è¦ä½¿ç”¨ä¸­æ–‡ã€ç‰¹æ®Šå­—ç¬¦ï¼›</li>
<li>æ¨¡å—åä¸è¦å’Œç³»ç»Ÿæ¨¡å—åå†²çªï¼Œæœ€å¥½å…ˆæŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å·²å­˜åœ¨è¯¥æ¨¡å—ï¼Œæ£€æŸ¥æ–¹æ³•æ˜¯åœ¨Pythonäº¤äº’ç¯å¢ƒæ‰§è¡Œimport abcï¼Œè‹¥æˆåŠŸåˆ™è¯´æ˜ç³»ç»Ÿå­˜åœ¨æ­¤æ¨¡å—ã€‚</li>
</ul>
</li>
</ul>
<h3 id="ä½¿ç”¨æ¨¡å—"><a href="#ä½¿ç”¨æ¨¡å—" class="headerlink" title="ä½¿ç”¨æ¨¡å—"></a>ä½¿ç”¨æ¨¡å—</h3><ul>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">' a test module '</span></div><div class="line"></div><div class="line">__author__ = <span class="string">'Michael Liao'</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></div><div class="line">    args = sys.argv</div><div class="line">    <span class="keyword">if</span> len(args)==<span class="number">1</span>:</div><div class="line">        print(<span class="string">'Hello, world!'</span>)</div><div class="line">    <span class="keyword">elif</span> len(args)==<span class="number">2</span>:</div><div class="line">        print(<span class="string">'Hello, %s!'</span> % args[<span class="number">1</span>])</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        print(<span class="string">'Too many arguments!'</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</div><div class="line">    test()</div></pre></td></tr></table></figure>
</li>
<li><p>æ³¨é‡Š:</p>
<ul>
<li>ç¬¬1è¡Œæ³¨é‡Šå¯ä»¥è®©è¿™ä¸ªhello.pyæ–‡ä»¶ç›´æ¥åœ¨Unix/Linux/Macä¸Šè¿è¡Œ</li>
<li>ç¬¬2è¡Œæ³¨é‡Šè¡¨ç¤º.pyæ–‡ä»¶æœ¬èº«ä½¿ç”¨æ ‡å‡†UTF-8ç¼–ç ï¼›</li>
<li>ç¬¬4è¡Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ¨¡å—çš„æ–‡æ¡£æ³¨é‡Šï¼Œä»»ä½•æ¨¡å—ä»£ç çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½è¢«è§†ä¸ºæ¨¡å—çš„æ–‡æ¡£æ³¨é‡Š</li>
<li>ç¬¬6è¡Œä½¿ç”¨<strong>author</strong>å˜é‡æŠŠä½œè€…å†™è¿›å»</li>
</ul>
</li>
<li><p>é‡ç‚¹<code>if __name__==&#39;__main__&#39;:</code></p>
</li>
<li>Pythonè§£é‡Šå™¨æŠŠä¸€ä¸ªç‰¹æ®Šå˜é‡<strong>name</strong>ç½®ä¸º<strong>main</strong>ï¼Œè€Œå¦‚æœåœ¨å…¶ä»–åœ°æ–¹å¯¼å…¥è¯¥helloæ¨¡å—æ—¶ï¼Œifåˆ¤æ–­å°†å¤±è´¥ï¼Œå› æ­¤ï¼Œè¿™ç§ifæµ‹è¯•å¯ä»¥è®©ä¸€ä¸ªæ¨¡å—é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œæ—¶æ‰§è¡Œä¸€äº›é¢å¤–çš„ä»£ç ï¼Œæœ€å¸¸è§çš„å°±æ˜¯è¿è¡Œæµ‹è¯•.</li>
</ul>
<h4 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h4><ul>
<li>Pythonä¸­ï¼Œæ˜¯é€šè¿‡<code>_</code>å‰ç¼€ æ ‡è®° private </li>
<li>note: <strong>pythonä¸­è¯­æ³•æ²¡æœ‰é™åˆ¶ <code>_</code>å¼€å¤´çš„å˜é‡/å‡½æ•°!</strong></li>
</ul>
<h3 id="å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—"><a href="#å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—" class="headerlink" title="å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—"></a>å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—</h3><ul>
<li><p><code>pip</code>å‘½ä»¤ </p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install xxx</div></pre></td></tr></table></figure>
</li>
<li><p>æˆ–è€…åœ¨æ–‡ä»¶ä¸­è‡ªå®šä¹‰è·¯å¾„.</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ¨¡å—&quot;&gt;&lt;a href=&quot;#æ¨¡å—&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡å—&quot;&gt;&lt;/a&gt;æ¨¡å—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ¨¡å—æ˜¯ä¸€ç»„Pythonä»£ç çš„é›†åˆï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å—ï¼Œä¹Ÿå¯ä»¥è¢«å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¶‰åŠåˆ°æ¦‚å¿µ åŒ…(Packag
    
    </summary>
    
      <category term="pythonç¬”è®°" scheme="http://yoursite.com/categories/python%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pythonâ€”åŸºç¡€</title>
    <link href="http://yoursite.com/2018/01/19/python%E2%80%94%E5%9F%BA%E7%A1%80/"/>
    <id>http://yoursite.com/2018/01/19/pythonâ€”åŸºç¡€/</id>
    <published>2018-01-19T02:17:11.000Z</published>
    <updated>2018-01-19T14:54:56.297Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><ul>
<li>æ•´æ•° æµ®ç‚¹æ•° <h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3></li>
<li>å­—ç¬¦ä¸²ä»¥å•å¼•å· â€˜ æˆ– â€œ åŒ…æ‹¬. </li>
<li>è½¬ä¹‰å­—ç¬¦ \ ä¾ç„¶æœ‰æ•ˆ. râ€™â€™è¡¨ç¤ºæ­¤å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ç§».</li>
<li>/næœ‰æ•ˆ, å¯ç”¨ å¼€å¤´ â€¦ æ›¿æ¢<h3 id="å¸ƒå°”"><a href="#å¸ƒå°”" class="headerlink" title="å¸ƒå°”"></a>å¸ƒå°”</h3></li>
<li>åªæœ‰True å’Œ Flase </li>
<li>and or not 3ç§å¸¸ç”¨æ“ä½œ</li>
</ul>
<h3 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h3><ul>
<li>é€šå¸¸éƒ½ä¸ºå¤§å†™è¡¨ç¤º.</li>
<li>é™¤æ³•æœ‰ä¸¤ç§ / æˆ– //<br>/ ç»“æœå¯èƒ½ä¸ºæµ®ç‚¹, // ç»“æœä¸ºæ•´æ•°(åœ°æ¿é™¤)</li>
</ul>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><ul>
<li>None ç©ºå€¼,ä¸ä¸º0.è°¨è®°</li>
<li>åŠ¨æ€è¯­è¨€,so,å˜é‡çš„ç±»å‹æ— æ‰€è°“.</li>
<li>æµ®ç‚¹æ•°ç²¾åº¦æ— é™,ä½†è¶…è¿‡é™åˆ¶ç›´æ¥è¡¨ç¤ºä¸º <code>inf</code></li>
</ul>
<h2 id="å­—ç¬¦ç¼–ç "><a href="#å­—ç¬¦ç¼–ç " class="headerlink" title="å­—ç¬¦ç¼–ç "></a>å­—ç¬¦ç¼–ç </h2><ul>
<li>ç®€è€Œè¨€ä¹‹ æ–‡ä»¶ä½¿ç”¨utf-8å°±å¯¹äº†.</li>
<li>utf-8 å±äºä¸‡å›½ç çš„ç®€åŒ–,ä½ä½ä¸ ASCII å…¼å®¹.</li>
</ul>
<h3 id="pythonå­—ç¬¦ä¸²ç¼–ç "><a href="#pythonå­—ç¬¦ä¸²ç¼–ç " class="headerlink" title="pythonå­—ç¬¦ä¸²ç¼–ç "></a>pythonå­—ç¬¦ä¸²ç¼–ç </h3><ul>
<li>py3ä¸­é»˜è®¤æ˜¯ Unicode ä¸‡å›½ç .</li>
<li>ord()è·å–å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºï¼Œchr()æŠŠç¼–ç è½¬æ¢ä¸ºå­—ç¬¦.</li>
<li>Pythonå¯¹bytesç±»å‹çš„æ•°æ®ç”¨å¸¦bå‰ç¼€çš„å•å¼•å·æˆ–åŒå¼•å·è¡¨ç¤º <code>x = b&#39;ABC&#39;</code></li>
<li><p>ä»¥Unicodeè¡¨ç¤ºçš„stré€šè¿‡encode()æ–¹æ³•å¯ä»¥ç¼–ç ä¸ºæŒ‡å®šçš„bytes</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">'ABC'</span>.encode(<span class="string">'ascii'</span>)</div><div class="line"><span class="string">b'ABC'</span></div><div class="line"><span class="string">'ä¸­æ–‡'</span>.encode(<span class="string">'utf-8'</span>)</div><div class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></div></pre></td></tr></table></figure>
</li>
<li><p>å¯¹åº”çš„decode()æ–¹æ³•</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'ABC'</span>.decode(<span class="string">'ascii'</span>)</div><div class="line"><span class="string">'ABC'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)</div><div class="line"><span class="string">'ä¸­æ–‡'</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥ä¼ å…¥errors=â€™ignoreâ€™å¿½ç•¥é”™è¯¯çš„å­—èŠ‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">b'\xe4\xb8\xad\xff'</span>.decode(<span class="string">'utf-8'</span>, errors=<span class="string">'ignore'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>len(),strè®¡ç®—å­—ç¬¦.bytesè®¡ç®—å­—èŠ‚</p>
</li>
<li>å¼€å¤´,ç¬¬ä¸€è¡Œ,å¯æ‰§è¡Œæ–‡ä»¶(windowsä¼šå¿½è§†æ³¨é‡Š)<br>ç¬¬äºŒè¡Œ,ä»¥utf-8å¤„ç†æ–‡ä»¶.<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a href="#å­—ç¬¦ä¸²æ ¼å¼åŒ–" class="headerlink" title="å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a>å­—ç¬¦ä¸²æ ¼å¼åŒ–</h3><ul>
<li><p>å ä½ç¬¦ä¸cåŸºæœ¬ç›¸åŒ %d %s %x %f</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">'%2d-%02d'</span> % (<span class="number">3</span>, <span class="number">1</span>))</div><div class="line">print(<span class="string">'%.2f'</span> % <span class="number">3.1415926</span>)</div></pre></td></tr></table></figure>
<p>éœ€è¦ % æ—¶, %%</p>
</li>
<li><p>format()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello, &#123;0&#125;, æˆç»©æå‡äº† &#123;1:.1f&#125;%'</span>.format(<span class="string">'å°æ˜'</span>, <span class="number">17.125</span>)</div><div class="line"><span class="string">'Hello, å°æ˜, æˆç»©æå‡äº† 17.1%'</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="list-tuple"><a href="#list-tuple" class="headerlink" title="list tuple"></a>list tuple</h2><h3 id="list-åˆ—è¡¨"><a href="#list-åˆ—è¡¨" class="headerlink" title="list åˆ—è¡¨"></a>list åˆ—è¡¨</h3><ul>
<li><p>ç¤ºä¾‹, <code>= [ , , ]</code> å¯å˜ æœ‰åº</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">classmates = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>ç´¢å¼•ä»¥ 0 å¼€å§‹,å¯ä»¥å€’åº <code>-n</code> å½“ç„¶è¶Šç•Œéƒ½æ˜¯ <code>IndexError</code> é”™è¯¯</p>
</li>
<li>.len(),listå…ƒç´ ä¸ªæ•°.</li>
<li>.append(x) æœ«å°¾æ·»åŠ </li>
<li>.insert(i,x) å¯¹åº”ç´¢å¼•å¤„æ’å…¥</li>
<li>.pop(i) åˆ é™¤iå¯¹åº”å…ƒç´ ,ä¸ºç©ºåˆ™åˆ é™¤æœ«å°¾å…ƒç´ .</li>
<li>æ›¿æ¢iä½ç½®,ç›´æ¥èµ‹å€¼.</li>
<li>listçš„å…ƒç´ å¯ä»¥ä¸ºä¸€ä¸ªlist.å¤šé‡æ•°ç»„.</li>
</ul>
<h3 id="tuple-å…ƒç»„"><a href="#tuple-å…ƒç»„" class="headerlink" title="tuple å…ƒç»„"></a>tuple å…ƒç»„</h3><ul>
<li><p>ç¤ºä¾‹<code>= ( , , )</code> ä¸å¯å˜ æœ‰åº æ›´å®‰å…¨,å…¶ä»–ä¸listç›¸åŒ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">t = (<span class="number">1</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
</li>
<li><p><code>t = (1,)</code>å£°æ˜ä¸€ä¸ªå…ƒç´ å…ƒç»„,æ¯”è¾ƒç‰¹æ®Š.</p>
</li>
</ul>
<h2 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h2><ul>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> true :</div><div class="line">    print(<span class="string">"1"</span>)</div><div class="line"><span class="keyword">elif</span> true :</div><div class="line">    print(<span class="string">"2"</span>)</div><div class="line"><span class="keyword">else</span> :</div><div class="line">    print(<span class="string">"3"</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>if æ¡ä»¶å¯ç®€å†™,<code>if x</code> xéé›¶æ•°å€¼ã€éç©ºå­—ç¬¦ä¸²ã€éç©ºlist åˆ™ä¸ºtrue</p>
</li>
<li>æåŠç”¨æˆ·è¾“å…¥ input()</li>
<li>inputé»˜è®¤è¿”å›å­—ç¬¦ä¸²,å¦‚éœ€è¦å…¶ä»–ç±»å‹ int()è½¬æ¢.</li>
</ul>
<h2 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h2><ul>
<li><p>ç¤ºä¾‹ ä¸cç›¸åŒ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> names:</div><div class="line">    print(x)</div></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹ ä¸cç›¸åŒ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span> n &gt; <span class="number">0</span>:</div><div class="line">    print(n)</div></pre></td></tr></table></figure>
</li>
<li><p>break è·³å‡ºæ­¤å±‚å¾ªç¯</p>
</li>
<li>continue è·³å‡ºæœ¬è½®å¾ªç¯</li>
</ul>
<h2 id="dict-å’Œ-set"><a href="#dict-å’Œ-set" class="headerlink" title="dict å’Œ set"></a>dict å’Œ set</h2><h3 id="dict"><a href="#dict" class="headerlink" title="dict"></a>dict</h3><ul>
<li>å­—å…¸,ä½¿ç”¨é”®å€¼å¯¹å‚¨å­˜æ•°æ®,ç´¢å¼•æå¿«,ç©ºé—´æ¢æ—¶é—´.</li>
<li>å¯¹åº”å…¶ä»–è¯­è¨€çš„ map </li>
<li><p>ç¤ºä¾‹: {â€˜â€™: ,â€™â€™: ,â€¦}</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">d = &#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Bob'</span>: <span class="number">75</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</div><div class="line">d[<span class="string">'Michael'</span>]</div><div class="line"><span class="number">95</span></div></pre></td></tr></table></figure>
</li>
<li><p>key</p>
<ul>
<li>å¿…é¡»ä¸ºä¸å¯å˜å¯¹è±¡,æ•´æ•°ã€å­—ç¬¦ä¸²ç­‰</li>
<li>ä¸€ä¸ªkeyå¯¹åº”ä¸€ä¸ªvalue</li>
<li><p>keyä¸å­˜åœ¨</p>
<ul>
<li><p>inåˆ¤æ–­</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Thomas'</span> <span class="keyword">in</span> d</div><div class="line"><span class="keyword">False</span></div></pre></td></tr></table></figure>
</li>
<li><p>get()è·å–</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">d.get(<span class="string">'Thomas'</span>) <span class="comment"># è¿”å›ç©º</span></div><div class="line">d.get(<span class="string">'Thomas'</span>, <span class="number">-1</span>) <span class="comment"># ä¸å­˜åœ¨? è¿”å›-1: ;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>pop()åˆ é™¤</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">d.pop(<span class="string">'Bob'</span>)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><ul>
<li>keyçš„é›†åˆ,ä½†ä¸å­˜åœ¨value</li>
<li>æ— åºã€ä¸é‡å¤ã€å…ƒç´ ä¸ºä¸å¯å˜å¯¹è±¡</li>
<li>åˆ›å»ºsetéœ€è¦ä¸€ä¸ªlist</li>
<li><p>ç¤ºä¾‹ set([ , , â€¦])</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><code>.add(key)</code>/<code>.remove(key)</code></p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ•°æ®ç±»å‹&quot;&gt;&lt;a href=&quot;#æ•°æ®ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®ç±»å‹&quot;&gt;&lt;/a&gt;æ•°æ®ç±»å‹&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ•´æ•° æµ®ç‚¹æ•° &lt;h3 id=&quot;å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; ti
    
    </summary>
    
      <category term="pythonç¬”è®°" scheme="http://yoursite.com/categories/python%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pythonâ€”å‡½æ•°å¼ç¼–ç¨‹</title>
    <link href="http://yoursite.com/2018/01/19/python%E2%80%94%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    <id>http://yoursite.com/2018/01/19/pythonâ€”å‡½æ•°å¼ç¼–ç¨‹/</id>
    <published>2018-01-19T02:17:11.000Z</published>
    <updated>2018-01-19T15:02:50.055Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h2><ul>
<li>çº¯å‡½æ•°å¼ç¼–ç¨‹æ²¡æœ‰å˜é‡,ä¸€ä¸ªå‡½æ•°åªè¦è¾“å‡ºç¡®å®š,è¾“å‡ºå°±æ˜¯ç¡®å®šçš„,ç§°ä¸ºæ²¡æœ‰å‰¯ä½œç”¨.ä½¿ç”¨å˜é‡çš„å‡½æ•°å†…éƒ¨ç”±äºå˜é‡çŠ¶æ€ä¸ç¡®å®šæ€§,æœ‰å‰¯ä½œç”¨.</li>
<li>å‡½æ•°å¼ç¼–ç¨‹å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯å…è®¸å‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥,ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›å¦å¤–ä¸€ä¸ªå‡½æ•°.</li>
<li>pythonå¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›æœ‰é™æ”¯æŒ.(è¿˜ä½¿ç”¨å˜é‡ soä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€)<h3 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h3></li>
<li>pythonä¸­å‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡,å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°</li>
<li>å‡½æ•°çš„å‚æ•°å¯ä»¥ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°,è¿™ç§å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°.</li>
</ul>
<h4 id="map-reduce"><a href="#map-reduce" class="headerlink" title="map/reduce"></a>map/reduce</h4><ul>
<li>map()æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯Iterableï¼Œmapå°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨åˆ°åºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æŠŠç»“æœä½œä¸ºæ–°çš„Iteratorè¿”å›</li>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">list(map(str, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]) <span class="comment"># listæ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²</span></div></pre></td></tr></table></figure>
</li>
<li><p>reduceæŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªåºåˆ—[x1, x2, x3, â€¦]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒreduceæŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—</p>
</li>
<li>ç¤ºä¾‹<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(x, y)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">return</span> x * <span class="number">10</span> + y</div><div class="line">...</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">char2num</span><span class="params">(s)</span>:</span></div><div class="line"><span class="meta">... </span>    digits = &#123;<span class="string">'0'</span>: <span class="number">0</span>, <span class="string">'1'</span>: <span class="number">1</span>, <span class="string">'2'</span>: <span class="number">2</span>, <span class="string">'3'</span>: <span class="number">3</span>, <span class="string">'4'</span>: <span class="number">4</span>, <span class="string">'5'</span>: <span class="number">5</span>, <span class="string">'6'</span>: <span class="number">6</span>, <span class="string">'7'</span>: <span class="number">7</span>, <span class="string">'8'</span>: <span class="number">8</span>, <span class="string">'9'</span>: <span class="number">9</span>&#125;</div><div class="line"><span class="meta">... </span>    <span class="keyword">return</span> digits[s]</div><div class="line">...</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(fn, map(char2num, <span class="string">'13579'</span>))</div><div class="line"><span class="number">13579</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><ul>
<li>filter()æ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—ã€‚filter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œç„¶åæ ¹æ®è¿”å›å€¼æ˜¯Trueè¿˜æ˜¯Falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚</li>
<li>filter()å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª æƒ°æ€§åºåˆ— Iteratorï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæƒ°æ€§åºåˆ—,éœ€è¦ç”¨list()å‡½æ•°è·å¾—æ‰€æœ‰ç»“æœå¹¶è¿”å›list</li>
<li>ç¤ºä¾‹<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span><span class="params">(n)</span>:</span></div><div class="line">  <span class="keyword">return</span> n % <span class="number">2</span> == <span class="number">1</span></div><div class="line"></div><div class="line">list(filter(is_odd, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">15</span>])) <span class="comment"># åªä¿ç•™å¥‡æ•°</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_empty</span><span class="params">(s)</span>:</span></div><div class="line">  <span class="keyword">return</span> s <span class="keyword">and</span> s.strip()</div><div class="line"></div><div class="line">list(filter(not_empty, [<span class="string">'A'</span>, <span class="string">''</span>, <span class="string">'B'</span>, <span class="keyword">None</span>, <span class="string">'C'</span>, <span class="string">'  '</span>])) <span class="comment"># åˆ é™¤ç©ºå­—ç¬¦</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h4><ul>
<li>sorted()å‡½æ•°æ¥æ”¶ä¸€ä¸ªkeyå‡½æ•°æ¥å®ç°è‡ªå®šä¹‰çš„æ’åº.ç¬¬ä¸‰ä¸ªå‚æ•°<code>reverse=True</code>å†³å®šæ­£åºå€’åº.</li>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">  &gt;&gt;&gt; sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>],key=str.lower)</div><div class="line">  [<span class="string">'about'</span>, <span class="string">'bob'</span>, <span class="string">'Credit'</span>, <span class="string">'Zoo'</span>]</div><div class="line"></div><div class="line">  &gt;&gt;&gt; sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower, reverse=<span class="keyword">True</span>)</div><div class="line">  [<span class="string">'Zoo'</span>, <span class="string">'Credit'</span>, <span class="string">'bob'</span>, <span class="string">'about'</span>]</div><div class="line">  ``` </div><div class="line"></div><div class="line"><span class="comment">### è¿”å›å‡½æ•°</span></div><div class="line">* å°†å‡½æ•°ä½œä¸ºç»“æœè¿”å›.(å¾ˆéšä¾¿ğŸ˜‚)</div><div class="line">* é—­åŒ…ï¼ˆClosureï¼‰:ç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›å‡½æ•°.</div><div class="line">* **note:**è¿”å›çš„å‡½æ•°åœ¨å…¶å®šä¹‰å†…éƒ¨å¼•ç”¨äº†å±€éƒ¨å˜é‡argsï¼Œæ‰€ä»¥ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¿”å›äº†ä¸€ä¸ªå‡½æ•°åï¼Œå…¶å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿˜è¢«æ–°å‡½æ•°å¼•ç”¨</div><div class="line">* ç¤ºä¾‹(å‘):</div><div class="line">  ```py</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></div><div class="line">    fs = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></div><div class="line">             <span class="keyword">return</span> i*i</div><div class="line">        fs.append(f)</div><div class="line">    <span class="keyword">return</span> fs</div><div class="line"></div><div class="line">  f1, f2, f3 = count()</div><div class="line"></div><div class="line">  &gt;&gt;&gt; f1()</div><div class="line">  <span class="number">9</span></div><div class="line">  &gt;&gt;&gt; f2()</div><div class="line">  <span class="number">9</span></div><div class="line">  &gt;&gt;&gt; f3()</div><div class="line">  <span class="number">9</span></div></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›çš„å‡½æ•°å¼•ç”¨äº†å˜é‡iï¼Œä½†å®ƒå¹¶éç«‹åˆ»æ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›æ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡iå·²ç»å˜æˆäº†3ï¼Œå› æ­¤æœ€ç»ˆç»“æœä¸º9</p>
</li>
<li>ä¸€å®šè¦å¼•ç”¨å¾ªç¯å˜é‡æ€ä¹ˆåŠï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªç¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªç¯å˜é‡åç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜</li>
<li>ç¤ºä¾‹:<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(j)</span>:</span></div><div class="line">      <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></div><div class="line">          <span class="keyword">return</span> j*j</div><div class="line">      <span class="keyword">return</span> g</div><div class="line">  fs = []</div><div class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</div><div class="line">      fs.append(f(i)) <span class="comment"># f(i)ç«‹åˆ»è¢«æ‰§è¡Œï¼Œå› æ­¤içš„å½“å‰å€¼è¢«ä¼ å…¥f()</span></div><div class="line">  <span class="keyword">return</span> fs</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h3><ul>
<li>ä¸æ˜¾å¼å®šä¹‰çš„å‡½æ•°. pythonä¸­æ˜¯ <code>lambda</code> ä½†ä¸javaä¸åŒ.</li>
<li>pythonä¸­<code>lambda</code>é™åˆ¶ï¼Œåªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç”¨å†™returnï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœ</li>
<li>åŒ¿åå‡½æ•°ä¸å¿…æ‹…å¿ƒå‡½æ•°åå†²çªã€‚æ­¤å¤–ï¼ŒåŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŠŠåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå†åˆ©ç”¨å˜é‡æ¥è°ƒç”¨è¯¥å‡½æ•°</li>
<li>ç¤ºä¾‹<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">f = <span class="keyword">lambda</span> x: x * x</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h3><ul>
<li>ä»£ç è¿è¡ŒæœŸé—´,åŠ¨æ€å¢åŠ åŠŸèƒ½æ–¹å¼ç§°ä¸ºè£…é¥°å™¨(Decorator)</li>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(func)</span>:</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kw)</span>:</span></div><div class="line">      print(<span class="string">'call %s():'</span> % func.__name__)</div><div class="line">      <span class="keyword">return</span> func(*args, **kw)</div><div class="line">  <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">@log</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">now</span><span class="params">()</span>:</span></div><div class="line">  print(<span class="string">'2015-3-25'</span>)</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now()</div><div class="line">call now():</div><div class="line"><span class="number">2015</span><span class="number">-3</span><span class="number">-25</span></div></pre></td></tr></table></figure>
</li>
<li><p>å¦‚ç¤ºä¾‹,è£…é¥°å™¨ æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°,å¹¶è¿”å›åŸå‡½æ•°.åœ¨åŸå‡½æ•°å®šä¹‰æ—¶,ä»¥ <code>@ xxx</code>ä½œä¸ºæ ‡è®°.ç¤ºä¾‹1 ä¸º2å±‚,å¦‚æœæ‰“å°æ–‡æœ¬å¯ä»¥è‡ªå®šä¹‰.</p>
</li>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(text)</span>:</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></div><div class="line">      <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kw)</span>:</span></div><div class="line">          print(<span class="string">'%s %s():'</span> % (text, func.__name__))</div><div class="line">          <span class="keyword">return</span> func(*args, **kw)</div><div class="line">      <span class="keyword">return</span> wrapper</div><div class="line">  <span class="keyword">return</span> decorator</div><div class="line"></div><div class="line"><span class="meta">@log('execute')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">now</span><span class="params">()</span>:</span></div><div class="line">  print(<span class="string">'2015-3-25'</span>)</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now()</div><div class="line">execute now():</div><div class="line"><span class="number">2015</span><span class="number">-3</span><span class="number">-25</span></div></pre></td></tr></table></figure>
<p>æ‰“å°å¯è‡ªå®šä¹‰ åˆåŠ ä¸Šäº†ä¸€å±‚.</p>
</li>
<li><p>å¦‚ä¸Šä¸¤ç§å®šä¹‰å,å‡½æ•°å¯¹è±¡çš„åç§°ç­‰å‘ç”Ÿäº†å˜åŒ–,so,ç»ˆæç‰ˆ</p>
</li>
<li>Pythonå†…ç½®çš„functools.wraps ä¼šå°†åŸå§‹å‡½æ•°çš„<code>__name__</code>ç­‰å±æ€§å¤åˆ¶åˆ°wrapper()å‡½æ•°ä¸­.</li>
<li>ç¤ºä¾‹<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> functools</div><div class="line"><span class="comment"># ä¸å¸¦å‚æ•°</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(func)</span>:</span></div><div class="line"><span class="meta">    @functools.wraps(func)</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kw)</span>:</span></div><div class="line">        print(<span class="string">'call %s():'</span> % func.__name__)</div><div class="line">        <span class="keyword">return</span> func(*args, **kw)</div><div class="line">    <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="comment"># å¸¦å‚æ•°</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(text)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></div><div class="line"><span class="meta">        @functools.wraps(func)</span></div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kw)</span>:</span></div><div class="line">            print(<span class="string">'%s %s():'</span> % (text, func.__name__))</div><div class="line">            <span class="keyword">return</span> func(*args, **kw)</div><div class="line">        <span class="keyword">return</span> wrapper</div><div class="line">    <span class="keyword">return</span> decorator</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="åå‡½æ•°"><a href="#åå‡½æ•°" class="headerlink" title="åå‡½æ•°"></a>åå‡½æ•°</h3><ul>
<li>functools.partialçš„ä½œç”¨æ˜¯æŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°.</li>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> functools</div><div class="line">int2 = functools.partial(int, base=<span class="number">2</span>)</div><div class="line"></div><div class="line">int2(<span class="string">'1000000'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„: ä»…ä»…æ˜¯æŠŠbaseå‚æ•°é‡æ–°è®¾å®šé»˜è®¤å€¼ä¸º2ï¼Œ<strong>ä½†ä¹Ÿå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥å…¶ä»–å€¼</strong></p>
</li>
<li>ç”±äºpython ä¸­å‡½æ•°ä¹Ÿå¯ä»¥æœ€ä¸ºå‚æ•°ä¼ å…¥,so,å‚æ•°å›ºå®šæˆæŸä¸€ä¸ªå‡½æ•°ä¹Ÿå¯.</li>
<li><p>åŒç†: <code>*args</code> å’Œ <code>**kw</code> ä¹Ÿå¯ä»¥.</p>
</li>
<li><p>ç®€åŒ–å‡½æ•°è°ƒç”¨.</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‡½æ•°å¼ç¼–ç¨‹&quot;&gt;&lt;a href=&quot;#å‡½æ•°å¼ç¼–ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;å‡½æ•°å¼ç¼–ç¨‹&quot;&gt;&lt;/a&gt;å‡½æ•°å¼ç¼–ç¨‹&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;çº¯å‡½æ•°å¼ç¼–ç¨‹æ²¡æœ‰å˜é‡,ä¸€ä¸ªå‡½æ•°åªè¦è¾“å‡ºç¡®å®š,è¾“å‡ºå°±æ˜¯ç¡®å®šçš„,ç§°ä¸ºæ²¡æœ‰å‰¯ä½œç”¨.ä½¿ç”¨å˜é‡çš„å‡½æ•°å†…éƒ¨ç”±äºå˜é‡çŠ¶
    
    </summary>
    
      <category term="pythonç¬”è®°" scheme="http://yoursite.com/categories/python%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pythonâ€”nå‡½æ•°</title>
    <link href="http://yoursite.com/2018/01/19/python%E2%80%94n%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2018/01/19/pythonâ€”nå‡½æ•°/</id>
    <published>2018-01-19T02:17:11.000Z</published>
    <updated>2018-01-19T15:04:49.024Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a>å¸¸ç”¨</h3><ul>
<li>å‚æ•°æ•°é‡ä¸å¯¹ TypeErroré”™è¯¯</li>
<li>å‚æ•°ç±»å‹é”™è¯¯ï¼ŒTypeErrorçš„é”™è¯¯ï¼Œå¹¶ä¸”ç»™å‡ºé”™è¯¯ä¿¡æ¯</li>
<li>int()è½¬æ¢ä¸ºintç±»å‹</li>
<li>float()</li>
<li>bool()</li>
<li><p>str()</p>
</li>
<li><p>å‡½æ•°åä¸ºä¸€æŒ‡å‘å‡½æ•°å¯¹è±¡çš„å¼•ç”¨,å¯ä»¥å°†å˜é‡æŒ‡å‘å‡½æ•°,å†è°ƒç”¨</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = abs <span class="comment"># å˜é‡aæŒ‡å‘abså‡½æ•°</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a(<span class="number">-1</span>) <span class="comment"># æ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡aè°ƒç”¨abså‡½æ•°</span></div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å®šä¹‰å‡½æ•°"><a href="#å®šä¹‰å‡½æ•°" class="headerlink" title="å®šä¹‰å‡½æ•°"></a>å®šä¹‰å‡½æ•°</h3><ul>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></div><div class="line">  <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</div><div class="line">      <span class="keyword">return</span> x</div><div class="line">  <span class="keyword">else</span>:</div><div class="line">      <span class="keyword">return</span> -x</div></pre></td></tr></table></figure>
<p>def å‡½æ•°å(å‚æ•°) :<br>  å‡½æ•°ä½“<br>  return </p>
</li>
<li>æ²¡æœ‰return åˆ™è¿”å› None</li>
<li><p>import åŒ…å«æ¨¡å—,javaä¸€æ ·</p>
</li>
<li><p>ç©ºå‡½æ•° pass è¯­å¥.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">nop</span><span class="params">()</span>:</span></div><div class="line">  <span class="keyword">pass</span></div></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹ è¿”å›å¤šä¸ªå‚æ•°</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> math</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(x, y, step, angle=<span class="number">0</span>)</span>:</span></div><div class="line">  nx = x + step * math.cos(angle)</div><div class="line">  ny = y - step * math.sin(angle)</div><div class="line">  <span class="keyword">return</span> nx, ny</div></pre></td></tr></table></figure>
<p>è¿”å›çš„æ˜¯ä¸€ä¸ªtuple .. æŒ‰ä½ç½®èµ‹å€¼ç»™å˜é‡</p>
</li>
</ul>
<h3 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h3><ul>
<li><strong>å‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°</strong></li>
</ul>
<h4 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h4><ul>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(x, n=<span class="number">2</span>)</span>:</span></div><div class="line">...</div><div class="line"></div><div class="line">power(<span class="number">5</span>)   power(<span class="number">5</span>, <span class="number">2</span>)  power(n=<span class="number">3</span>,<span class="number">5</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡</p>
</li>
<li>å¤šä¸ªå‚æ•°æ—¶ï¼Œå˜åŒ–å¤§çš„å‚æ•°åœ¨å‰ï¼Œå˜åŒ–å°çš„å‚æ•°åœ¨åã€‚å˜åŒ–å°çš„å‚æ•°å°±å¯ä»¥ä½œä¸ºé»˜è®¤å‚æ•°ã€‚</li>
<li>å¤šä¸ªé»˜è®¤å‚æ•°ï¼Œå¯ä»¥æŒ‰é¡ºåºæä¾›é»˜è®¤å‚æ•°</li>
<li><p>ä¹Ÿå¯ä»¥ä¸æŒ‰é¡ºåºæä¾›ã€‚å½“ä¸æŒ‰é¡ºåºæä¾›éƒ¨åˆ†é»˜è®¤å‚æ•°æ—¶ï¼Œéœ€è¦æŠŠå‚æ•°åå†™ä¸Š <code>enroll(&#39;Adam&#39;, &#39;M&#39;, city=&#39;Tianjin&#39;)</code></p>
</li>
<li><p><strong><code>å‘</code></strong></p>
<ul>
<li>é»˜è®¤å‚æ•° ä¸å¯å˜æ€§ æ¯æ¬¡è°ƒç”¨å‡ä¼šæ”¹å˜å…¶å€¼.</li>
</ul>
</li>
</ul>
<h4 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h4><ul>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(*numbers)</span>:</span></div><div class="line">  sum = <span class="number">0</span></div><div class="line">  <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</div><div class="line">      sum = sum + n * n</div><div class="line">  <span class="keyword">return</span> sum</div><div class="line"></div><div class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">calc(*nums)   <span class="comment">#ç›¸åŒ</span></div><div class="line">calc(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å¯å˜,ä¼ å…¥ç»„è£…æˆäº†tuple</p>
</li>
<li>å½“ä½œcè¯­è¨€æŒ‡é’ˆå§ğŸ˜‚ ä¼ å…¥æ•°ç»„çš„åœ°å€</li>
</ul>
<h4 id="å‘½åå…³é”®å­—å‚æ•°"><a href="#å‘½åå…³é”®å­—å‚æ•°" class="headerlink" title="å‘½åå…³é”®å­—å‚æ•°"></a>å‘½åå…³é”®å­—å‚æ•°</h4><ul>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *, city, job)</span>:</span></div><div class="line">  print(name, age, city, job)</div><div class="line"></div><div class="line">person(<span class="string">'Jack'</span>, <span class="number">24</span>, city=<span class="string">'Beijing'</span>, job=<span class="string">'Engineer'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>å‘½åå…³é”®å­—å‚æ•°éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦<em>ï¼Œ</em>åé¢çš„å‚æ•°è¢«è§†ä¸ºå‘½åå…³é”®å­—å‚æ•°</p>
</li>
<li><p>å‡½æ•°å®šä¹‰ä¸­å·²ç»æœ‰äº†ä¸€ä¸ªå¯å˜å‚æ•°ï¼Œåé¢è·Ÿç€çš„å‘½åå…³é”®å­—å‚æ•°å°±ä¸å†éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦*</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *args, city, job)</span>:</span></div><div class="line">  print(name, age, args, city, job)</div></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœæ²¡æœ‰å¯å˜å‚æ•°ï¼Œå°±å¿…é¡»åŠ ä¸€ä¸ª<em>ä½œä¸ºç‰¹æ®Šåˆ†éš”ç¬¦ã€‚å¦‚æœç¼ºå°‘</em>ï¼ŒPythonè§£é‡Šå™¨å°†æ— æ³•è¯†åˆ«ä½ç½®å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°</p>
<h4 id="å…³é”®å­—å‚æ•°"><a href="#å…³é”®å­—å‚æ•°" class="headerlink" title="å…³é”®å­—å‚æ•°"></a>å…³é”®å­—å‚æ•°</h4></li>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span>:</span></div><div class="line">  print(<span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age, <span class="string">'other:'</span>, kw)</div><div class="line"></div><div class="line">extra = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</div><div class="line">person(<span class="string">'Jack'</span>, <span class="number">24</span>, city=extra[<span class="string">'city'</span>], job=extra[<span class="string">'job'</span>])</div><div class="line"><span class="comment">#ç›¸åŒ</span></div><div class="line">extra = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</div><div class="line">person(<span class="string">'Jack'</span>, <span class="number">24</span>, **extra)</div></pre></td></tr></table></figure>
</li>
<li><p>å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨ç»„è£…ä¸ºä¸€ä¸ªdict</p>
</li>
<li>å‡½æ•°å†…éƒ¨è·å¾—æ˜¯ dictçš„æ‹·è´,ä¿®æ”¹å¯¹åŸå€¼æ— å½±å“.</li>
<li>å¯ä»¥ä¼ å…¥ä»»æ„ä¸å—é™åˆ¶çš„å…³é”®å­—å‚æ•°</li>
</ul>
<h4 id="é€’å½’å‡½æ•°"><a href="#é€’å½’å‡½æ•°" class="headerlink" title="é€’å½’å‡½æ•°"></a>é€’å½’å‡½æ•°</h4><ul>
<li>python ä¸å«å°¾é€’å½’ä¼˜åŒ–,æ³¨æ„å±‚çº§,å¦åˆ™éå¸¸å®¹æ˜“å †æ ˆæº¢å‡º.</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‡½æ•°&quot;&gt;&lt;a href=&quot;#å‡½æ•°&quot; class=&quot;headerlink&quot; title=&quot;å‡½æ•°&quot;&gt;&lt;/a&gt;å‡½æ•°&lt;/h2&gt;&lt;h3 id=&quot;å¸¸ç”¨&quot;&gt;&lt;a href=&quot;#å¸¸ç”¨&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨&quot;&gt;&lt;/a&gt;å¸¸ç”¨&lt;/h3&gt;&lt;ul&gt;
&lt;
    
    </summary>
    
      <category term="pythonç¬”è®°" scheme="http://yoursite.com/categories/python%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¬”è®°â€”Linuxæ–‡ä»¶å¤¹æ“ä½œ</title>
    <link href="http://yoursite.com/2018/01/18/linux%E7%AC%94%E8%AE%B0%E2%80%94Linux%E6%96%87%E4%BB%B6%E5%A4%B9%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2018/01/18/linuxç¬”è®°â€”Linuxæ–‡ä»¶å¤¹æ“ä½œ/</id>
    <published>2018-01-18T02:17:11.000Z</published>
    <updated>2018-01-19T15:06:47.054Z</updated>
    
    <content type="html"><![CDATA[<h2 id="linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ"><a href="#linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ" class="headerlink" title="linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ"></a>linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ</h2><ul>
<li>å‚è€ƒ<blockquote>
<p><a href="http://blog.csdn.net/u011118014/article/details/43232693" target="_blank" rel="external">http://blog.csdn.net/u011118014/article/details/43232693</a></p>
<h2 id="æ‰“å¼€æ–‡ä»¶å¤¹-éå†è®¿é—®æ¯ä¸ªæ–‡ä»¶"><a href="#æ‰“å¼€æ–‡ä»¶å¤¹-éå†è®¿é—®æ¯ä¸ªæ–‡ä»¶" class="headerlink" title="æ‰“å¼€æ–‡ä»¶å¤¹,éå†è®¿é—®æ¯ä¸ªæ–‡ä»¶"></a>æ‰“å¼€æ–‡ä»¶å¤¹,éå†è®¿é—®æ¯ä¸ªæ–‡ä»¶</h2><h3 id="åˆ‡æ¢åˆ°æ–‡ä»¶å¤¹è·¯å¾„ä¸‹"><a href="#åˆ‡æ¢åˆ°æ–‡ä»¶å¤¹è·¯å¾„ä¸‹" class="headerlink" title="åˆ‡æ¢åˆ°æ–‡ä»¶å¤¹è·¯å¾„ä¸‹"></a>åˆ‡æ¢åˆ°æ–‡ä»¶å¤¹è·¯å¾„ä¸‹</h3></blockquote>
</li>
<li>è°ƒç”¨ chdir å³å¯<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chdir(&quot;/info&quot;);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="æ‰“å¼€æ–‡ä»¶å¤¹"><a href="#æ‰“å¼€æ–‡ä»¶å¤¹" class="headerlink" title="æ‰“å¼€æ–‡ä»¶å¤¹"></a>æ‰“å¼€æ–‡ä»¶å¤¹</h3><ul>
<li><p>æºç ,æ‰“å¼€æ–‡ä»¶å¤¹è¿”å›å¯¹åº”æ–‡ä»¶å¤¹çš„DIRç»“æ„ä½“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">DIR *dir;	</div><div class="line">dir = opendir(pcDirName);</div><div class="line">if (NULL == dir)&#123;</div><div class="line">  continue ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>DIRç»“æ„ä½“ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">struct __dirstream</div><div class="line"> &#123;</div><div class="line">  void *__fd;</div><div class="line">  char *__data;</div><div class="line">  int __entry_data;</div><div class="line">  char *__ptr;</div><div class="line">  int __entry_ptr;</div><div class="line">  size_t __allocation;</div><div class="line">  size_t __size;</div><div class="line">  __libc_lock_define (, __lock)</div><div class="line"> &#125;;</div><div class="line">typedef struct __dirstream DIR;</div></pre></td></tr></table></figure>
<p>ä¿å­˜æ–‡ä»¶å¤¹ç›¸å…³å†…å®¹,æ— éœ€æ·±ç©¶</p>
</li>
<li><p>æºç ,éå†æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">struct direct    *ent;</div><div class="line">while (NULL != (ent = readdir(dir)))&#123;</div><div class="line">  /*å¦‚æœ æŒ‡å‘ . ..*/</div><div class="line">  if (0 == strcmp(ent-&gt;d_name, &quot;.&quot;) \</div><div class="line">    || 0 == strcmp(ent-&gt;d_name, &quot;..&quot;) \</div><div class="line">    || 4 == ent-&gt;d_type)&#123;</div><div class="line">      continue;</div><div class="line">  &#125;    </div><div class="line">  /*éå†*/</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>direntç»“æ„ä½“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">struct dirent</div><div class="line">&#123;</div><div class="line">  long d_ino; /* inode number ç´¢å¼•èŠ‚ç‚¹å· */</div><div class="line">  off_t d_off; /* offset to this dirent åœ¨ç›®å½•æ–‡ä»¶ä¸­çš„åç§» */</div><div class="line">  unsigned short d_reclen; /* length of this d_name æ–‡ä»¶åé•¿ */</div><div class="line">  unsigned char d_type; /* the type of d_name æ–‡ä»¶ç±»å‹ */</div><div class="line">  char d_name [NAME_MAX+1]; /* file name (null-terminated) æ–‡ä»¶åï¼Œæœ€é•¿255å­—ç¬¦ */</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>direntæŒ‡å‘ç›®å½•å’Œç›®å½•ä¸­æŸä¸ªå…·ä½“æ–‡ä»¶,ä½†è¿˜æ˜¯æ¡¥æ¢ä½œç”¨,è®¿é—®æ–‡ä»¶å…·ä½“å†…å®¹è¿˜éœ€è¦é€šè¿‡d_nameæ‰¾åˆ°statç»“æ„ä½“æ”¯æ´.</p>
</li>
<li><p>æºç ,è·å–statç»“æ„ä½“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">stat  f_stat;</div><div class="line">sdwRet = stat(ent-&gt;d_name, &amp;f_stat);</div></pre></td></tr></table></figure>
</li>
<li><p>statç»“æ„ä½“æ˜¯æŒ‡å‘æ–‡ä»¶çš„ç»“æ„ä½“ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">struct stat &#123;</div><div class="line">  mode_t     st_mode;       //æ–‡ä»¶è®¿é—®æƒé™</div><div class="line">  ino_t      st_ino;       //ç´¢å¼•èŠ‚ç‚¹å·</div><div class="line">  dev_t      st_dev;        //æ–‡ä»¶ä½¿ç”¨çš„è®¾å¤‡å·</div><div class="line">  dev_t      st_rdev;       //è®¾å¤‡æ–‡ä»¶çš„è®¾å¤‡å·</div><div class="line">  nlink_t    st_nlink;      //æ–‡ä»¶çš„ç¡¬è¿æ¥æ•°</div><div class="line">  uid_t      st_uid;        //æ‰€æœ‰è€…ç”¨æˆ·è¯†åˆ«å·</div><div class="line">  gid_t      st_gid;        //ç»„è¯†åˆ«å·</div><div class="line">  off_t      st_size;       //ä»¥å­—èŠ‚ä¸ºå•ä½çš„æ–‡ä»¶å®¹é‡</div><div class="line">  time_t     st_atime;      //æœ€åä¸€æ¬¡è®¿é—®è¯¥æ–‡ä»¶çš„æ—¶é—´</div><div class="line">  time_t     st_mtime;      //æœ€åä¸€æ¬¡ä¿®æ”¹è¯¥æ–‡ä»¶çš„æ—¶é—´</div><div class="line">  time_t     st_ctime;      //æœ€åä¸€æ¬¡æ”¹å˜è¯¥æ–‡ä»¶çŠ¶æ€çš„æ—¶é—´</div><div class="line">  blksize_t st_blksize;    //åŒ…å«è¯¥æ–‡ä»¶çš„ç£ç›˜å—çš„å¤§å°</div><div class="line">  blkcnt_t   st_blocks;     //è¯¥æ–‡ä»¶æ‰€å çš„ç£ç›˜å—</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>ä¹‹åæ„‰å¿«è®¿é—®å§</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ&quot;&gt;&lt;a href=&quot;#linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ&quot;&gt;&lt;/a&gt;linuxä¸‹æ–‡ä»¶å¤¹ç›¸å…³æ“ä½œ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å‚è€ƒ&lt;blockquote&gt;
&lt;p&gt;&lt;a
    
    </summary>
    
      <category term="linuxç¬”è®°" scheme="http://yoursite.com/categories/linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Androidéšæ‰‹è®°â€”Android Mé—ªé€€å°è®°</title>
    <link href="http://yoursite.com/2017/11/23/Android%E9%9A%8F%E6%89%8B%E8%AE%B0-Android%20M%E9%97%AA%E9%80%80%E5%B0%8F%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/11/23/Androidéšæ‰‹è®°-Android Mé—ªé€€å°è®°/</id>
    <published>2017-11-23T04:00:00.000Z</published>
    <updated>2017-11-23T13:25:12.337Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>ç¼–ç¨‹ç¯å¢ƒ</p>
<ul>
<li>Android Studio 3.0.1</li>
</ul>
<hr>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul>
<li>MyPrivacy åœ¨android Mä¸Šé—ªé€€,åœ¨æ¨¡æ‹Ÿå™¨ä¸­å¤ç°.æç¤º<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><ul>
<li>è¿›å…¥ç¬¬äºŒä¸ªActivityåº”ç”¨è®¾ç½®æ—¶,æ‰å‡ºç°,è€Œä¸” 7.1æ— é—®é¢˜.æ¨¡æ‹Ÿå™¨å¤ç°,æŠ“log.</li>
</ul>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><ul>
<li>logçš„æ„æ€æ˜¯å¯åŠ¨activityçš„contextä¸æ˜¯ activity.</li>
<li><p>å¯¹åº”ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Intent intent = new Intent(MyApplicantion.getContext(),   AppSettingActivity.class);</div><div class="line">intent.putExtra(&quot;PackageName&quot;, AppId);</div><div class="line">MyApplicantion.getContext().startActivity(intent);</div></pre></td></tr></table></figure>
</li>
<li><p>éœ€è¦å¯¹intentå£°æ˜ FLAG_ACTIVITY_NEW_TASK</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><ul>
<li>ç½‘ä¸Šçš„åŸå› åˆ†æ:</li>
<li>å› ä¸ºstandardæ¨¡å¼çš„Activityé»˜è®¤ä¼šè¿›å…¥å¯åŠ¨å®ƒçš„Activityæ‰€å±çš„ä»»åŠ¡æ ˆä¸­ï¼Œä½†æ˜¯ç”±äºéActivityç±»å‹çš„contextï¼ˆApplicationContextï¼‰å¹¶æ²¡æœ‰æ‰€è°“çš„ä»»åŠ¡æ ˆï¼Œæ‰€ä»¥å°±å‡ºç°é—®é¢˜äº†ã€‚éœ€è¦æŒ‡å®šActivityä¸ºFLAG_ACTIVITY_NEW_TASKæ ‡è®°ä½ï¼Œè¿™æ ·å¯åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šä¸ºå®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„ä»»åŠ¡æ ˆäº†ã€‚â€“androidå¼€å‘è‰ºæœ¯æ¢ç©¶</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;ç¼–ç¨‹ç¯å¢ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Android Studio 3.0.1&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;M
    
    </summary>
    
      <category term="Androidéšæ‰‹è®°" scheme="http://yoursite.com/categories/Android%E9%9A%8F%E6%89%8B%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Studio" scheme="http://yoursite.com/tags/Android-Studio/"/>
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>Androidéšæ‰‹è®°â€”ScrollView</title>
    <link href="http://yoursite.com/2017/11/12/Android%E9%9A%8F%E6%89%8B%E8%AE%B0-ScrollView/"/>
    <id>http://yoursite.com/2017/11/12/Androidéšæ‰‹è®°-ScrollView/</id>
    <published>2017-11-12T04:00:00.000Z</published>
    <updated>2017-11-12T09:48:39.562Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>ç¼–ç¨‹ç¯å¢ƒ</p>
<ul>
<li>Android Studio 3.0</li>
</ul>
<hr>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul>
<li>æ¨ªå±æ¨¡å¼ä¸‹,æ˜¾ç¤ºå†…å®¹è¢«é®æŒ¡</li>
</ul>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><ul>
<li>GoogleğŸ˜‚</li>
</ul>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><ul>
<li>ScrollView åªå…è®¸åµŒå¥—ä¸€ä¸ªå­å¸ƒå±€.è¶…å‡ºèŒƒå›´éƒ¨åˆ†ä¼šè‡ªåŠ¨å¢åŠ æ»šåŠ¨æ¡</li>
</ul>
<h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><ul>
<li>ScrollView åªèƒ½æ·»åŠ ç«–ç›´æ–¹å‘æ»šåŠ¨æ¡.</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;ç¼–ç¨‹ç¯å¢ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Android Studio 3.0&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ¨ªå±æ¨¡
    
    </summary>
    
      <category term="Androidéšæ‰‹è®°" scheme="http://yoursite.com/categories/Android%E9%9A%8F%E6%89%8B%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Studio" scheme="http://yoursite.com/tags/Android-Studio/"/>
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>Androidç¬”è®°â€”Rxjava2</title>
    <link href="http://yoursite.com/2017/11/06/Android%E7%AC%94%E8%AE%B0%E2%80%94Rxjava2/"/>
    <id>http://yoursite.com/2017/11/06/Androidç¬”è®°â€”Rxjava2/</id>
    <published>2017-11-06T04:00:00.000Z</published>
    <updated>2017-11-06T15:10:08.181Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>èµ„æ–™æ¥æºå¦‚ä¸‹<br><a href="http://www.jianshu.com/u/c50b715ccaeb" target="_blank" rel="external">ç»™åˆå­¦è€…çš„RxJava2.0æ•™ç¨‹</a>(demoä»£ç æ¥æº)</p>
<blockquote>
<p><a href="http://www.jianshu.com/u/c50b715ccaeb" target="_blank" rel="external">http://www.jianshu.com/u/c50b715ccaeb</a></p>
</blockquote>
<p>ç¼–ç¨‹ç¯å¢ƒ</p>
<ul>
<li>Android Studio 2.2.3 </li>
</ul>
<hr>
<ul>
<li>åœ¨Gradleé…ç½®:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">compile &apos;io.reactivex.rxjava2:rxjava:2.0.1&apos;</div><div class="line">compile &apos;io.reactivex.rxjava2:rxandroid:2.0.1&apos;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><ul>
<li>åœ¨Eventbusä¸­äº¦æ¶‰åŠäº†ç›¸å…³æ¦‚å¿µ,æ¯”è¾ƒç®€å•.åŒ…æ‹¬Observable(è¢«è§‚å¯Ÿè€…)ã€Observer(è§‚å¯Ÿè€…)ã€subscribe().äº‹ä»¶ç”±Observable(è¢«è§‚å¯Ÿè€…)å¼€å§‹å‘å‡º,é€šè¿‡subscribe()æœ€ç»ˆè¢«ä¼ é€’åˆ°Observer(è§‚å¯Ÿè€…).è€Œæ•´ä¸ªè¿‡ç¨‹ä¸­ä½ æ˜¯ç«™åœ¨Observer(è§‚å¯Ÿè€…)çš„ä½ç½®,ä¹Ÿå°±æ˜¯äº‹ä»¶çš„æœ«å°¾,è§‚å¯ŸObservable(è¢«è§‚å¯Ÿè€…).</li>
<li><p>ä¸Šå›¾</p>
</li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123;</div><div class="line">              emitter.onNext(1);</div><div class="line">              emitter.onComplete();</div><div class="line">          &#125;</div><div class="line">      &#125;).subscribe(new Observer&lt;Integer&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void onSubscribe(Disposable d) &#123;</div><div class="line">              Log.d(TAG, &quot;subscribe&quot;);</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onNext(Integer value) &#123;</div><div class="line">              Log.d(TAG, &quot;&quot; + value);</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onError(Throwable e) &#123;</div><div class="line">              Log.d(TAG, &quot;error&quot;);</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onComplete() &#123;</div><div class="line">              Log.d(TAG, &quot;complete&quot;);</div><div class="line">          &#125;</div><div class="line">      &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>äº‹ä»¶ç”±<code>emitter.onNext(1);</code>å¼€å§‹,æœ€ç»ˆè¢«<code>public void onNext(Integer value)</code>ç›¸åº”.è¢«è§‚å¯Ÿè€…äº‹ä»¶å‘é€ç»“æŸè°ƒç”¨<code>emitter.onComplete();</code>,åŒæ—¶è§‚å¯Ÿè€…æœ€ç»ˆä»¥<code>public void onComplete()</code>ç›¸åº”.</p>
</li>
</ul>
<hr>
<h2 id="note-ä¸Šä¸‹æ¸¸ä»¥-subscribeå»ºç«‹è¿æ¥å-äº‹ä»¶æ‰ä¼šå¼€å§‹å‘é€"><a href="#note-ä¸Šä¸‹æ¸¸ä»¥-subscribeå»ºç«‹è¿æ¥å-äº‹ä»¶æ‰ä¼šå¼€å§‹å‘é€" class="headerlink" title="* note: ä¸Šä¸‹æ¸¸ä»¥.subscribeå»ºç«‹è¿æ¥å,äº‹ä»¶æ‰ä¼šå¼€å§‹å‘é€."></a>* note: ä¸Šä¸‹æ¸¸ä»¥<code>.subscribe</code>å»ºç«‹è¿æ¥å,äº‹ä»¶æ‰ä¼šå¼€å§‹å‘é€.</h2><h3 id="Observable-è¢«è§‚å¯Ÿè€…-Observer-è§‚å¯Ÿè€…"><a href="#Observable-è¢«è§‚å¯Ÿè€…-Observer-è§‚å¯Ÿè€…" class="headerlink" title="Observable(è¢«è§‚å¯Ÿè€…) Observer(è§‚å¯Ÿè€…)"></a>Observable(è¢«è§‚å¯Ÿè€…) Observer(è§‚å¯Ÿè€…)</h3><ul>
<li>ObservableEmitter<br>ObservableEmitterï¼š Emitteræ„ä¸ºå‘å°„å™¨,äº‹ä»¶å‘é€.onNext(T value)ã€onComplete()å’ŒonError(Throwable error)åˆ†åˆ«å¯¹åº”nextäº‹ä»¶ã€completeäº‹ä»¶å’Œerroräº‹ä»¶ã€‚</li>
<li>Observer<integer>ä¸­onNext(Integer value)ã€onError(Throwable e)ã€onComplete()å¯¹åº”æ¥å—nextäº‹ä»¶ã€completeäº‹ä»¶å’Œerroräº‹ä»¶</integer></li>
<li>è¢«è§‚å¯Ÿè€…å‘é€completeäº‹ä»¶å’Œerroräº‹ä»¶å,è§‚å¯Ÿè€…æ¥å—åä¸å†ç»§ç»­å“åº”äº‹ä»¶,å³ä½¿è¢«è§‚å¯Ÿè€…è¿˜åœ¨å‘é€äº‹ä»¶.<strong>completeäº‹ä»¶å’Œerroräº‹ä»¶äº’æ–¥.</strong></li>
<li>åœ¨Observer<integer>ä¸­,è°ƒç”¨Disposable.dispose(),åˆ‡æ–­ç®¡é“.è¢«è§‚å¯Ÿè€…ç»§ç»­å‘é€,ä½†è§‚å¯Ÿè€…ä¸å†å“åº”.</integer></li>
</ul>
<h3 id="subscribe"><a href="#subscribe" class="headerlink" title="subscribe"></a>subscribe</h3><ul>
<li>å»ºç«‹Observable(è¢«è§‚å¯Ÿè€…) Observer(è§‚å¯Ÿè€…)ä¹‹é—´çš„ç®¡é“.æœ‰å¤šä¸ªé‡è½½.</li>
<li><p>é‡è½½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public final Disposable subscribe() &#123;&#125;</div><div class="line"></div><div class="line">public final Disposable subscribe(Consumer&lt;? super T&gt; onNext) &#123;&#125;</div><div class="line"></div><div class="line">public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) &#123;&#125; </div><div class="line"></div><div class="line">public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete) &#123;&#125;</div><div class="line"></div><div class="line">public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete, Consumer&lt;? super Disposable&gt; onSubscribe) &#123;&#125;</div><div class="line"></div><div class="line">public final void subscribe(Observer&lt;? super T&gt; observer) &#123;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>é‡è½½è¯´æ˜</p>
<ul>
<li>ä¸å¸¦å‚æ•° : è§‚å¯Ÿè€…ä¸å…³å¿ƒä»»ä½•äº‹ä»¶(æœ‰åµç”¨ğŸ˜µ)</li>
<li>åªå¸¦onNext : è§‚å¯Ÿè€…åªå“åº”nextäº‹ä»¶.</li>
<li>å…¶ä»–ç±»ä¼¼â€¦.æ¼”ç»æ¨ç†â€¦.</li>
<li>æœ€åä¸€ä¸ªæ˜¯ä¼ å…¥å®Œæ•´çš„Observerå¯¹è±¡.(demoå°±æ˜¯ğŸ™ƒ)</li>
</ul>
</li>
</ul>
<h2 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h2><ul>
<li>åŸºäºRxjavaçš„è§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥æ‹†åˆ†å¤§å¤šæ•°çš„ä¸šåŠ¡é€»è¾‘,å³ä½¿å†å¢åŠ å¾ˆå¤šåŠŸèƒ½æ•´ä½“ä¹Ÿä¸ä¼šè¿‡äºæ··ä¹±.</li>
<li>ä½†Rxjavaçš„å¼ºå¤§å¹¶ä¸å±€é™åœ¨æ‹†åˆ†é€»è¾‘.ç”±è¢«è§‚å¯Ÿè€…åˆ°è§‚å¯Ÿè€…çš„æ•´ä¸ªäº‹ä»¶ä¼ é€’è¿‡ç¨‹,åŸºäºRxjavaæˆ‘ä»¬å¯ä»¥<strong>ä»»æ„æ‹†åˆ† åˆå¹¶ è½¬æ¢ äº‹ä»¶ã€åˆ‡æ¢çº¿ç¨‹ç­‰.</strong></li>
</ul>
<hr>
<h2 id="note-æ“ä½œç¬¦æ­é…-Lambda-è¡¨è¾¾å¼é£Ÿç”¨æ›´ä½³-ğŸ¤£"><a href="#note-æ“ä½œç¬¦æ­é…-Lambda-è¡¨è¾¾å¼é£Ÿç”¨æ›´ä½³-ğŸ¤£" class="headerlink" title="* note: æ“ä½œç¬¦æ­é… Lambda è¡¨è¾¾å¼é£Ÿç”¨æ›´ä½³ ğŸ¤£"></a>* note: æ“ä½œç¬¦æ­é… Lambda è¡¨è¾¾å¼é£Ÿç”¨æ›´ä½³ ğŸ¤£</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><ul>
<li>äº§ç”Ÿå¹¶å‘é€ Obserable äº‹ä»¶.</li>
<li>ä»…å¸¸ç”¨,è¯¦ç»†åœ¨<a href="https://maxwell-nc.github.io/android/rxjava2-2.html#timer" target="_blank" rel="external"> RxJava 2.x ä½¿ç”¨è¯¦è§£(äºŒ) åˆ›å»ºæ“ä½œç¬¦</a> <h4 id="creat"><a href="#creat" class="headerlink" title=".creat"></a>.creat</h4></li>
<li>å‰é¢demoä¸­å·²ç»å®é™…ä½¿ç”¨è¿‡äº†</li>
<li>ç”¨äºäº§ç”Ÿä¸€ä¸ª Obserable è¢«è§‚å¯Ÿè€…å¯¹è±¡,demoå¦‚ä¸Šæ‰€ç¤º.</li>
</ul>
<h4 id="just"><a href="#just" class="headerlink" title=".just"></a>.just</h4><ul>
<li>å¯¹äºç®€å•çš„å‡ ä¸ªæ•°æ®,ç›´æ¥ä½¿ç”¨justå‘é€å³å¯,æ— éœ€åˆ›å»º Obserable å¯¹è±¡.justæœ€å¤šå¯ä»¥æ¥æ”¶ <strong>10</strong> ä¸ªå‚æ•°.</li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Observable.just(&quot;test&quot;,&quot;test2&quot;)</div><div class="line">      .subscribe(str -&gt; Log.i(&quot;tag&quot;, str));</div></pre></td></tr></table></figure>
<p>ç›¸å½“äºé¡ºåºè°ƒç”¨onNext(â€œtestâ€)å’ŒonNext(â€œtest2â€)ï¼Œæœ€åè°ƒç”¨onCompleteæ–¹æ³•ã€‚</p>
</li>
</ul>
<h4 id="fromArray"><a href="#fromArray" class="headerlink" title=".fromArray"></a>.fromArray</h4><ul>
<li>åŠŸèƒ½ä¸justç±»ä¼¼ä½†fromArrayæ¥æ¥æ”¶ä»»æ„é•¿åº¦çš„æ•°æ®æ•°ç»„,ä¹Ÿå¯ä»¥ç›´æ¥ä¼ å…¥æ•°ç»„<code>fromArray(new int[]{1, 2, 3})</code></li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Observable.fromArray(1, 2, 3, 4, 5)</div><div class="line">      .subscribe(integer -&gt; Log.i(&quot;tag&quot;, String.valueOf(integer)));</div></pre></td></tr></table></figure>
<p>fromArrayä¸æ”¯æŒç›´æ¥ä¼ å…¥listè¿›ï¼Œlistä¼šè¢«å½“ä½œä¸€ä¸ªæ•´ä½“å‘é€.</p>
</li>
</ul>
<h4 id="fromIterable"><a href="#fromIterable" class="headerlink" title=".fromIterable"></a>.fromIterable</h4><ul>
<li>åŠŸèƒ½ä¸fromArrayç±»ä¼¼,ä½†æ˜¯å¯ä»¥æ¥æ”¶ list ç±»å‹,éå†å¯è¿­ä»£æ•°æ®é›†åˆ.</li>
<li>demo<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; list = new ArrayList&lt;&gt;();</div><div class="line">list.add(&quot;a&quot;);</div><div class="line">list.add(&quot;b&quot;);</div><div class="line">list.add(&quot;c&quot;);</div><div class="line"></div><div class="line">Flowable.fromIterable(list).subscribe(</div><div class="line">      s -&gt; Log.i(&quot;tag&quot;, s)</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="timer"><a href="#timer" class="headerlink" title=".timer"></a>.timer</h4><ul>
<li>æŒ‡å®šä¸€æ®µæ—¶é—´é—´éš”åå‘é€æ•°æ®(ä¸€æ¬¡æ€§),ä¸å¤ªå¸¸ç”¨.</li>
</ul>
<h3 id="çº¿ç¨‹åˆ‡æ¢"><a href="#çº¿ç¨‹åˆ‡æ¢" class="headerlink" title="çº¿ç¨‹åˆ‡æ¢"></a>çº¿ç¨‹åˆ‡æ¢</h3><ul>
<li>é»˜è®¤äº‹ä»¶ä¼ é€’çš„åŒæ–¹åœ¨åŒä¸€çº¿ç¨‹å·¥ä½œ.</li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">observable.subscribeOn(Schedulers.newThread())     </div><div class="line">       .subscribeOn(Schedulers.io())              </div><div class="line">       .observeOn(AndroidSchedulers.mainThread()) </div><div class="line">       .observeOn(Schedulers.io())                </div><div class="line">       .subscribe(consumer);</div></pre></td></tr></table></figure>
</li>
<li><p>æ–¹æ³•:</p>
<ul>
<li>.subscribeOn() : æŒ‡å®šè¢«è§‚å¯Ÿè€…å‘é€äº‹ä»¶çº¿ç¨‹,<strong>ä»…ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æœ‰æ•ˆ!</strong>  </li>
<li>.observeOn() : æŒ‡å®šè§‚å¯Ÿè€…/æµå˜æ¢(å¯¹å‘é€çš„äº‹ä»¶å¤„ç†ğŸ––)çº¿ç¨‹,<strong>å¤šæ¬¡è°ƒç”¨,å¤šæ¬¡åˆ‡æ¢æœ‰æ•ˆ</strong></li>
</ul>
</li>
<li><p>å‚æ•°:</p>
<ul>
<li>Schedulers.io() : é€‚ç”¨äºioå¯†é›†å‹æ“ä½œ,ç½‘ç»œé€šä¿¡ã€ç£ç›˜æ“ä½œç­‰.</li>
<li>Schedulers.computation() : CPUå¯†é›†æ“ä½œ,éœ€è¦å¤§é‡CPUè®¡ç®—çš„æ“ä½œ.</li>
<li>Schedulers.newThread() : åˆ›å»ºæ–°çº¿ç¨‹.</li>
<li>AndroidSchedulers.mainThread() : Androidä¸»çº¿ç¨‹,é€šå¸¸ä¸ºæ›´æ–°UIç­‰.</li>
</ul>
</li>
</ul>
<h3 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h3><ul>
<li>å¯¹ Obserable äº‹ä»¶ç­›é€‰.</li>
<li>ä»…å¸¸ç”¨,è¯¦ç»†åœ¨<a href="https://maxwell-nc.github.io/android/rxjava2-3.html#filter" target="_blank" rel="external">RxJava 2.x ä½¿ç”¨è¯¦è§£(ä¸‰) è¿‡æ»¤æ“ä½œç¬¦</a></li>
</ul>
<h4 id="filter"><a href="#filter" class="headerlink" title=".filter"></a>.filter</h4><ul>
<li>åŸºæœ¬è¿‡æ»¤æ“ä½œç¬¦,æŒ‰ç…§ä»»æ„è‡ªå®šè§„åˆ™è¿‡æ»¤.</li>
</ul>
<h3 id="ç»„åˆ"><a href="#ç»„åˆ" class="headerlink" title="ç»„åˆ"></a>ç»„åˆ</h3><h3 id="è½¬æ¢"><a href="#è½¬æ¢" class="headerlink" title="è½¬æ¢"></a>è½¬æ¢</h3><h4 id="map"><a href="#map" class="headerlink" title=".map"></a>.map</h4><ul>
<li>å¤„ç†å‰åäº‹ä»¶æ•°é‡ä¹‹æ¯”<strong>1:1</strong>,äº‹ä»¶å˜æ¢å‰åé¡ºåº<strong>ä¸å˜</strong></li>
<li>mapä½œç”¨æ˜¯å¯¹Observableå‘é€çš„æ¯ä¸€ä¸ªäº‹ä»¶,åº”ç”¨å¤„ç†å˜æ¢å‡½æ•°,å†ç»§ç»­åƒä¸‹æ¸¸å‘é€.ä¸­é—´è¿‡ç¨‹å¯ä»¥è½¬æ¢äº‹ä»¶ç±»å‹ã€æ”¹å˜äº‹ä»¶å†…å®¹ç­‰ç­‰.<strong>åªéœ€è¦å˜æ¢åçš„äº‹ä»¶ç±»å‹ä¸ä¸‹æ¸¸æ¥æ”¶çš„ç±»å‹åŒ¹é…å³å¯.</strong></li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123;</div><div class="line">              emitter.onNext(1);</div><div class="line">              emitter.onNext(2);</div><div class="line">              emitter.onNext(3);</div><div class="line">          &#125;</div><div class="line">      &#125;).map(new Function&lt;Integer, String&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public String apply(Integer integer) throws Exception &#123;</div><div class="line">              return &quot;This is result &quot; + integer;</div><div class="line">          &#125;</div><div class="line">      &#125;).subscribe(new Consumer&lt;String&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void accept(String s) throws Exception &#123;</div><div class="line">              Log.d(TAG, s);</div><div class="line">          &#125;</div><div class="line">      &#125;);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯æŠŠintç±»å‹è½¬æ¢ä¸ºäº†stringç±»å‹,ä¸è§‚å¯Ÿè€…æ¥æ”¶çš„ç±»å‹åŒ¹é…å³å¯.</p>
</li>
</ul>
<h4 id="flatMap"><a href="#flatMap" class="headerlink" title=".flatMap"></a>.flatMap</h4><ul>
<li>å¤„ç†å‰åäº‹ä»¶æ•°é‡ä¹‹æ¯” <strong>1:n</strong>,äº‹ä»¶å˜æ¢å‰åé¡ºåº<strong>ä¸ä¿è¯</strong></li>
<li>flatMap,é€šä¿—ç‚¹å°±æ˜¯æŠŠObservableå‘é€çš„äº‹ä»¶æ‹†æ•£å˜æ¢å†,ç»§ç»­åƒä¸‹æ¸¸å‘é€.1ä¸ªObservableäº‹ä»¶å¯æ‹†æˆä»»æ„ä¸ª.<strong>åªéœ€è¦å˜æ¢åçš„äº‹ä»¶ç±»å‹ä¸ä¸‹æ¸¸æ¥æ”¶çš„ç±»å‹åŒ¹é…å³å¯.</strong></li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123;</div><div class="line">              emitter.onNext(1);</div><div class="line">              emitter.onNext(2);</div><div class="line">              emitter.onNext(3);</div><div class="line">          &#125;</div><div class="line">      &#125;).flatMap(new Function&lt;Integer, ObservableSource&lt;String&gt;&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public ObservableSource&lt;String&gt; apply(Integer integer) throws Exception &#123;</div><div class="line">              final List&lt;String&gt; list = new ArrayList&lt;&gt;();</div><div class="line">              for (int i = 0; i &lt; 3; i++) &#123;</div><div class="line">                  list.add(&quot;I am value &quot; + integer);</div><div class="line">              &#125;</div><div class="line">              return Observable.fromIterable(list).delay(10,TimeUnit.MILLISECONDS);</div><div class="line">          &#125;</div><div class="line">      &#125;).subscribe(new Consumer&lt;String&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void accept(String s) throws Exception &#123;</div><div class="line">              Log.d(TAG, s);</div><div class="line">          &#125;</div><div class="line">      &#125;);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯flatMapæŠŠä¸€ä¸ªintç±»å‹äº‹ä»¶æ‹†æˆäº†3ä¸ªStringç±»å‹,è¿è¡Œç»“æœçœ‹,æœ€ç»ˆäº‹ä»¶åˆ°è¾¾é¡ºåºä¸onNext(1);onNext(2);çš„å‘é€é¡ºåºæ— å…³</p>
</li>
</ul>
<h4 id="concatMap"><a href="#concatMap" class="headerlink" title=".concatMap"></a>.concatMap</h4><ul>
<li>å¤„ç†å‰åäº‹ä»¶æ•°é‡ä¹‹æ¯” <strong>1:n</strong>,äº‹ä»¶å˜æ¢å‰åé¡ºåº<strong>æŒ‰é¡ºåº</strong></li>
<li>ä¸flatMapä½œç”¨ç›¸åŒ,åªæ˜¯ä¿è¯äº†äº‹ä»¶ä¸¥æ ¼æŒ‰é¡ºåºè¾¾åˆ°ä¸‹æ¸¸.</li>
<li>demo å°±ä¸ä¸Šäº†,ç›´æ¥æ›¿æ¢flatMapçš„ä½ç½®å°±å¥½.</li>
</ul>
<h4 id="zip"><a href="#zip" class="headerlink" title=".zip"></a>.zip</h4><ul>
<li>å¤„ç†å‰åäº‹ä»¶æ•°é‡ä¹‹æ¯” <strong>n:1</strong>,äº‹ä»¶å˜æ¢å‰åé¡ºåº<strong>ä¸¥æ ¼æŒ‰é¡ºåº</strong></li>
<li>zip.æœ€å¸¸è§çš„å‹ç¼©æ–‡ä»¶æ ¼å¼,åœ¨è¿™é‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„æ„æ€,zipå¯ä»¥ä¸¥æ ¼æŒ‰ç…§é¡ºåºåˆå¹¶å¤šä¸ª <strong>ä¸åŒç±»å‹</strong> Observableå‘é€çš„äº‹ä»¶.æ€»çš„å‘é€äº‹ä»¶æ•°é‡ä¸ä¸Šæ¸¸Observableå‘é€æœ€å°‘çš„é‚£ä¸ªæ•°é‡ç›¸åŒ.</li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">Observable&lt;Integer&gt; observable1 = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;         </div><div class="line">  @Override                                                                                      </div><div class="line">  public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123;                   </div><div class="line">      Log.d(TAG, &quot;emit 1&quot;);                                                                      </div><div class="line">      emitter.onNext(1);                                                                         </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit 2&quot;);                                                                      </div><div class="line">      emitter.onNext(2);                                                                         </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit 3&quot;);                                                                      </div><div class="line">      emitter.onNext(3);                                                                         </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit 4&quot;);                                                                      </div><div class="line">      emitter.onNext(4);                                                                         </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit complete1&quot;);                                                              </div><div class="line">      emitter.onComplete();                                                                      </div><div class="line">  &#125;                                                                                              </div><div class="line">&#125;).subscribeOn(Schedulers.io());                                                                   </div><div class="line"></div><div class="line">Observable&lt;String&gt; observable2 = Observable.create(new ObservableOnSubscribe&lt;String&gt;() &#123;           </div><div class="line">  @Override                                                 public void subscribe(ObservableEmitter&lt;String&gt; emitter) throws Exception &#123;                    </div><div class="line">      Log.d(TAG, &quot;emit A&quot;);                                                                  </div><div class="line">      emitter.onNext(&quot;A&quot;);                                                                       </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit B&quot;);                                                                      </div><div class="line">      emitter.onNext(&quot;B&quot;);                                                                       </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit C&quot;);                                                                      </div><div class="line">      emitter.onNext(&quot;C&quot;);                                                                       </div><div class="line">      Thread.sleep(1000);                                                                        </div><div class="line"></div><div class="line">      Log.d(TAG, &quot;emit complete2&quot;);                                                              </div><div class="line">      emitter.onComplete();                                                                      </div><div class="line">  &#125;                                                                                              </div><div class="line">&#125;).subscribeOn(Schedulers.io());                                                                   </div><div class="line"></div><div class="line">Observable.zip(observable1, observable2, new BiFunction&lt;Integer, String, String&gt;() &#123;               </div><div class="line">  @Override                                                                                      </div><div class="line">  public String apply(Integer integer, String s) throws Exception &#123;                              </div><div class="line">      return integer + s;                                                                        </div><div class="line">  &#125;                                                                                              </div><div class="line">&#125;).subscribe(new Observer&lt;String&gt;() &#123;                    </div><div class="line">  @Override                                                                                      </div><div class="line">  public void onSubscribe(Disposable d) &#123;                                                        </div><div class="line">      Log.d(TAG, &quot;onSubscribe&quot;);                                                                 </div><div class="line">  &#125;                                                                                              </div><div class="line"></div><div class="line">  @Override                                                                                      </div><div class="line">  public void onNext(String value) &#123;                                                             </div><div class="line">      Log.d(TAG, &quot;onNext: &quot; + value);                                                            </div><div class="line">  &#125;                                                                                              </div><div class="line"></div><div class="line">  @Override                                                                                      </div><div class="line">  public void onError(Throwable e) &#123;                                                             </div><div class="line">      Log.d(TAG, &quot;onError&quot;);                                                                     </div><div class="line">  &#125;                                                                                              </div><div class="line"></div><div class="line">  @Override                                                                                      </div><div class="line">  public void onComplete() &#123;                                                                     </div><div class="line">      Log.d(TAG, &quot;onComplete&quot;);                                                                  </div><div class="line">  &#125;                                                                                              </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸¤ä¸ªäº‹ä»¶å‘é€åœ¨åŒä¸€çº¿ç¨‹ä¸­.å½“ä¸¤ä¸ªäº‹ä»¶å‘é€ä¸å†åŒä¸€çº¿ç¨‹æ—¶,æƒ…å†µç±»ä¼¼,ä¸è¿‡å½“å¼‚æ­¥æ—¶,æ•°é‡è¾ƒå°‘çš„äº‹ä»¶å‘é€å®Œæˆ,å‘é€Completeäº‹ä»¶å,é€šé“éšå³è¢«åˆ‡æ–­.</p>
</li>
</ul>
<h4 id="Concat"><a href="#Concat" class="headerlink" title=".Concat"></a>.Concat</h4><ul>
<li>å¤„ç†å‰åäº‹ä»¶æ•°é‡ä¹‹æ¯” <strong>n:1</strong>,äº‹ä»¶å˜æ¢å‰åé¡ºåº<strong>ä¸¥æ ¼æŒ‰é¡ºåº</strong></li>
<li>Concat,å¯ä»¥ä¸¥æ ¼æŒ‰ç…§é¡ºåºåˆå¹¶ <strong>ç›¸åŒç±»å‹</strong> Observableå‘é€çš„äº‹ä»¶.</li>
</ul>
<h2 id="Backpressure"><a href="#Backpressure" class="headerlink" title="Backpressure"></a>Backpressure</h2><hr>
<h2 id="è¢«ç¿»è¯‘ä¸ºèƒŒå‹â€¦-å¦‚æ­¤æ–‡ä¸è¾¾æ„çš„ç›´è¯‘-èƒ½å¿-å¾€ä¸‹éƒ½æ˜¯å› ä¸ºåŸæ–‡-ğŸ˜ˆ"><a href="#è¢«ç¿»è¯‘ä¸ºèƒŒå‹â€¦-å¦‚æ­¤æ–‡ä¸è¾¾æ„çš„ç›´è¯‘-èƒ½å¿-å¾€ä¸‹éƒ½æ˜¯å› ä¸ºåŸæ–‡-ğŸ˜ˆ" class="headerlink" title="* è¢«ç¿»è¯‘ä¸ºèƒŒå‹â€¦(å¦‚æ­¤æ–‡ä¸è¾¾æ„çš„ç›´è¯‘,èƒ½å¿?å¾€ä¸‹éƒ½æ˜¯å› ä¸ºåŸæ–‡..ğŸ˜ˆ)"></a>* è¢«ç¿»è¯‘ä¸ºèƒŒå‹â€¦(å¦‚æ­¤æ–‡ä¸è¾¾æ„çš„ç›´è¯‘,èƒ½å¿?å¾€ä¸‹éƒ½æ˜¯å› ä¸ºåŸæ–‡..ğŸ˜ˆ)</h2><ul>
<li>å…¶å®æ¦‚å¿µæœ‰å¤Ÿç®€å•:å°†æ•´ä¸ªäº‹ä»¶äº§ç”Ÿ/ä¼ é€’/å¤„ç†çš„è¿‡ç¨‹æƒ³è±¡ä¸ºä¸€æ¡æ²³æµç”±ä¸Šè€Œä¸‹, Backpressure æŒ‡çš„æ˜¯ä¸Šæ¸¸äº§ç”Ÿçš„äº‹ä»¶å¤ªå¿«,è¿œè¿œè¶…è¿‡äº†ä¸‹æ¸¸çš„å¤„ç†é€Ÿåº¦,ä»¥è‡³äºç¼“å†²åŒºæº¢å‡º.ä¸Šæ¸¸æ¥äº†æ´ªæ°´,ä¸‹æ¸¸å¾„æµé‡ä¸å¤Ÿ,ä»¥è‡³äºä¸­é—´æ²³é“è·¨è¿‡äº†å ¤å²¸,æº¢å‡º.</li>
</ul>
<h3 id="FlowableåŸºç¡€"><a href="#FlowableåŸºç¡€" class="headerlink" title="FlowableåŸºç¡€"></a>FlowableåŸºç¡€</h3><ul>
<li><p>Rxjava 1.xä¸­éœ€è¦è‡ªè¡Œé€šè¿‡æ“ä½œç¬¦å¤„ç†,åˆ°äº†2.0ä¸­,åˆ™æœ‰äº†ä¸“é—¨å¯¹ä»˜å‘æ´ªæ°´ä¸Šæ¸¸çš„è¢«è§‚å¯Ÿè€…- Flowable .æˆ‘ä»¬å¸¸ç”¨çš„ observable åœ¨2.xä¸­ä¸€èˆ¬ç”¨äºä¸æ¶‰åŠ Backpressure çš„æƒ…å†µ.è€Œå¯¹åº”ä¸ observable çš„ Observer ,æ”¹ä¸ºäº†  Subscriber .</p>
</li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">Flowable&lt;Integer&gt; upstream = Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() &#123;</div><div class="line">          @Override</div><div class="line">          public void subscribe(FlowableEmitter&lt;Integer&gt; emitter) throws Exception &#123;</div><div class="line">              Log.d(TAG, &quot;emit 1&quot;);</div><div class="line">              emitter.onNext(1);</div><div class="line">              Log.d(TAG, &quot;emit 2&quot;);</div><div class="line">              emitter.onNext(2);</div><div class="line">              Log.d(TAG, &quot;emit 3&quot;);</div><div class="line">              emitter.onNext(3);</div><div class="line">              Log.d(TAG, &quot;emit complete&quot;);</div><div class="line">              emitter.onComplete();</div><div class="line">          &#125;</div><div class="line">      &#125;, BackpressureStrategy.ERROR); //å¢åŠ äº†ä¸€ä¸ªå‚æ•°</div><div class="line"></div><div class="line">      Subscriber&lt;Integer&gt; downstream = new Subscriber&lt;Integer&gt;() &#123;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onSubscribe(Subscription s) &#123;</div><div class="line">              Log.d(TAG, &quot;onSubscribe&quot;);</div><div class="line">              s.request(Long.MAX_VALUE);  //æ³¨æ„è¿™å¥ä»£ç </div><div class="line">          &#125;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onNext(Integer integer) &#123;</div><div class="line">              Log.d(TAG, &quot;onNext: &quot; + integer);</div><div class="line"></div><div class="line">          &#125;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onError(Throwable t) &#123;</div><div class="line">               Log.w(TAG, &quot;onError: &quot;, t);</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          @Override</div><div class="line">          public void onComplete() &#123;</div><div class="line">              Log.d(TAG, &quot;onComplete&quot;);</div><div class="line">          &#125;</div><div class="line">      &#125;;</div><div class="line"></div><div class="line">      upstream.subscribe(downstream);</div></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ä¸¤ä¸ªåœ°æ–¹</p>
<ul>
<li>Flowableåˆ›å»ºæ—¶æ¯” observable å¤šäº†ä¸€ä¸ªå‚æ•°.(å‚æ•°ä½œç”¨ä¸‹èŠ‚è¯´æ˜)</li>
<li>Subscriberä¸­è°ƒç”¨äº† s.request .</li>
</ul>
</li>
<li><p>Flowable ä¸ Observable æœ€å¤§çš„ä¸åŒå°±æ˜¯ Flowableå†æ¬¡å‘é€äº‹ä»¶éœ€è¦ç­‰å¾… Subscriber ä¸­è°ƒç”¨ .request </p>
</li>
<li><p>.request() å®è´¨ä¸Šæ˜¯ä¸‹æ¸¸å‘ŠçŸ¥ä¸Šæ¸¸è‡ªå·±çš„å¤„ç†èƒ½åŠ›,ä½¿å¾—ä¸Šæ¸¸æ ¹æ®ä¸‹æ¸¸å¤„ç†èƒ½åŠ›å‘é€äº‹ä»¶.<strong>å¤šæ¬¡è°ƒç”¨,ä¸Šæ¸¸è¡¨ç¤ºå¤„ç†èƒ½åŠ›çš„æ•°å­—ä¼šå åŠ </strong>,ä¸Šæ¸¸æ¯å‘é€ä¸€ä¸ªäº‹ä»¶,è¯¥æ•°å­—å‡ä¸€,åˆ°0æŠ›å‡ºå¼‚å¸¸</p>
<ul>
<li>ä¸Šä¸‹æ¸¸åœ¨åŒä¸€çº¿ç¨‹æ—¶,ä¸‹æ¸¸æ²¡æœ‰æˆ–æ²¡æœ‰åŠæ—¶è°ƒç”¨ .request ,ä¸Šæ¸¸ä¼šæŠ›å‡ºå¼‚å¸¸</li>
<li>å¼‚æ­¥çº¿ç¨‹æ—¶,ä¸‹æ¸¸å³ä½¿æ²¡æœ‰è°ƒç”¨ .request ä¼šæœ‰128ä¸ªäº‹ä»¶çš„ç¼“å­˜åŒº.ä¸Šæ¸¸å¯ç»§ç»­å‘å‡ºäº‹ä»¶,ç¼“å­˜åŒºè¶…å‡º128ä¸ªäº‹ä»¶å,æŠ›å‡ºå¼‚å¸¸.</li>
</ul>
</li>
</ul>
<h3 id="Flowableæ‹“å±•"><a href="#Flowableæ‹“å±•" class="headerlink" title="Flowableæ‹“å±•"></a>Flowableæ‹“å±•</h3><h2 id="è¿™é‡Œå¯¹-Flowable-å¤šçš„å‚æ•°è¿›è¡Œè¯´æ˜"><a href="#è¿™é‡Œå¯¹-Flowable-å¤šçš„å‚æ•°è¿›è¡Œè¯´æ˜" class="headerlink" title="* è¿™é‡Œå¯¹ Flowable å¤šçš„å‚æ•°è¿›è¡Œè¯´æ˜."></a>* è¿™é‡Œå¯¹ Flowable å¤šçš„å‚æ•°è¿›è¡Œè¯´æ˜.</h2><ul>
<li>å‚æ•°<ul>
<li>BackpressureStrategy.BUFFER : é»˜è®¤ç¼“å­˜åŒº128,è¿™ä¸ªå‚æ•°æå¤§æ‹“å±•äº†ç¼“å­˜åŒº,ä½¿å¾— Flowable è¡¨ç°ä¸ Observable å·®ä¸å¤š.</li>
<li>BackpressureStrategy.DROP : 128ç¼“å­˜åŒºæ»¡äº†,å°±ä¸¢å¼ƒä¸Šæ¸¸äº‹ä»¶,ç›´åˆ°ä¸‹æ¸¸å¤„ç†äº†ä¸€ä¸ªäº‹ä»¶,ç¼“å­˜åŒº -1 ,å†å…è®¸å­˜å…¥æ–°çš„ä¸Šæ¸¸äº‹ä»¶.</li>
<li>BackpressureStrategy.LATEST : æ°¸è¿œä¿å­˜æœ€åè¾¾åˆ°çš„128ä¸ªä¸Šæ¸¸äº‹ä»¶,ä¸Šæ¸¸æœ‰æ–°çš„äº‹ä»¶åˆ°è¾¾æ»¡è½½çš„ç¼“å­˜åŒºæ—¶,ä¸¢å¼ƒç¬¬ä¸€ä¸ªå­˜å…¥ç¼“å­˜åŒºçš„ä¸Šæ¸¸äº‹ä»¶.</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><p>å¯¹äºä¸æ˜¯ç”±æˆ‘ä»¬ç¼–å†™çš„ Flowable ä¹Ÿå¯ä»¥é€šè¿‡ interval æ“ä½œç¬¦æ¥åŠ å·¥.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Flowable.interval(1, TimeUnit.MICROSECONDS)</div><div class="line">              .onBackpressureDrop()  //åŠ ä¸Š Backpressure ç­–ç•¥</div></pre></td></tr></table></figure>
</li>
<li><p>å¯¹åº”ä¸Šæ–‡,æŒ‡å®šå‚æ•°æœ‰3,æ„æ€åŒä¸Š.</p>
<ul>
<li>onBackpressureBuffer()</li>
<li>onBackpressureDrop()</li>
<li>onBackpressureLatest()</li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;èµ„æ–™æ¥æºå¦‚ä¸‹&lt;br&gt;&lt;a href=&quot;http://www.jianshu.com/u/c50b715ccaeb&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç»™åˆå­¦è€…çš„RxJava2.0æ•™ç¨‹&lt;/a&gt;(demoä»£ç æ¥æº)&lt;/p&gt;
&lt;blockqu
    
    </summary>
    
      <category term="Androidç¬”è®°" scheme="http://yoursite.com/categories/Android%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Studio" scheme="http://yoursite.com/tags/Android-Studio/"/>
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>Androidéšæ‰‹è®°â€”GlideåŠ è½½Drawableå¯¹è±¡</title>
    <link href="http://yoursite.com/2017/11/04/Android%E9%9A%8F%E6%89%8B%E8%AE%B0-Glide%E5%8A%A0%E8%BD%BDDrawable%E5%AF%B9%E8%B1%A1/"/>
    <id>http://yoursite.com/2017/11/04/Androidéšæ‰‹è®°-GlideåŠ è½½Drawableå¯¹è±¡/</id>
    <published>2017-11-04T04:00:00.000Z</published>
    <updated>2017-11-04T13:59:36.566Z</updated>
    
    <content type="html"><![CDATA[<hr>
<p>ç¼–ç¨‹ç¯å¢ƒ</p>
<ul>
<li>Android Studio 3.0</li>
</ul>
<hr>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul>
<li><p>Glideæ˜¯ä¸€ä¸ªé€šç”¨çš„å›¾ç‰‡ç¼“å­˜æ¡†æ¶,ä½†æ˜¯åœ¨MyPrivacyæ˜¾ç¤ºappIconæ—¶,ä¼ å…¥ ä¸€ä¸ªDrawableå¯¹è±¡,æç¤ºç±»å‹ä¸åŒ¹é…. </p>
</li>
<li><p>(æ³¨æ„: è¿™é‡Œæ˜¯ç›´æ¥ä¼ å…¥Drawableå¯¹è±¡,ä¸æ˜¯ç»è¿‡ R.xx å¼•ç”¨ !)</p>
</li>
</ul>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><ul>
<li>æŸ¥é˜…èµ„æ–™å,ç¡®è®¤Glideä¸æ”¯æŒç›´æ¥åŠ è½½ä¼ å…¥çš„Drawableå¯¹è±¡,è½¬æ¢ä¸ºbitDrawableç±»å‹ä¹Ÿä¸å¯.</li>
<li><p>è§£å†³æ€è·¯æ¥è‡ª</p>
<blockquote>
<p><a href="https://github.com/bumptech/glide/issues/588" target="_blank" rel="external">https://github.com/bumptech/glide/issues/588</a></p>
</blockquote>
</li>
<li><p>ä¸æ”¯æŒç›´æ¥åŠ è½½,ä½†Glideçš„.error(Icon)é”™è¯¯æ—¶æ˜¾ç¤º   .placeholder(Icon)å ä½ç¬¦,æ”¯æŒDrawableå¯¹è±¡</p>
</li>
</ul>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><ul>
<li>ä¸å†ç›´æ¥åŠ è½½ .load ä¼ å…¥ç©ºå­—ç¬¦ä¸², é€šè¿‡ .placeholder ç®€æ´åŠ è½½.</li>
<li>demo <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Drawable Iconã€€ï¼ã€€ï½˜ï½˜ï½˜ï¼›</div><div class="line"></div><div class="line">RequestOptions options = new RequestOptions()</div><div class="line">             .error(Icon)</div><div class="line">             .placeholder(Icon);</div><div class="line"></div><div class="line"> Glide.with(context)</div><div class="line">             .load(&quot;&quot;)</div><div class="line">             .apply(options)</div><div class="line">             .into(imageView);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><ul>
<li>placeholder åœ¨Glide 4.xç‰ˆæœ¬ä¸­,ç§»å…¥äº† RequestOptions å¯¹è±¡ä¸­.</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;ç¼–ç¨‹ç¯å¢ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Android Studio 3.0&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;
    
    </summary>
    
      <category term="Androidéšæ‰‹è®°" scheme="http://yoursite.com/categories/Android%E9%9A%8F%E6%89%8B%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Studio" scheme="http://yoursite.com/tags/Android-Studio/"/>
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¬”è®°â€”qemuè¿è¡Œlinux</title>
    <link href="http://yoursite.com/2017/09/10/linux%E7%AC%94%E8%AE%B0%E2%80%94qemu%E8%BF%90%E8%A1%8Clinux/"/>
    <id>http://yoursite.com/2017/09/10/linuxç¬”è®°â€”qemuè¿è¡Œlinux/</id>
    <published>2017-09-10T02:17:11.000Z</published>
    <updated>2017-09-10T01:50:57.633Z</updated>
    
    <content type="html"><![CDATA[<hr>
<ul>
<li>ubuntu16.04</li>
<li>ä½¿ç”¨busyboxç¼–è¯‘æœ€å°æ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ç”¨qemuè¿è¡Œèµ·æ¥ã€‚</li>
<li>å†…å®¹æ¥è‡ª å¥”è·‘å§linuxå†…æ ¸ç¬¬6ç« </li>
<li>è¿™é‡Œå°†è¾“å…¥ä»£ç è¿‡ç¨‹é›†åˆåˆ°äº†å‡ ä¸ª.shæ–‡ä»¶,ä¸åšé‡å¤çš„å·¥ä½œ !</li>
<li>å½“ç„¶ç½‘å¥½æ˜¯å‰æ,æœ€å¥½æŒ‚ä»£ç†.</li>
</ul>
<hr>
<h2 id="å®‰è£…å·¥å…·"><a href="#å®‰è£…å·¥å…·" class="headerlink" title="å®‰è£…å·¥å…·"></a>å®‰è£…å·¥å…·</h2><ul>
<li><p>é¦–å…ˆéœ€è¦å®‰è£…qemu gcc, ubuntu16.04ä¸­è‡ªå¸¦çš„gccç‰ˆæœ¬è¾ƒä½,è¿™é‡Œæˆ‘ä»¬å®‰è£…ä¹¦ä¸­æ¨èçš„gcc-arm-linux-gnueabi </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install qemu libncurses5-dev gcc-arm-linux-gnueabi build-essential</div></pre></td></tr></table></figure>
</li>
<li><p>ä¸‹è½½busyboxæºç </p>
<ul>
<li>ä¹¦ä¸­æ¨èç‰ˆæœ¬æ˜¯1.24,ä½†æœ€æ–°ç‰ˆæœ¬å·²ç»åˆ°äº†busybox-1.27.2.è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ€æ–°ç‰ˆ<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget https://busybox.net/downloads/busybox-1.27.2.tar.bz2</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li>è§£å‹åˆ° busybox æ–‡ä»¶å¤¹<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -jxvf busybox-1.27.2.tar.bz2</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>ä¸‹è½½linuxå†…æ ¸æºç <ul>
<li>è¿˜æ˜¯ä»¥é…å¥—çš„4.0æºç ä¸ºä¾‹,(æé†’:å†…æ ¸è§£å‹åå¤§çº¦å 800MB,è¯·é¢„ç•™å‡ºè¶³å¤Ÿç©ºé—´)<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget https://www.kernel.org/pub/linux/kernel/v4.x/linux-4.0.tar.gz</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li>è§£å‹åˆ°linuxæ–‡ä»¶å¤¹<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -jxvf linux-4.0.tar.gz</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ç¼–è¯‘æœ€å°æ–‡ä»¶ç³»ç»Ÿ"><a href="#ç¼–è¯‘æœ€å°æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ç¼–è¯‘æœ€å°æ–‡ä»¶ç³»ç»Ÿ"></a>ç¼–è¯‘æœ€å°æ–‡ä»¶ç³»ç»Ÿ</h2><h2 id="åˆ«é—®æˆ‘æœ€å°æ–‡ä»¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆ-æˆ‘ä¹Ÿæœ‰ç‚¹ğŸ˜µ-ä½†æ˜¯å…ˆç”¨èµ·æ¥"><a href="#åˆ«é—®æˆ‘æœ€å°æ–‡ä»¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆ-æˆ‘ä¹Ÿæœ‰ç‚¹ğŸ˜µ-ä½†æ˜¯å…ˆç”¨èµ·æ¥" class="headerlink" title="* åˆ«é—®æˆ‘æœ€å°æ–‡ä»¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆ,æˆ‘ä¹Ÿæœ‰ç‚¹ğŸ˜µ,ä½†æ˜¯å…ˆç”¨èµ·æ¥."></a>* åˆ«é—®æˆ‘æœ€å°æ–‡ä»¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆ,æˆ‘ä¹Ÿæœ‰ç‚¹ğŸ˜µ,ä½†æ˜¯å…ˆç”¨èµ·æ¥.</h2><ul>
<li><p>é¦–å…ˆåˆ©ç”¨ busybox æ‰‹å·¥ç¼–è¯‘ä¸€ä¸ªæœ€å°æ–‡ä»¶ç³»ç»Ÿã€‚<br>åœ¨busyboxæ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export ARCH=ARM</div><div class="line">export CROSS_COMPILE=arm-linux-gnueabi-</div><div class="line">make menuconfig</div><div class="line">make install</div></pre></td></tr></table></figure>
</li>
<li><p>è¿›å…¥menuconfigå,é…ç½®é™æ€ç¼–è¯‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Busybox Settings ---&gt;</div><div class="line">Build Options ---&gt;</div><div class="line">[*] Build BusyBox as a static binary (no shared libs)</div></pre></td></tr></table></figure>
</li>
<li><p>ç„¶å make install ç¼–è¯‘å®Œæˆã€‚ç¼–è¯‘å®Œæˆå,æŠŠ busybox æ ¹ç›®å½•ä¸‹é¢çš„_install ç›®å½•æ‹·è´åˆ° linux-4.0 ä¸‹ã€‚</p>
</li>
<li><p>è¿›å…¥_install ç›®å½•ï¼Œåˆ›å»º etcã€dev ç­‰ç›®å½•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir etc</div><div class="line">mkdir dev</div><div class="line">mkdir mnt</div><div class="line">mkdir -p etc/init.d/</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨_install /etc/init.d/ç›®å½•ä¸‹åˆ›å»º æ–‡ä»¶årcS çš„æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mkdir â€“p /proc</div><div class="line">mkdir â€“p /tmp</div><div class="line">mkdir -p /sys</div><div class="line">mkdir â€“p /mnt</div><div class="line">/bin/mount -a</div><div class="line">mkdir -p /dev/pts</div><div class="line">mount -t devpts devpts /dev/pts</div><div class="line">echo /sbin/mdev &gt; /proc/sys/kernel/hotplug</div><div class="line">mdev â€“s</div></pre></td></tr></table></figure>
<p>åŒæ—¶ä½¿ç”¨ <code>chmod +x rcS</code>ä¿®æ”¹rcSçš„å¯æ‰§è¡Œæƒé™.</p>
</li>
<li><p>åœ¨_install /etc ç›®å½•åˆ›å»ºæ–‡ä»¶å fstab çš„æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">proc /proc proc defaults 0 0</div><div class="line">tmpfs /tmp tmpfs defaults 0 0</div><div class="line">sysfs /sys sysfs defaults 0 0</div><div class="line">tmpfs /dev tmpfs defaults 0 0</div><div class="line">debugfs /sys/kernel/debug debugfs defaults 0 0</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨_install /etc ç›®å½•åˆ›å»ºæ–‡ä»¶å inittab çš„æ–‡ä»¶ï¼Œå¹¶å†™å…¥å¦‚ä¸‹å†…å®¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">::sysinit:/etc/init.d/rcS</div><div class="line">::respawn:-/bin/sh</div><div class="line">::askfirst:-/bin/sh</div><div class="line">::ctrlaltdel:/bin/umount -a â€“r</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨_install/dev ç›®å½•ä¸‹åˆ›å»ºå¦‚ä¸‹è®¾å¤‡èŠ‚ç‚¹ï¼Œä»¥rootæƒé™æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd _install/dev/</div><div class="line">sudo mknod console c 5 1</div><div class="line">sudo mknod null c 1 3</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="sh-é…åˆchmod-xä½¿ç”¨"><a href="#sh-é…åˆchmod-xä½¿ç”¨" class="headerlink" title=".sh(é…åˆchmod +xä½¿ç”¨)"></a>.sh(é…åˆchmod +xä½¿ç”¨)</h3><ul>
<li><p>build.sh: ç¼–è¯‘busybox</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export ARCH=ARM</div><div class="line">export CROSS_COMPILE=arm-linux-gnueabi-</div><div class="line">make menuconfig</div><div class="line">make install</div></pre></td></tr></table></figure>
</li>
<li><p>creat.sh: _installæ–‡ä»¶å¤¹ä¸‹å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">rm -rf etc </div><div class="line">rm -rf dev </div><div class="line">rm -rf mnt </div><div class="line">mkdir etc</div><div class="line">mkdir dev</div><div class="line">mkdir mnt</div><div class="line">mkdir -p etc/init.d/</div><div class="line"></div><div class="line">echo &quot;mkdir -p /proc</div><div class="line">mkdir -p /tmp</div><div class="line">mkdir -p /sys</div><div class="line">mkdir -p /mnt</div><div class="line">/bin/mount -a</div><div class="line">mkdir -p /dev/pts</div><div class="line">mount -t devpts devpts /dev/pts</div><div class="line">echo /sbin/mdev &gt; /proc/sys/kernel/hotplug</div><div class="line">mdev -s</div><div class="line">&quot; &gt; etc/init.d/rcS</div><div class="line">chmod +x etc/init.d/rcS</div><div class="line"></div><div class="line">echo &quot;proc /proc proc defaults 0 0</div><div class="line">tmpfs /tmp tmpfs defaults 0 0</div><div class="line">sysfs /sys sysfs defaults 0 0</div><div class="line">tmpfs /dev tmpfs defaults 0 0</div><div class="line">debugfs /sys/kernel/debug debugfs defaults 0 0</div><div class="line">&quot; &gt; etc/fstab</div><div class="line"></div><div class="line">echo &quot;::sysinit:/etc/init.d/rcS</div><div class="line">::respawn:-/bin/sh</div><div class="line">::askfirst:-/bin/sh</div><div class="line">::ctrlaltdel:/bin/umount -a -r</div><div class="line">&quot; &gt; etc/inittab</div><div class="line"></div><div class="line">cd dev/</div><div class="line">sudo mknod console c 5 1</div><div class="line">sudo mknod null c 1 3</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ç¼–è¯‘å†…æ ¸"><a href="#ç¼–è¯‘å†…æ ¸" class="headerlink" title="ç¼–è¯‘å†…æ ¸"></a>ç¼–è¯‘å†…æ ¸</h2><ul>
<li><p>ç¼–è¯‘å†…æ ¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cd linux-4.0</div><div class="line">export ARCH=arm</div><div class="line">export CROSS_COMPILE=arm-linux-gnueabi-</div><div class="line">make vexpress_defconfig</div><div class="line">make menuconfig</div></pre></td></tr></table></figure>
</li>
<li><p>é…ç½® initramfsï¼Œåœ¨ initramfs source file ä¸­å¡«å…¥_installã€‚å¦å¤–éœ€è¦æŠŠ Default kernel command string æ¸…ç©ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">General setup ---&gt;</div><div class="line">[*] Initial RAM filesystem and RAM disk (initramfs/initrd) support</div><div class="line">(_install) Initramfs source file(s)</div><div class="line">Boot options --&gt;</div><div class="line">()Default kernel command string</div></pre></td></tr></table></figure>
</li>
<li><p>é…ç½® memory split ä¸ºâ€œ3G/1G user/kernel splitâ€ä»¥åŠæ‰“å¼€é«˜ç«¯å†…å­˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Kernel Features ---&gt;</div><div class="line">Memory split (3G/1G user/kernel split) ---&gt;</div><div class="line">[ *] High Memory Support</div></pre></td></tr></table></figure>
</li>
<li><p>å¼€å§‹ç¼–è¯‘ kernel</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">make bzImage -j4 ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-</div><div class="line">make dtbs</div></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œ QEMU æ¥æ¨¡æ‹Ÿ 4 æ ¸ Cortex-A9 çš„ Versatile Express å¼€å‘å¹³å°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">qemu-system-arm -M vexpress-a9 -smp 4 -m 1024M -kernel arch/arm/boot/zImage -append &quot;rdinit=/linuxrc console=ttyAMA0 loglevel=8&quot; -dtb arch/arm/boot/dts/vexpress-v2p-ca9.dtb -nographic</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="sh-é…åˆchmod-x"><a href="#sh-é…åˆchmod-x" class="headerlink" title=".sh(é…åˆchmod +x)"></a>.sh(é…åˆchmod +x)</h3><ul>
<li><p>build.sh : ç¼–è¯‘å†…æ ¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">export ARCH=arm</div><div class="line">export CROSS_COMPILE=arm-linux-gnueabi-</div><div class="line">make vexpress_defconfig</div><div class="line">make menuconfig</div><div class="line">make bzImage -j4 ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-</div><div class="line">make dtbs</div></pre></td></tr></table></figure>
</li>
<li><p>run.sh : è¿è¡Œarmå†…æ ¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">qemu-system-arm -M vexpress-a9 -smp 4 -m 1024M -kernel arch/arm/boot/zImage -append &quot;rdinit=/linuxrc console=ttyAMA0 loglevel=8&quot; -dtb arch/arm/boot/dts/vexpress-v2p-ca9.dtb -nographicyun</div></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;ubuntu16.04&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨busyboxç¼–è¯‘æœ€å°æ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ç”¨qemuè¿è¡Œèµ·æ¥ã€‚&lt;/li&gt;
&lt;li&gt;å†…å®¹æ¥è‡ª å¥”è·‘å§linuxå†…æ ¸ç¬¬6ç« &lt;/li&gt;
&lt;li&gt;è¿™é‡Œå°†è¾“å…¥ä»£ç è¿‡ç¨‹é›†åˆåˆ°äº†å‡ ä¸ª.shæ–‡ä»¶,ä¸åšé‡å¤çš„å·¥ä½œ !&lt;/li&gt;
&lt;l
    
    </summary>
    
      <category term="Linuxç¬”è®°" scheme="http://yoursite.com/categories/Linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="qemu" scheme="http://yoursite.com/tags/qemu/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¬”è®°â€”â€”çœ‹é—¨ç‹—å†…æ ¸APIæ–‡æ¡£ç¿»è¯‘</title>
    <link href="http://yoursite.com/2017/08/23/linux%E7%AC%94%E8%AE%B0%E2%80%94%E7%9C%8B%E9%97%A8%E7%8B%97%E5%86%85%E6%A0%B8API%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/"/>
    <id>http://yoursite.com/2017/08/23/linuxç¬”è®°â€”çœ‹é—¨ç‹—å†…æ ¸APIæ–‡æ¡£ç¿»è¯‘/</id>
    <published>2017-08-23T09:52:16.000Z</published>
    <updated>2017-09-10T01:35:25.037Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>wdtç¬¬äºŒå¼¹ï¼Œå†…æ ¸APIï¼Œå‹‰å¼ºç¿»è¯‘ä¸‹æ¥äº†ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥æ•´ç†</li>
</ul>
<hr>
<h2 id="çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸API"><a href="#çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸API" class="headerlink" title="çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸API"></a>çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸API</h2><ul>
<li>æœ€åæ›´æ–°æ—¶é—´ 2013.2.12</li>
<li>Wim Van Sebroeck <a href="&#109;&#x61;&#x69;&#108;&#x74;&#111;&#x3a;&#119;&#105;&#x6d;&#x40;&#105;&#x67;&#117;&#97;&#x6e;&#97;&#x2e;&#x62;&#x65;">&#119;&#105;&#x6d;&#x40;&#105;&#x67;&#117;&#97;&#x6e;&#97;&#x2e;&#x62;&#x65;</a></li>
</ul>
<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><ul>
<li>æœ¬æ–‡æ¡£æ²¡æœ‰æè¿°çœ‹é—¨ç‹—è®¾å¤‡æˆ–é©±åŠ¨ã€‚ä¹Ÿä¸æ¶‰åŠé‚£äº›åœ¨ç”¨æˆ·ç©ºé—´è°ƒç”¨çš„APIï¼Œå¯¹åº”åœ¨ Documentation/watchdog/watchdog-api.txt ï¼ˆä¹Ÿå°±æ˜¯<a href="">ä¸Šä¸€ç¯‡</a>ï¼‰</li>
<li>æœ¬æ–‡æ¡£æè¿°çš„æ˜¯ï¼Œåˆ©ç”¨çœ‹é—¨ç‹—å­ç³»ç»Ÿæ¡†æ¶æ–¹å¼è¿›è¡Œçœ‹é—¨ç‹—é©±åŠ¨ç¼–å†™æ—¶æ‰€ä½¿ç”¨åˆ°çš„APIã€‚çœ‹é—¨ç‹—å­ç³»ç»Ÿæ¡†æ¶æä¾›äº†æ‰€æœ‰ä¸ç”¨æˆ·ç©ºé—´äº¤äº’çš„æ¥å£ï¼Œä¸éœ€è¦æ¯æ¬¡ç¼–å†™é‡å¤çš„ä»£ç ã€‚è¿™æ„å‘³è¿™é©±åŠ¨ç¨‹åºåªéœ€è¦æä¾›å‡ ä¸ªä¸åŒçš„æ“ä½œå‡½æ•°ï¼Œå°±å¯ä»¥æ§åˆ¶WDTäº†ã€‚</li>
</ul>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><ul>
<li><p>æ¯ä¸€ä¸ªæƒ³è¦ä½¿ç”¨çœ‹é—¨ç‹—æ ¸å¿ƒå­ç³»ç»Ÿçš„é©±åŠ¨ç¨‹åºéƒ½å¿…é¡»åŒ…å«<code>#include&lt;linux/watchdog.h&gt;</code>(ç¼–å†™é©±åŠ¨ç¨‹åºæ˜¯ä¸å¾—ä¸åšçš„å·¥ä½œ)ã€‚<code>linux/watchdog.h</code>åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªæ³¨å†Œ/å¸è½½å‡½æ•°ï¼š</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">extern int watchdog_register_device(struct watchdog_device *);</div><div class="line">extern void watchdog_unregister_device(struct watchdog_device *);</div></pre></td></tr></table></figure>
</li>
<li><p>æ³¨å†Œå‡½æ•°å°†wdtè®¾å¤‡æ³¨å†Œè¿›wdtå­ç³»ç»Ÿï¼Œå‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘struct watchdog<em>deviceçš„ç»“æ„ä½“</em>ã€‚å½“æ³¨å†ŒæˆåŠŸæ—¶è¿”å›0.æ³¨å†Œå¤±è´¥è¿”å›ä¸€ä¸ªè´Ÿå€¼ã€‚</p>
</li>
<li>å¸è½½å‡½æ•°æ˜¯å°†wdtè®¾å¤‡ä»wdtå­ç³»ç»Ÿå¸è½½ï¼Œå‡½æ•°å‚æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘struct watchdog<em>deviceçš„ç»“æ„ä½“</em></li>
<li>çœ‹é—¨å­ç³»ç»ŸåŒ…å«äº†æ³¨å†Œæ—¶é—´è°ƒæ•´æœºåˆ¶ï¼ˆåŸæ–‡æ˜¯ an registration deferral mechanism ä¸€ç§å»¶æœŸæœºåˆ¶ï¼Ÿä¸Šä¸‹æ–‡ä¸å¤ªå¯¹å•Šï¼‰ï¼Œå…è®¸åœ¨å¼€æœºé˜¶æ®µï¼Œä½ å¯ä»¥æŒ‰ç…§ä½ è®¾å®šçš„å°½å¯æ—©çš„æ³¨å†Œä¸€ä¸ªçœ‹é—¨ç‹—è®¾å¤‡ã€‚</li>
</ul>
<h3 id="struct-watchdogdevice"><a href="#struct-watchdogdevice" class="headerlink" title="struct watchdogdevice"></a>struct watchdog<em>device</em></h3><ul>
<li>è¿™é‡Œç²˜è´´çš„æ˜¯linux4.1é‡Œå®šä¹‰çš„watchdog_deviceï¼ŒåŸæ–‡çš„watchdog_deviceæ›´é•¿ä½†è·Ÿæºç å¯¹ä¸èµ·æ¥ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä»¥å†…æ ¸4.1é‡Œå®šä¹‰çš„ä¸ºå‡†äº†ğŸ˜‘ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"> struct watchdog_device &#123;</div><div class="line">int id;</div><div class="line">struct cdev cdev;</div><div class="line">struct device *dev;</div><div class="line">struct device *parent;</div><div class="line">const struct watchdog_info *info;</div><div class="line">const struct watchdog_ops *ops;</div><div class="line">unsigned int bootstatus;</div><div class="line">unsigned int timeout;</div><div class="line">unsigned int min_timeout;</div><div class="line">unsigned int max_timeout;</div><div class="line">void *driver_data;</div><div class="line">struct mutex lock;</div><div class="line">unsigned long status;</div><div class="line">/* Bit numbers for status flags */</div><div class="line">#define WDOG_ACTIVE		0	/* Is the watchdog running/active */</div><div class="line">#define WDOG_DEV_OPEN		1	/* Opened via /dev/watchdog ? */</div><div class="line">#define WDOG_ALLOW_RELEASE	2	/* Did we receive the magic char ? */</div><div class="line">#define WDOG_NO_WAY_OUT		3	/* Is &apos;nowayout&apos; feature set ? */</div><div class="line">#define WDOG_UNREGISTERED	4	/* Has the device been unregistered */</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>åŒ…å«ä»¥ä¸‹å­—æ®µï¼š<ul>
<li>idï¼šç”±watchdog_register_deviceå‡½æ•°æ³¨å†Œã€‚id 0æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ï¼Œid 0 æœ‰/dev/watchdog0 cdevï¼ˆåŠ¨æ€ä¸»è®¾å¤‡å·ï¼Œæ¬¡è®¾å¤‡å·0ï¼‰ å’Œ /dev/watchdog miscdevã€‚id åœ¨è°ƒç”¨åˆ°watchdog_register_deviceæ—¶è‡ªåŠ¨æ³¨å†Œã€‚<ul>
<li><strong>NOTE</strong>çœ‹æºç ï¼Œwdtå­ç³»ç»Ÿæ˜¯åŸºäºmiscå­ç³»ç»Ÿçš„ï¼Œæ³¨å†Œwdtè®¾å¤‡è°ƒç”¨çš„æ˜¯<code>misc_register(&amp;watchdog_miscdev);</code>è€Œmiscè®¾å¤‡ä¸»è®¾å¤‡å·åªèƒ½ä¸º10,è¿™é‡Œç»“è®ºæœ‰å†²çªï¼Œç­‰å¾…è§£å†³ä¸­ã€‚ã€‚ã€‚<ul>
<li>parentï¼šåœ¨è°ƒç”¨watchdog_register_deviceå‡½æ•°å‰ï¼Œè®¾ç½®çˆ¶è®¾å¤‡ï¼ˆæˆ–è€…è®¾ç½®ä¸ºnullï¼‰</li>
<li>infoï¼šæŒ‡å‘watchdog_infoç»“æ„ä½“çš„æŒ‡é’ˆï¼Œwatchdog_infoæä¾›äº†çœ‹é—¨ç‹—æœ¬èº«çš„ä¸€äº›é™„åŠ ä¿¡æ¯ï¼ˆåƒæ˜¯çœ‹é—¨ç‹—ç‹¬æœ‰çš„åç§°ä¹‹ç±»çš„ï¼‰</li>
<li>opsï¼šæŒ‡å‘watchdog_opsç»“æ„ä½“çš„æŒ‡é’ˆï¼Œwatchdog_opsæ˜¯çœ‹é—¨ç‹—æ”¯æŒæ“ä½œ(å‡½æ•°)çš„é›†åˆã€‚</li>
<li>bootstatus:å¯åŠ¨åè®¾å¤‡çŠ¶æ€(ä¸çœ‹é—¨ç‹—WDIOF<em>* æ ‡å¿—ä½ä¸€åŒå¼€å¯)</em></li>
<li>timeout:çœ‹é—¨ç‹—è¶…æ—¶çš„æ—¶é—´(ç§’ä¸ºå•ä½).å¦‚æœè®¾ç½®äº†WDOG<em>ACTIVE </em>å¯ç”¨äº†çœ‹é—¨ç‹—,åœ¨è¿™ä¸ªæ—¶é—´é•¿åº¦å,ç”¨æˆ·ç©ºé—´è¿˜æ²¡æœ‰å‘é€å¿ƒè·³åŒ…,çœ‹é—¨ç‹—ä¼šå°†ç³»ç»Ÿå¤ä½é‡å¯.</li>
<li>min<em>timeout:</em>å¯è®¾ç½®çš„çœ‹é—¨ç‹—æœ€å°è¶…æ—¶æ—¶é—´</li>
<li>max<em>timeout:</em>å¯è®¾ç½®çš„çœ‹é—¨ç‹—æœ€å¤§è¶…æ—¶æ—¶é—´</li>
<li>driver<em>data:</em>æŒ‡å‘çœ‹é—¨ç‹—è®¾å¤‡ç§æœ‰æ•°æ®çš„æŒ‡é’ˆ,è¿™ä¸ªdataåªèƒ½ç”±watchdog_set_drvdata å’Œ watchdog_get_drvdata routineså‡½æ•°è®¿é—®.</li>
<li>struct mutex lock; <strong>åŸæ–‡æ¡£æ²¡æœ‰ğŸ™„</strong></li>
<li>status:è¿™ä¸ªå­—æ®µåŒ…å«äº†è®¸å¤šçŠ¶æ€ä½,æä¾›æœ‰å…³è®¾å¤‡çš„é¢å¤–ä¿¡æ¯(ä¾‹å¦‚:çœ‹é—¨ç‹—çš„æ´»åŠ¨çŠ¶æ€\é™åˆ¶,ç°åœ¨nowayout ä½è®¾ç½®ä¸å¦)(æ‹¬å·é‡Œç¿»è¯‘æ˜¯å¦å‡†ç¡®å­˜ç–‘)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="struct-watchdog-ops"><a href="#struct-watchdog-ops" class="headerlink" title="struct watchdog_ops"></a>struct watchdog_ops</h3><ul>
<li><p>watchdog<em>ops</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"> struct watchdog_ops &#123;</div><div class="line">struct module *owner;</div><div class="line">/* mandatory operations */</div><div class="line">int (*start)(struct watchdog_device *);</div><div class="line">int (*stop)(struct watchdog_device *);</div><div class="line">/* optional operations */</div><div class="line">int (*ping)(struct watchdog_device *);</div><div class="line">unsigned int (*status)(struct watchdog_device *);</div><div class="line">int (*set_timeout)(struct watchdog_device *, unsigned int);</div><div class="line">unsigned int (*get_timeleft)(struct watchdog_device *);</div><div class="line">void (*ref)(struct watchdog_device *);</div><div class="line">void (*unref)(struct watchdog_device *);</div><div class="line">long (*ioctl)(struct watchdog_device *, unsigned int, unsigned long);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>ä½ ä¸€å¼€å§‹å®šä¹‰çš„çœ‹é—¨ç‹—çš„module owneræ˜¯éå¸¸é‡è¦çš„,module owner åœ¨ä½¿ç”¨çœ‹é—¨ç‹—æ—¶ä¼šåŒæ—¶é”å®šçœ‹é—¨ç‹—è®¾å¤‡.(è¿™æ ·é¿å…äº†åœ¨å¸è½½æ¨¡å—æ—¶/dev/watchdogä¾ç„¶æ˜¯æ‰“å¼€çŠ¶æ€å¼•èµ·çš„ç³»ç»Ÿå´©æºƒ)</p>
</li>
<li><p>æŸäº›å‡½æ•°æ˜¯å¿…é¡»å®ç°çš„,å…¶ä»–æ˜¯å¯é€‰çš„,å¿…é¡»å®ç°çš„å‡½æ•°å¦‚ä¸‹:</p>
<ul>
<li><em>start  :</em>æŒ‡å‘çœ‹é—¨ç‹—è®¾å¤‡å¯åŠ¨å‡½æ•°çš„æŒ‡é’ˆ.è¿™ä¸ªå‡½æ•°å‚æ•°ä¸ºä¸€ä¸ª struct watchdog<em>device,</em>æˆåŠŸè¿”å›0,å¤±è´¥è¿”å›è´Ÿæ•°.</li>
<li><em>stop :</em>é€šè¿‡è¿™ä¸ªå‡½æ•°å…³é—­çœ‹é—¨ç‹—è®¾å¤‡.è¿™ä¸ªå‡½æ•°å‚æ•°ä¸ºä¸€ä¸ª struct watchdog<em>device,</em>æˆåŠŸè¿”å›0,å¤±è´¥è¿”å›è´Ÿæ•°.<ul>
<li>ä¸€äº›ç¡¬ä»¶çœ‹é—¨ç‹—è®¾å¤‡åªèƒ½å¯åŠ¨,æ²¡æœ‰å…³é—­é€‰é¡¹.å¯¹åº”è¿™äº›è®¾å¤‡çš„é©±åŠ¨,ä¸ç”¨å®ç° <em>stop  ,</em>å¦‚æœé©±åŠ¨ç¨‹åºæ²¡æœ‰å…³é—­è®¾å¤‡åŠŸèƒ½,çœ‹é—¨ç‹—æ ¸å¿ƒå±‚ä¼šåœ¨è®¾å¤‡å…³é—­åè®¾ç½® WDOG_HW_RUNNING å¹¶è°ƒç”¨é©±åŠ¨ç¨‹åºçš„ keepalive pingsåŠŸèƒ½.</li>
<li>å¦‚æœçœ‹é—¨ç‹—é©±åŠ¨æ²¡æœ‰å®ç°<em>stop  </em>å¿…é¡»è®¾ç½®max_hw_heartbeat<em>ms</em></li>
</ul>
</li>
</ul>
</li>
<li><p>ä¸æ˜¯æ‰€æœ‰çš„ç¡¬ä»¶çœ‹é—¨ç‹—éƒ½æœ‰ç›¸åŒçš„åŠŸèƒ½,è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰å¯é€‰å‡½æ•°äº†,åªæœ‰ä½†è¿™é¡¹åŠŸèƒ½è¢«ç¡¬ä»¶çœ‹é—¨ğŸ¶æ”¯æŒæ—¶,æ‰ç¼–å†™å¯¹åº”å‡½æ•°.</p>
<ul>
<li>ping:è¿™æ˜¯çœ‹é—¨ç‹—é©±åŠ¨å®ç°çš„å–‚ç‹—å‡½æ•°,è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ—¶ä¸€ä¸ªæŒ‡å‘struct watchdog<em>deviceçš„æŒ‡é’ˆ</em>.å‡½æ•°æ‰§è¡ŒæˆåŠŸè¿”å›0,å¤±è´¥è¿”å›è´Ÿæ•°.<ul>
<li>å¤§å¤šæ•°çš„ç¡¬ä»¶ä¸æ”¯æŒç›´æ¥å–‚ç‹—çš„ç‰¹æ®ŠåŠŸèƒ½,ä¸€èˆ¬æ˜¯ç›´æ¥é‡å¯ç¡¬ä»¶çœ‹é—¨ç‹—.</li>
<li>çœ‹é—¨ç‹—å­ç³»ç»Ÿçš„æ ¸å¿ƒå±‚ä¹Ÿæ˜¯è¿™æ ·åšçš„:ä½†å®šæœŸå–‚ç‹—çš„æ“ä½œè½¬å‘åˆ°ç¡¬ä»¶çœ‹é—¨ç‹—æ—¶,æ ¸å¿ƒå±‚åœ¨ <em>ping å®ç°</em>æ—¶è°ƒç”¨å–‚ç‹—å‡½æ•°,ä½†å–‚ç‹—å‡½æ•°æ²¡æœ‰å®ç°æ—¶,ä½¿ç”¨ start  å¯¹åº”å‡½æ•°</li>
<li>( WDIOC_KEEPALIVEå¯¹åº”çš„ ioctlå‘½ä»¤åªæœ‰åœ¨içœ‹é—¨ç‹—infoé‡Œçš„WDIOF_KEEPALIVEPINGè¢«è®¾ç½®ä¸º1åæ‰ä¼šç”Ÿæ•ˆ )</li>
</ul>
</li>
<li>status: è¿™ä¸ªå‡½æ•°ç”¨æ¥æ£€æŸ¥çœ‹é—¨ç‹—è®¾å¤‡çš„çŠ¶æ€,é€šè¿‡çœ‹é—¨ç‹—çš„WDIOF<em>*</em>çŠ¶æ€æ ‡å¿—ä½æŠ¥å‘Š.WDIOF_MAGICCLOSE and WDIOF_KEEPALIVEPINGç”±çœ‹é—¨ç‹—æ ¸å¿ƒå±‚æŠ¥å‘Š.æ²¡æœ‰å¿…è¦åœ¨é©±åŠ¨ç¨‹åºä¸­æŠ¥å‘Š.æ­¤å¤–å¦‚æœé©±åŠ¨ç¨‹åºæ²¡æœ‰å®ç°è¯¥å‡½æ•°,çœ‹é—¨ç‹—æ ¸å¿ƒå±‚ä¼šè¿”å› struct watchdog<em>device</em>ä¸­çš„bootstatusçŠ¶æ€ä½.</li>
<li>set_timeout:è¿™ä¸ªå‡½æ•°è®¾ç½®å’Œæ£€æŸ¥ è¶…æ—¶æ—¶é—´çš„å˜åŒ–,è¿”å›0è¡¨ç¤ºæˆåŠŸ,è¿”å›-EINVALè¡¨ç¤ºè¶…å‡ºèŒƒå›´,è¿”å›-EIOè¡¨ç¤ºæ— æ³•å†™å…¥çœ‹é—¨ç‹—.è®¾ç½®æˆåŠŸå,å‡½æ•°åº”è¯¥å°†è®¾å®šçš„è¶…æ—¶æ—¶é—´å†™å…¥çœ‹é—¨ç‹—.(æˆ–è®¸ä¸é€šè¿‡æ¥å£è·å–çš„è¶…æ—¶æ—¶é—´ä¸åŒ,å› ä¸ºçœ‹é—¨ç‹—çš„åˆ†è¾¨ç‡ä¸ä¸€å®šèƒ½åˆ°1s). <ul>
<li>å®ç°äº†max_hw_heartbeat_msçš„é©±åŠ¨å°†ç¡¬ä»¶çœ‹é—¨ç‹—å¿ƒè·³å€¼è®¾ç½®ä¸ºè¶…æ—¶æ—¶é—´å’Œmax_hw_heartbeat_msä¹‹é—´çš„æœ€å°å€¼.Those drivers set the timeout value of the watchdog_device either to the requested timeout value (if it is larger than max_hw_heartbeat_ms), or to the achieved timeout value.</li>
<li>å¦‚æœçœ‹é—¨ç‹—é©±åŠ¨ç¨‹åºæ²¡æœ‰æ‰§è¡Œä»»ä½•æ“ä½œ,ä½†è®¾ç½®äº†watchdog<em>device.timeout</em>,æ­¤å›æ‰å‡½æ•°å¿½ç•¥.</li>
<li>å¦‚æœæ²¡æœ‰è®¾ç½® set_timeout,ä½†è®¾ç½®äº†WDIOF_SETTIMEOUT,çœ‹é—¨ç‹—æ¶æ„ä¼šå°† watchdog_deviceä¸­timeoutå€¼æ›´æ–°ä¸ºè¯·æ±‚çš„å€¼.</li>
<li>å¦‚æœä½¿ç”¨äº†pretimeout feature (WDIOF_PRETIMEOUT),é‚£ä¹ˆset_timeout å¿…é¡»åŒæ—¶æ£€æŸ¥ pretimeout æ˜¯å¦æœ‰æ•ˆ ,è®¾ç½®ç›¸åº”å®šæ—¶å™¨. è¿™äº›æ“ä½œåœ¨æ ¸å¿ƒå±‚æ²¡æœ‰racesæ— æ³•å®Œæˆ,æ‰€ä»¥å¿…é¡»åœ¨é©±åŠ¨ä¸­å®Œæˆ.</li>
</ul>
</li>
<li>set<em>pretimeout</em>:è¿™ä¸ªå‡½æ•°æ”¯æŒæ£€æŸ¥/æ”¹å˜çœ‹é—¨ç‹—ä¸­pretimeoutå€¼(pretimeoutè¯¦æƒ…è§wdtç”¨æˆ·å±‚apiç¿»è¯‘).è¿™ä¸ªå‡½æ•°æ˜¯å¯é€‰æ”¯æŒçš„,å› ä¸ºä¸æ˜¯æ‰€æœ‰çš„çœ‹é—¨ç‹—éƒ½æ”¯æŒè¿™ä¸ªåŠŸèƒ½.pretimeout ä¸æ˜¯ç»å¯¹æ—¶é—´,å…¶æ•°å€¼æ˜¯åœ¨è¶…æ—¶æ—¶é—´ä¹‹å‰å‡ ç§’å‘ç”Ÿ.<ul>
<li>è¿”å›0è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸ,è¿”å›-EINVAL,è¡¨ç¤ºè¶…å‡ºèŒƒå›´,è¿”å›-EIOè¡¨ç¤ºæœªèƒ½æˆåŠŸå‘çœ‹é—¨ç‹—å†™å…¥.</li>
<li>è®¾ç½®pretimeouä¸º0å€¼,ä»£è¡¨ç¦ç”¨pretimeoutåŠŸèƒ½.(WDIOF<em>PRETIMEOUT</em>éœ€è¦åœ¨çœ‹é—¨ç‹—çš„info ç»“æ„ä½“ä¸­è®¾ç½®)</li>
<li>å¦‚æœé©±åŠ¨æ²¡æœ‰å®ç°ä»»ä½•åŠŸèƒ½,ä½†è®¾å®šäº† watchdog<em>device.pretimeout</em>,æ­¤å›æ‰å‡½æ•°å¿½ç•¥.è¿™æ„å‘³è¿™,å¦‚æœæ²¡æœ‰æä¾›set<em>pretimeout</em>å‡½æ•°,ä½†è®¾å®šäº†WDIOF<em>PRETIMEOUT</em>,çœ‹é—¨ç‹—æ¶æ„ä¼šå°†pretimeoutçš„å€¼æ›´æ–°ä¸ºè¯·æ±‚å€¼.</li>
</ul>
</li>
<li>get<em>timeleft:</em>è¿™ä¸ªå‡½æ•°è¿”å›å¤ä½å‰å‰©ä½™æ—¶é—´.</li>
<li>restart:æ­¤å‡½æ•°é‡å¯çœ‹é—¨ç‹—ç¡¬ä»¶,è¿”å›0è¡¨ç¤ºæˆåŠŸ,å¤±è´¥è¿”å›å¯¹åº”é”™è¯¯ç .</li>
<li>ioctl:å¦‚æœè¿™ä¸ªå‡½æ•°å­˜åœ¨,åœ¨ç³»ç»Ÿè¿›è¡Œå†…éƒ¨ioctlå‘½ä»¤å¤„ç†å‰,ä¼šé¦–å…ˆè°ƒç”¨æ­¤å‡½æ•°.å¦‚æœä¸æ”¯æŒioctrlå‘½ä»¤,åº”è¯¥è¿”å› -ENOIOCTLCMD .è¿™ä¸ªå‡½æ•°çš„å‚æ•°ä¸º(watchdog<em>device, cmd and arg)</em></li>
<li>refå’Œunref å·²ç»ä¸å†è¢«æ”¯æŒ.</li>
</ul>
</li>
<li><p>The status bits should (preferably) be set with the set_bit and clear_bit alike bit-operations. The status bits that are defined are:</p>
<ul>
<li>WDOG<em>ACTIVE:</em>è¿™ä¸ªçŠ¶æ€ä½æ ‡è¯†ç€ä»ç”¨æˆ·ç©ºé—´çœ‹ä¸€ä¸ªçœ‹é—¨ç‹—è®¾å¤‡æ˜¯å¦è¢«æ¿€æ´»,å¦‚æœè¢«æ¿€æ´»,ç”¨æˆ·ç©ºé—´éœ€è¦æ‰§è¡Œå–‚ç‹—åŠ¨ä½œ</li>
<li>WDOG_NO_WAY<em>OUT:</em>è¿™ä¸ªçŠ¶æ€ä½æ ‡è¯†è¿™nowayoutçš„è®¾ç½®,å¦‚æœè¢«æ¿€æ´»,é‚£çœ‹é—¨ç‹—å¯åŠ¨å,æ— æ³•è¢«åœæ­¢.</li>
<li>WDOG_HW_RUNNING:å¦‚æœç¡¬ä»¶çœ‹é—¨ç‹—è¿è¡Œ,æ­¤çŠ¶æ€ä½è¢«ç½®1.<ul>
<li>å½“ç¡¬ä»¶çœ‹é—¨ç‹—ä¸èƒ½è¢«åœæ­¢æ—¶,è¿™ä¸ªçŠ¶æ€ä½å¿…é¡»è¢«ç½®1.</li>
<li>å¦‚æœç³»ç»Ÿå¯åŠ¨åè‡ªåŠ¨å¯åŠ¨çœ‹é—¨ç‹—,åœ¨çœ‹é—¨ç‹—æ‰“å¼€å‰,å¿…é¡»è®¾ç½®æ­¤çŠ¶æ€ä½.</li>
<li>å½“æ­¤çŠ¶æ€ä½è¢«ç½®1,å³ä½¿WDOG<em>ACTIVEä¸º0</em>.çœ‹é—¨ç‹—æ¶æ„ä¹Ÿä¼šæ‰§è¡Œå–‚ç‹—åŠ¨ä½œ.</li>
<li>(å½“ä½ ç›´æ¥æ³¨å†Œè®¾ç½®äº† WDOG_HW_RUNNINGä½çš„çœ‹é—¨ç‹—è®¾å¤‡æ—¶,æ‰§è¡Œopen /dev/watchdogåŠ¨ä½œ,ç³»ç»Ÿä¼šç›´æ¥è·³è¿‡å¯åŠ¨æ“ä½œ,ç›´æ¥æ‰§è¡Œå–‚ç‹—æ“ä½œ )</li>
</ul>
</li>
</ul>
<ul>
<li><p>è¦è®¾ç½®WDOG_NO_WAY<em>OUT</em>çŠ¶æ€ä½(åœ¨æ³¨å†Œçœ‹é—¨ç‹—è®¾å¤‡å‰)ä½ å¯ä»¥:</p>
<ul>
<li><p>åœ¨watchdog<em>device</em>çš„ç»“æ„ä½“ä¸­è®¾ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.status = WATCHDOG_NOWAYOUT_INIT_STATUS,</div></pre></td></tr></table></figure>
<p>è¿™æ ·ç­‰åŒäºå°†WDOG_NO_WAY<em>OUT</em>å€¼è®¾ç½®ä¸ºCONFIG_WATCHDOG_NOWAYOUT</p>
</li>
<li>ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">static inline void watchdog_set_nowayout(struct watchdog_device *wdd, int nowayout)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>(note:)   wdté©±åŠ¨ç¨‹åºæ ¸å¿ƒæ”¯æŒmagic closeå’Œ nowayoutåŠŸèƒ½.è¦ä½¿ç”¨magic close,éœ€è¦åœ¨çœ‹é—¨ç‹—çš„ infoä¸­è®¾ç½®WDIOF<em>MAGICCLOSE </em>ä½.å¼€å¯ nowayout ä¼šè¦†ç›–magic close.</p>
</li>
<li><p>è·å–æˆ–è®¾å®šé©±åŠ¨ç¨‹åºç‰¹æ®Šæ•°æ®,åº”è¯¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">static inline void watchdog_set_drvdata(struct watchdog_device *wdd, void *data)</div><div class="line">static inline void *watchdog_get_drvdata(struct watchdog_device *wdd)</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>watchdog_set_drvdataå‡½æ•°å…è®¸ä½ æ·»åŠ å‘é©±åŠ¨ç¨‹åºæ·»åŠ ç‰¹æ®Šæ•°æ®,æ­¤å‡½æ•°çš„å‚æ•°ä¸ºæŒ‡å‘çœ‹é—¨ç‹—è®¾å¤‡çš„æŒ‡é’ˆ,å’ŒæŒ‡å‘éœ€è¦æ·»åŠ æ•°æ®çš„æŒ‡é’ˆ.</li>
<li>watchdog_get_drvdataå‡½æ•°è¿è¡Œä½ è¯»å–é©±åŠ¨ç¨‹åºä¸­çš„ç‰¹æ®Šæ•°æ®,æ­¤å‡½æ•°çš„å‚æ•°ä¸ºæŒ‡å‘ä½ æƒ³è¯»å–çš„çœ‹é—¨ç‹—è®¾å¤‡çš„æŒ‡é’ˆ.</li>
</ul>
<ul>
<li><p>åˆå§‹åŒ– timeout ,ä¼šç”¨åˆ°ä¸‹é¢çš„å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">  extern int watchdog_init_timeout(struct watchdog_device *wdd,unsigned int timeout_parm, struct device *dev);</div><div class="line">  ``` </div><div class="line">  </div><div class="line">  * watchdog_init_timeoutå…è®¸ä½¿ç”¨æ¨¡å—çš„ timeout å­—æ®µåˆå§‹åŒ– timeout ,å½“æ¨¡å—çš„ timeout å­—æ®µæ— æ•ˆæ—¶,è®¾å¤‡æ ‘ä¸­çš„timeout-secä¹Ÿå¯.æœ€å¥½çš„åšæ³•æ˜¯å°†watchdog_device_ä¸­timeoutçš„å€¼,è®¾ç½®ä¸ºåˆå§‹é»˜è®¤å€¼,ç„¶åä½¿ç”¨åˆ°å‡½æ•°çš„ç”¨æˆ·å¯ä»¥åˆ†åˆ«è®¾ç½®è‡ªå®šä¹‰å€¼.</div><div class="line"></div><div class="line">* é‡å¯åç¦ç”¨çœ‹é—¨ç‹—,éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°:</div></pre></td></tr></table></figure>
<p>static inline void watchdog_stop_on_reboot(struct watchdog_device *wdd);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* å¸è½½çœ‹é—¨ç‹—è®¾å¤‡æ—¶ç¦ç”¨çœ‹é—¨ç‹—,å¿…é¡»è°ƒç”¨æ­¤å‡½æ•°,å¦‚æœ nowayout æ²¡æœ‰è®¾ç½®,è¿™ä¸ªå‡½æ•°åªä¼šåœæ­¢çœ‹é—¨ç‹—.</div></pre></td></tr></table></figure>
<p>static inline void watchdog_stop_on_unregister(struct watchdog_device *wdd);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">    </div><div class="line">* æ›´æ”¹é‡å¯å¤„ç†ç¨‹åºçš„ä¼˜å…ˆçº§,(çŒœæµ‹æ˜¯ä¸åŒçœ‹é—¨ç‹—çš„ä¼˜å…ˆçº§)è°ƒç”¨ä¸‹é¢çš„å‡½æ•°:</div></pre></td></tr></table></figure>
<p>oid watchdog_set_restart_priority(struct watchdog_device *wdd, int priority);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">  * è®¾å®šä¼˜å…ˆçº§æ—¶,ç”¨æˆ·éœ€è¦éµå¾ªä»¥ä¸‹è§„åˆ™</div><div class="line">    * 0:ä¼˜å…ˆçº§æœ€ä½,éå¸¸æœ‰é™çš„é‡å¯èƒ½åŠ›</div><div class="line">    * 128:é‡å¯å¤„ç†çš„é»˜è®¤é€‰æ‹©,å¦‚æœæ²¡æœ‰å…¶ä»–çš„é‡å¯å¤„ç†ç¨‹åºå¯ç”¨,æˆ–è€…æ²¡æœ‰é‡å¯æ•´ä¸ªç³»ç»Ÿçš„é‡å¯å¤„ç†ç¨‹åºå¯ç”¨.</div><div class="line">    * 255:æœ€é«˜ä¼˜å…ˆçº§,ä¼šè¦†ç›–å…¶ä»–æ‰€æœ‰é‡å¯å¤„ç†ç¨‹åº</div><div class="line"></div><div class="line">* ä½¿ç”¨pretimeout é€šçŸ¥åŠŸèƒ½,éœ€è¦åˆ©ç”¨ä»¥ä¸‹å‡½æ•°:</div></pre></td></tr></table></figure>
<p>void watchdog_notify_pretimeout(struct watchdog_device *wdd)<br>```</p>
<ul>
<li>è¿™ä¸ªå‡½æ•°å¯ä»¥åœ¨ä¸­æ–­ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨,å¦‚æœå¯ç”¨äº†watchdog pretimeout governor æ¡†æ¶(kbuild CONFIG_WATCHDOG_PRETIMEOUT_GOV),å°±ä¼šé‡‡ç”¨è¿›å…¥é©±åŠ¨ç¨‹åºåˆ†é…å¥½çš„å¤„ç†ç¨‹åº,å¦‚æœæ²¡æœ‰å¯ç”¨watchdog pretimeout governor æ¡†æ¶,watchdog_notify_pretimeout()ä¼šå°†ä¿¡æ¯è¾“å‡ºåˆ°å†…æ ¸æ—¥å¿—ç¼“å­˜.</li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;wdtç¬¬äºŒå¼¹ï¼Œå†…æ ¸APIï¼Œå‹‰å¼ºç¿»è¯‘ä¸‹æ¥äº†ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥æ•´ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&quot;çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸API&quot;&gt;&lt;a href=&quot;#çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸API&quot; class=&quot;headerlink&quot; title=&quot;çœ‹é—¨ç‹—å®šæ—¶å™¨é©±åŠ¨å†…æ ¸A
    
    </summary>
    
      <category term="Linuxç¬”è®°" scheme="http://yoursite.com/categories/Linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="ç¿»è¯‘" scheme="http://yoursite.com/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="wdt" scheme="http://yoursite.com/tags/wdt/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¬”è®°â€”çœ‹é—¨ç‹—APIæ–‡æ¡£ç¿»è¯‘</title>
    <link href="http://yoursite.com/2017/08/22/linux%E7%AC%94%E8%AE%B0%E2%80%94%E7%9C%8B%E9%97%A8%E7%8B%97API%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/"/>
    <id>http://yoursite.com/2017/08/22/linuxç¬”è®°â€”çœ‹é—¨ç‹—APIæ–‡æ¡£ç¿»è¯‘/</id>
    <published>2017-08-22T09:52:16.000Z</published>
    <updated>2017-09-10T01:35:42.263Z</updated>
    
    <content type="html"><![CDATA[<hr>
<ul>
<li>éšæ‰‹ç¿»è¯‘çš„æ–‡æ¡£ï¼Œè¦çœ‹æ‡‚linuxå†…æ ¸ï¼Œå†…æ ¸é™„å¸¦çš„æ–‡æ¡£è‡ªç„¶æ˜¯é€ƒä¸è¿‡ğŸ˜‚ï¼Œå…¨è‹±æ–‡é…åˆGoogleç¿»è¯‘ä¹Ÿå¾—ä¸Šã€‚ã€‚ã€‚ã€‚</li>
</ul>
<hr>
<ul>
<li><p>æœ€åæ›´æ–°æ—¶é—´ 10/05/2007</p>
</li>
<li><p>linuxçœ‹é—¨ç‹—è®¾å¤‡API</p>
</li>
<li>Copyright 2002 Christer Weingel <a href="&#x6d;&#x61;&#x69;&#108;&#x74;&#x6f;&#x3a;&#119;&#x69;&#x6e;&#x67;&#101;&#x6c;&#x40;&#x6e;&#x61;&#x6e;&#x6f;&#45;&#x73;&#121;&#x73;&#x74;&#x65;&#109;&#x2e;&#x63;&#111;&#x6d;">&#119;&#x69;&#x6e;&#x67;&#101;&#x6c;&#x40;&#x6e;&#x61;&#x6e;&#x6f;&#45;&#x73;&#121;&#x73;&#x74;&#x65;&#109;&#x2e;&#x63;&#111;&#x6d;</a></li>
<li><p>æœ¬æ–‡æ¡£çš„ä¸€äº›å†…å®¹æ¥è‡ª sbc60xxwdt ï¼Œç‰ˆæƒå±äº Copyright 2000 Jakob Oestergaard <a href="&#109;&#x61;&#105;&#x6c;&#x74;&#x6f;&#x3a;&#106;&#97;&#x6b;&#111;&#x62;&#x40;&#111;&#x73;&#x74;&#x65;&#110;&#102;&#x65;&#108;&#100;&#46;&#100;&#107;">&#106;&#97;&#x6b;&#111;&#x62;&#x40;&#111;&#x73;&#x74;&#x65;&#110;&#102;&#x65;&#108;&#100;&#46;&#100;&#107;</a></p>
</li>
<li><p>æœ¬æ–‡æ¡£åŸºäºlinuxå†…æ ¸ 2.4.18</p>
</li>
</ul>
<hr>
<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><ul>
<li>ä½ åº”è¯¥å·²ç»çŸ¥é“äº†ï¼Œçœ‹é—¨ç‹—å®šæ—¶å™¨ï¼ˆWDTï¼‰æ˜¯ä¸€ä¸ªç¡¬ä»¶å¤ä½ç”µè·¯ï¼Œåœ¨ç³»ç»Ÿè½¯ä»¶å‡ºç°æ•…éšœæ—¶å¤ä½ç³»ç»Ÿã€‚</li>
<li>é€šå¸¸ï¼Œç”¨æˆ·ç©ºé—´çš„å®šæœŸå–‚ç‹—ç¨‹åºé€šè¿‡/dev/watchdogçš„è®¾å¤‡æ–‡ä»¶é€šçŸ¥å†…æ ¸çœ‹é—¨ç‹—é©±åŠ¨ç¨‹åºã€‚é©±åŠ¨æ”¶åˆ°é€šçŸ¥ï¼Œä¼šå‘ŠçŸ¥ç¡¬ä»¶çœ‹é—¨ç‹—ä¸€åˆ‡æ­£å¸¸ï¼Œç¡¬ä»¶çœ‹é—¨ç‹—éœ€è¦ç­‰ä¸€ä¼šå†å¤ä½ç³»ç»Ÿã€‚å¦‚æœç”¨æˆ·ç©ºé—´é€šçŸ¥å¤±è´¥ï¼ˆRAMé”™è¯¯ã€å†…æ ¸æ¼æ´ç­‰ç­‰ï¼‰ï¼Œé€šçŸ¥å°†åœæ­¢ã€‚è¶…æ—¶åï¼Œç¡¬ä»¶çœ‹é—¨ç‹—å°†å¤ä½ç³»ç»Ÿï¼ˆé‡å¯ï¼‰ã€‚</li>
<li>linuxçœ‹é—¨ç‹—çš„APIæ˜¯ç›¸å½“ç‰¹æ®Šçš„ç»“æ„ï¼Œä¸åŒçš„é©±åŠ¨ç¨‹åºå¯¹APIçš„æ‰§è¡Œå„ä¸ç›¸åŒï¼Œæœ‰æ—¶ä¼šç¢°åˆ°ä¸å…¼å®¹çš„æƒ…å†µã€‚æœ¬æ–‡æ¡£å‚æ•°è®°å½•ç°æœ‰çš„æƒ…å†µï¼Œä»¥ä¾›æœªæ¥çš„é©±åŠ¨å¼€å‘å‚è€ƒã€‚<h3 id="æœ€ç®€å•çš„API"><a href="#æœ€ç®€å•çš„API" class="headerlink" title="æœ€ç®€å•çš„API"></a>æœ€ç®€å•çš„API</h3></li>
<li>æ‰€æœ‰é©±åŠ¨éƒ½æ”¯æŒçš„åŸºæœ¬æ“ä½œæ¨¡å¼ã€‚/dev/watchdogè¢«æ‰“å¼€åï¼Œçœ‹é—¨ç‹—è¢«æ¿€æ´»å¹¶å¤ä½ç³»ç»Ÿï¼Œé™¤éåœ¨ä¸€å°æ®µæ—¶é—´å†…è¢«pingé€šï¼Ÿï¼ˆå–‚ç‹—ï¼‰ï¼Œè¿™æ®µæ—¶é—´è¢«ç§°ä¸ºè¶…æ—¶æ—¶é—´æˆ–é—´æ–­æ—¶é—´ã€‚ç®€å•çš„å–‚ç‹—çš„æ–¹å¼æ˜¯å‘é©±åŠ¨ç¨‹åºå†™å…¥ä¸€äº›æ•°æ®ï¼Œä¸€ä¸ªéå¸¸ç®€å•çš„å®ä¾‹åœ¨<code>see samples/watchdog/watchdog-simple.c</code>ä¸‹.</li>
<li>æ›´é«˜çº§çš„é©±åŠ¨ç¨‹åºå¯ä»¥åšåˆ°ä¾‹å¦‚æ£€æŸ¥ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œåœ¨æ‰§è¡Œå–‚ç‹—æ“ä½œä¹‹å‰ï¼Œåšå‡ºå›åº”ã€‚</li>
<li>/dev/ä¸‹è®¾å¤‡èŠ‚ç‚¹è¢«å…³é—­åï¼Œçœ‹é—¨ç‹—ä¹ŸåŒæ—¶è¢«ç¦ç”¨ï¼Œé™¤éæ”¯æŒâ€œMagic Closeâ€ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œè¿™å¹¶ä¸æ˜¯ä¸ªå¥½åŠæ³•ã€‚å› ä¸ºå¦‚æœçœ‹çœ‹é—¨ç‹—demoæœ‰bugå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œä½†ç³»ç»Ÿä¸ä¼šé‡å¯ã€‚å› ä¸ºè¿™æ ·ä¸€äº›é©±åŠ¨æ”¯æŒâ€Disable watchdog shutdown on closeâ€, CONFIG_WATCHDOG_NOWAYOUTâ€è¿™æ ·çš„é…ç½®é€‰é¡¹ã€‚ä¸€æ—¦ç¼–è¯‘å†…æ ¸æ—¶å€™å¯ç”¨è¿™äº›é€‰é¡¹ï¼Œä¸€æ—¦çœ‹é—¨ç‹—ç¨‹åºæ¿€æ´»ï¼Œå°±ä¸å¯èƒ½ç¦ç”¨çœ‹é—¨ç‹—ã€‚å¦‚æœçœ‹é—¨ç‹—demoå´©æºƒï¼Œç³»ç»Ÿä¼šåœ¨è¶…æ—¶åè‡ªåŠ¨é‡å¯ã€‚çœ‹é—¨ç‹—é©±åŠ¨é€šå¸¸ä¹Ÿæ”¯æŒnowayout module parameterï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶æ§åˆ¶nowayout moduleã€‚</li>
</ul>
<h3 id="Magic-Close-feature"><a href="#Magic-Close-feature" class="headerlink" title="Magic Close feature"></a>Magic Close feature</h3><ul>
<li>å¦‚æœé©±åŠ¨ç¨‹åºæ”¯æŒ<code>Magic Close</code>,é‚£ä¹ˆè®¾å¤‡å°†ä¸æ”¯æŒç¦ç”¨çœ‹é—¨ç‹—ï¼Œé™¤éåœ¨å…³é—­è®¾å¤‡æ–‡ä»¶å‰ï¼Œå‘/dev/watchdogä¸‹è®¾å¤‡æ–‡ä»¶å†™å…¥ç‰¹å®šçš„magic å­—ç¬¦ â€˜Vâ€™ã€‚å¦‚æœç”¨æˆ·ç©ºé—´çš„ daemonå…³é—­äº†çœ‹é—¨çš„è®¾å¤‡æ–‡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰å‘é€é‚£ä¸ªç‰¹å®šçš„å­—ç¬¦ï¼Œé©±åŠ¨ä¼šè®¤ä¸ºdaemonè¿›ç¨‹å·²ç»è¢«æ€ï¼Œå¹¶ä¸”åœæ­¢äº†å®šæœŸå–‚ç‹—è¡Œä¸ºã€‚è¿™æ ·ä¼šå¯¼è‡´è¶…æ—¶åç³»ç»Ÿé‡å¯ã€‚<h3 id="ioctl-API"><a href="#ioctl-API" class="headerlink" title="ioctl API"></a>ioctl API</h3></li>
<li>æ‰€æœ‰çš„é©±åŠ¨ç¨‹åºéƒ½æ”¯æŒioctl API</li>
<li><strong>å–‚ç‹—æ“ä½œä½¿ç”¨ioctlå®Œæˆ</strong></li>
<li>æ‰€æœ‰çš„é©±åŠ¨éƒ½è¦æ”¯æŒä¸€ä¸ªKEEPALIVEçš„ioctlå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥èµ·åˆ°å‘é©±åŠ¨å†™å…¥æ•°æ®ä¸€æ ·çš„ä½œç”¨ã€‚æ‰€ä»¥watchdog daemonçš„ä¸»å‡½æ•°å¾ªç¯å¯ä»¥è¿™æ ·å®ç°<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> while (1) &#123;</div><div class="line">	ioctl(fd, WDIOC_KEEPALIVE, 0);</div><div class="line">	sleep(10);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Setting-and-getting-the-timeout"><a href="#Setting-and-getting-the-timeout" class="headerlink" title="Setting and getting the timeout"></a>Setting and getting the timeout</h3><ul>
<li>æŸäº›é©±åŠ¨æ”¯æŒè¿è¡Œæ—¶é€šè¿‡SETTIMEOUT ioctlå‘½ä»¤ä¿®æ”¹è¶…æ—¶æ—¶é—´ï¼Œè¿™äº›é©±åŠ¨éƒ½æœ‰WDIOF<em>SETTIMEOUTçš„æ ‡å¿—ä½</em>ã€‚è¶…æ—¶æ—¶é—´æ˜¯ä¸€ä¸ªå•ä½ä¸ºç§’çš„æ•´æ•°ï¼Œé©±åŠ¨ç¨‹åºä¼šè¿”å›è¿™ä¸ªå˜é‡å®é™…è®¾ç½®çš„æ•°å€¼ï¼Œä½†æ˜¯ç”±äºç¡¬ä»¶é™åˆ¶ï¼Œè¿”å›çš„æ•°å€¼å¯èƒ½ä¸è®¾ç½®æ•°å€¼ä¸åŒã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">int timeout = 45;</div><div class="line">ioctl(fd, WDIOC_SETTIMEOUT, &amp;timeout);</div><div class="line">printf(&quot;The timeout was set to %d seconds\n&quot;, timeout);</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>è¿™ä¸ªå®ä¾‹æˆ–è®¸ä¼šè¾“å‡ºâ€The timeout was set to 60 secondsâ€ï¼Œå¦‚æœè®¾å¤‡è¶…æ—¶æ—¶é—´ä¸ºåˆ†é’Ÿã€‚</p>
</li>
<li><p>è‡ªä»2.4.18å†…æ ¸å¼€å§‹ï¼Œå¯ä»¥ä½¿ç”¨GETTIMEOUT ioctlå‘½ä»¤ï¼Œè·å–è¶…æ—¶æ—¶é—´ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ioctl(fd, WDIOC_GETTIMEOUT, &amp;timeout);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"The timeout was is %d seconds\n"</span>, timeout);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Pretimeouts"><a href="#Pretimeouts" class="headerlink" title="Pretimeouts"></a>Pretimeouts</h3><ul>
<li><p>ä¸€äº›çœ‹é—¨ç‹—å®šæ—¶å™¨å¯ä»¥åœ¨ç³»ç»Ÿé‡å¯å‰ä¸€æ®µæ—¶é—´è®¾ç½®ä¸€ä¸ªè§¦å‘å™¨ã€‚è¿™æ ·è¿è¡Œlinuxåœ¨ç³»ç»Ÿä»å‰è®°å½•ä¸€äº›é‡è¦çš„ä¿¡æ¯ï¼ˆåƒpanicä¿¡æ¯å’Œkernel coredumpsï¼‰ï¼Œå…·ä½“å¯ä»¥é€šè¿‡NMTã€ä¸­æ–­ç­‰æœºåˆ¶å®ç°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pretimeout = 10;</div><div class="line">ioctl(fd, WDIOC_SETPRETIMEOUT, &amp;pretimeout);</div></pre></td></tr></table></figure>
</li>
<li><p>è¯·æ³¨æ„ï¼Œpretimeout æ—¶é—´æ˜¯åœ¨ è¶…æ—¶å…³é—­ç³»ç»Ÿ ä¹‹å‰çš„ç§’æ•°ã€‚ä¸æ˜¯ç›´åˆ°å‘ç”Ÿpretimeout äº‹ä»¶çš„ç§’æ•°ã€‚ä¾‹å¦‚è®¾å®šçš„è¶…æ—¶æ—¶é—´æ˜¯60sï¼Œ pretimeoutæ˜¯10sã€‚pretimeoutäº‹ä»¶ä¼šåœ¨50sæ—¶å‘ç”Ÿã€‚pretimeoutè®¾ç½®ä¸º0ä»£è¡¨ç¦ç”¨pretimeoutã€‚</p>
</li>
<li><p>åŒæ ·å­˜åœ¨ä¸€ä¸ªè·å–pretimeoutçš„ioctlå‘½ä»¤ã€‚</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ioctl(fd, WDIOC_GETPRETIMEOUT, &amp;timeout);</div><div class="line">printf(&quot;The pretimeout was is %d seconds\n&quot;, timeout);</div></pre></td></tr></table></figure>
</li>
<li><p>ä¸æ˜¯æ‰€æœ‰çœ‹é—¨ç‹—é©±åŠ¨éƒ½æ”¯æŒ pretimeout</p>
</li>
</ul>
<h3 id="è·å–é‡å¯å‰ç§’æ•°"><a href="#è·å–é‡å¯å‰ç§’æ•°" class="headerlink" title="è·å–é‡å¯å‰ç§’æ•°"></a>è·å–é‡å¯å‰ç§’æ•°</h3><ul>
<li>ä¸€äº›çœ‹é—¨ç‹—é©±åŠ¨æ”¯æŒè·å–ç³»ç»Ÿé‡å¯å‰ç§’æ•°ã€‚é€šè¿‡WDIOC<em>GETTIMELEFT  ioctl  </em>å‘½ä»¤å¯ä»¥è¿”å›ç³»ç»Ÿé‡å¯å‰ç§’æ•°ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ioctl(fd, WDIOC_GETTIMELEFT, &amp;timeleft);</div><div class="line">printf(&quot;The timeout was is %d seconds\n&quot;, timeleft);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ç¯å¢ƒç›‘æµ‹"><a href="#ç¯å¢ƒç›‘æµ‹" class="headerlink" title="ç¯å¢ƒç›‘æµ‹"></a>ç¯å¢ƒç›‘æµ‹</h3><ul>
<li><p>æ‰€æœ‰çš„çœ‹é—¨ç‹—é©±åŠ¨éƒ½è¢«è¦æ±‚è¿”å›æ›´å¤šå…³äºç³»ç»Ÿæœ€åä¸€æ¬¡é‡å¯çš„ä¿¡æ¯ï¼Œåƒæ˜¯æ¸©åº¦ã€é£æ‰‡è½¬é€Ÿã€ç”µæºç­‰ã€‚GETSUPPORT ioctl çš„å‘½ä»¤å¯ä»¥è¿”å› è®¾å¤‡å¯ä»¥æ”¯æŒçš„ä¿¡æ¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">struct watchdog_info ident;</div><div class="line">ioctl(fd, WDIOC_GETSUPPORT, &amp;ident);</div></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›çš„ç»“æ„identä¸­çš„å­—æ®µå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">   identity		æè¿°watchdog driverçš„å­—ç¬¦ä¸²</div><div class="line">firmware_version	the firmware version of the card if available</div><div class="line">options			è®¾å¤‡æ”¯æŒæƒ…å†µçš„æ ‡å¿—ä½</div></pre></td></tr></table></figure>
</li>
<li><p>optionsæè¿°äº†GET_STATUS å’ŒGET_BOOT<em>STATUS ioctlå‘½ä»¤</em>å¯ä»¥è¿”å›é‚£äº›ä¿¡æ¯ã€‚å¹¶ä¸”å¯ä»¥è®¾ç½®ã€‚ï¼ˆï¼‰<strong>??æ— æ³•ç†è§£ä»€ä¹ˆæ„æ€??</strong></p>
</li>
</ul>
<ul>
<li>WDIOF<em>OVERHEAT     cpuè¿‡çƒ­å¤ä½</em><br>ç³»ç»Ÿé‡å¯å› ä¸ºï¼Œè¶…è¿‡äº†æ¸©åº¦é™åˆ¶ä¸Šé™ã€‚</li>
<li><p>WDIOF<em>FANFAULT        é£æ‰‡å¤±æ•ˆå¤ä½</em></p>
</li>
<li><p>WDIOF<em>EXTERN1        External relay 1 </em><br>å¤–éƒ¨ç›‘æ§ç”µæº1è¢«è§¦å‘ï¼Œï¼Ÿï¼Ÿï¼ŸControllers intended for real world applications include external monitoring pins that will trigger a reset.ï¼Ÿï¼Ÿï¼ˆä¸æ˜ç™½ä»€ä¹ˆæ„æ€ï¼‰</p>
</li>
<li><p>WDIOF_EXTERN2        External relay 2<br>å¤–éƒ¨ç›‘æ§ç”µæº2è¢«è§¦å‘</p>
</li>
<li><p>WDIOF_POWERUNDER    ç”µæºåäº†ï¼Œç”µæºå¸¦ä¸åŠ¨äº†<br>æœºå™¨æ˜¾ç¤ºæ¬ å‹ã€‚</p>
</li>
</ul>
<hr>
<ul>
<li>åé¢ä¸€ç‚¹ä¸ç¿»äº†ï¼Œæœ‰æ—¶é—´å†æ·»å‘</li>
</ul>
<hr>
<ul>
<li><p>WDIOF_CARDRESET        Card previously reset the CPU<br>The last reboot was caused by the watchdog card</p>
</li>
<li><p>WDIOF_POWEROVER        Power over voltage<br>The machine is showing an overvoltage status. Note that if one level is under and one over both bits will be set - this may seem odd but makes sense.</p>
</li>
<li><p>WDIOF_KEEPALIVEPING    Keep alive ping reply<br>The watchdog saw a keepalive ping since it was last queried.</p>
</li>
<li><p>WDIOF_SETTIMEOUT    Can set/get the timeout<br>The watchdog can do pretimeouts.</p>
</li>
<li><p>WDIOF_PRETIMEOUT    Pretimeout (in seconds), get/set<br>For those drivers that return any bits set in the option field, the GETSTATUS and GETBOOTSTATUS ioctls can be used to ask for the current status, and the status at the last reboot, respectively.  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">int flags;</div><div class="line">ioctl(fd, WDIOC_GETSTATUS, &amp;flags);</div></pre></td></tr></table></figure>
<p>  or</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ioctl(fd, WDIOC_GETBOOTSTATUS, &amp;flags);</div></pre></td></tr></table></figure>
</li>
<li><p>Note that not all devices support these two calls, and some only support the GETBOOTSTATUS call.</p>
</li>
<li><p>Some drivers can measure the temperature using the GETTEMP ioctl.  The returned value is the temperature in degrees fahrenheit.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">int temperature;</div><div class="line">ioctl(fd, WDIOC_GETTEMP, &amp;temperature);</div></pre></td></tr></table></figure>
</li>
<li><p>Finally the SETOPTIONS ioctl can be used to control some aspects of the cards operation.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">int options = 0;</div><div class="line">ioctl(fd, WDIOC_SETOPTIONS, &amp;options);</div></pre></td></tr></table></figure>
</li>
<li><p>The following options are available:</p>
<ul>
<li>WDIOS_DISABLECARD    Turn off the watchdog timer</li>
<li>WDIOS_ENABLECARD    Turn on the watchdog timer</li>
<li>WDIOS_TEMPPANIC        Kernel panic on temperature trip</li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;éšæ‰‹ç¿»è¯‘çš„æ–‡æ¡£ï¼Œè¦çœ‹æ‡‚linuxå†…æ ¸ï¼Œå†…æ ¸é™„å¸¦çš„æ–‡æ¡£è‡ªç„¶æ˜¯é€ƒä¸è¿‡ğŸ˜‚ï¼Œå…¨è‹±æ–‡é…åˆGoogleç¿»è¯‘ä¹Ÿå¾—ä¸Šã€‚ã€‚ã€‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æœ€åæ›´æ–°æ—¶é—´ 10/05/2007&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;linuxçœ‹é—¨
    
    </summary>
    
      <category term="Linuxç¬”è®°" scheme="http://yoursite.com/categories/Linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="ç¿»è¯‘" scheme="http://yoursite.com/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="wdt" scheme="http://yoursite.com/tags/wdt/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¬”è®°â€”rtcå­ç³»ç»Ÿ</title>
    <link href="http://yoursite.com/2017/08/19/linux%E7%AC%94%E8%AE%B0%E2%80%94rtc%E5%AD%90%E7%B3%BB%E7%BB%9F/"/>
    <id>http://yoursite.com/2017/08/19/linuxç¬”è®°â€”rtcå­ç³»ç»Ÿ/</id>
    <published>2017-08-19T02:17:11.000Z</published>
    <updated>2017-09-10T01:51:07.106Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>æ­£å¼å¼€å§‹è®©äººå´©æºƒçš„linuxç³»åˆ—ï¼Œå¸Œæœ›è‡ªå·±èƒ½å†™å®Œã€‚<br>å…ˆæ‹¿rtcå¼€åˆ€ã€‚</li>
<li><p>è¿™é‡Œæˆ‘å°½å¯èƒ½è®°å½•ä¸‹æ€ç»´çš„ç»†èŠ‚ï¼Œè€Œä¸æ˜¯ä»…å±€é™äºä»£ç ï¼Œå¸Œæœ›è‡ªå·±èƒ½é¢†ä¼šLinuxå†…æ ¸å¼€å‘è€…çš„æƒ³æ³•ã€‚</p>
</li>
<li><p>å†…æ ¸ç‰ˆæœ¬ï¼šlinux4.1</p>
</li>
<li>éœ€è¦äº†è§£ï¼šç®€ç•¥äº†è§£å­—ç¬¦é©±åŠ¨ å’Œ Linuxè®¾å¤‡é©±åŠ¨æ¨¡å‹</li>
</ul>
<hr>
<h3 id="RTC"><a href="#RTC" class="headerlink" title="RTC"></a>RTC</h3><ul>
<li>rtcå³real time clockï¼Œå®æ—¶æ—¶é’Ÿã€‚</li>
<li>rtcä¸€èˆ¬è´Ÿè´£ç³»ç»Ÿå…³æœºåè®¡æ—¶ï¼Œé¢å¯¹ç¹å¤šçš„Linux RTCè®¾å¤‡ï¼Œå†…æ ¸å¹²è„†æä¾›äº†ä¸€ä¸ªrtcå­ç³»ç»Ÿï¼Œæ¥æ”¯æŒæ‰€æœ‰çš„rtcè®¾å¤‡ã€‚</li>
<li>å‚è€ƒèµ„æ–™ </li>
</ul>
<h3 id="rtcå­ç³»ç»Ÿ"><a href="#rtcå­ç³»ç»Ÿ" class="headerlink" title="rtcå­ç³»ç»Ÿ"></a>rtcå­ç³»ç»Ÿ</h3><ul>
<li>rtcè®¾å¤‡æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦è®¾å¤‡ï¼Œrtcå­ç³»ç»Ÿåœ¨å­—ç¬¦è®¾å¤‡çš„åŸºç¡€ä¸ŠæŠ½è±¡ä¸ç¡¬ä»¶æ— å…³çš„éƒ¨åˆ†ï¼Œå¹¶åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæ‹“å±•sysfså’Œprocæ–‡ä»¶ç³»ç»Ÿä¸‹çš„è®¿é—®ã€‚</li>
<li>åˆ†ææ—¶å€™å§‹ç»ˆè®°ä½ä¸¤ç‚¹ï¼š<ul>
<li>rtcå­ç³»ç»Ÿæ˜¯ä¸ºäº†è®©rtcè®¾å¤‡é©±åŠ¨ç¼–å†™æ›´ä¸ºç®€å•ï¼Œä¸ç¡¬ä»¶æ— å…³éƒ¨åˆ†å·²è¢«æŠ½ç¦»ã€‚</li>
<li>rtcå­ç³»ç»Ÿæ˜¯åŸºäºå­—ç¬¦è®¾å¤‡è€Œæ¥çš„ã€‚<h3 id="æ–‡ä»¶æ¡†æ¶"><a href="#æ–‡ä»¶æ¡†æ¶" class="headerlink" title="æ–‡ä»¶æ¡†æ¶"></a>æ–‡ä»¶æ¡†æ¶</h3></li>
</ul>
</li>
<li><p>rtcå­ç³»ç»Ÿçš„æºç åœ¨ /drivers/rtc<br><img src="https://my.mixtape.moe/anynhb.jpg" alt="1.jpg"><br>åˆ å‡äº†å¾ˆå¤šrtc-xxx.cçš„é©±åŠ¨ï¼Œåªç•™ä¸‹äº†ds1307ä½œä¸ºç¤ºä¾‹ï¼Œè¿™é‡Œçœ‹åˆ°å®é™…ä¸Šä»£ç å¹¶ä¸å¤šã€‚</p>
</li>
<li><p>å…·ä½“æ–‡ä»¶åˆ†æ</p>
<ul>
<li><p>rtc.hï¼šå®šä¹‰ä¸RTCæœ‰å…³çš„æ•°æ®ç»“æ„ã€‚</p>
</li>
<li><p>class.cï¼šå‘å†…æ ¸æ³¨å†ŒRTCç±»ï¼Œä¸ºåº•å±‚é©±åŠ¨æä¾›rtc_device_registerä¸rtc_device_unregisteræ¥å£ç”¨äºRTCè®¾å¤‡çš„æ³¨å†Œ/æ³¨é”€ã€‚åˆå§‹åŒ–RTCè®¾å¤‡ç»“æ„ã€sysfsã€procã€‚</p>
</li>
<li>Interface.cï¼šæä¾›ç”¨æˆ·ç¨‹åºä¸RTCçš„æ¥å£å‡½æ•°ï¼Œå…¶ä¸­åŒ…æ‹¬ioctlå‘½ä»¤ã€‚</li>
<li>rtc-dev.cï¼šå°†RTCè®¾å¤‡æŠ½è±¡ä¸ºé€šç”¨çš„å­—ç¬¦è®¾å¤‡ï¼Œæä¾›æ–‡ä»¶æ“ä½œå‡½æ•°é›†ã€‚</li>
<li>rtc-sysfs.cï¼šç®¡ç†RTCè®¾å¤‡çš„sysfså±æ€§ï¼Œè·å–RTCè®¾å¤‡åã€æ—¥æœŸã€æ—¶é—´ç­‰ã€‚</li>
<li>rtc-proc.cï¼šç®¡ç†RTCè®¾å¤‡çš„procfså±æ€§ï¼Œæä¾›ä¸­æ–­çŠ¶æ€å’Œæ ‡å¿—æŸ¥è¯¢ã€‚</li>
<li>rtc-lib.cï¼šæä¾›RTCã€Dataå’ŒTimeä¹‹é—´çš„è½¬æ¢å‡½æ•°ã€‚</li>
<li>rtc-xxx,cï¼šRTCè®¾å¤‡çš„å®é™…é©±åŠ¨ï¼Œæ­¤å¤„ä»¥rtc-ds1307ä¸ºä¾‹ã€‚</li>
<li>hctosys.cï¼šå¼€æœºæ—¶è·å–RTCæ—¶é—´ã€‚</li>
</ul>
</li>
<li><p>æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿæ¡†æ¶<br><img src="https://my.mixtape.moe/fdixml.jpg" alt=""></p>
</li>
<li><p>RTCå­ç³»ç»Ÿå…·ä½“å¯åˆ†ä¸º3å±‚ï¼š</p>
<ul>
<li>ç”¨æˆ·å±‚ï¼šRTCå­ç³»ç»Ÿå‘ä¸Šå±‚æä¾›äº†æ¥å£ï¼Œç”¨æˆ·é€šè¿‡è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œé—´æ¥è°ƒç”¨RTCè®¾å¤‡ï¼Œå…·ä½“æœ‰3ç§æ–¹å¼ã€‚<ul>
<li>/dev/rtc  RTCè®¾å¤‡æŠ½è±¡è€Œæ¥çš„å­—ç¬¦è®¾å¤‡ï¼Œå¸¸è§„æ–‡ä»¶æ“ä½œé›†åˆã€‚</li>
<li>/sys/class/rtc/rtcx é€šè¿‡sysfsæ–‡ä»¶ç³»ç»Ÿè¿›è¡ŒRTCæ“ä½œï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ã€‚</li>
<li>/proc/driver/rtc  é€šè¿‡procæ–‡ä»¶ç³»ç»Ÿè·å–RTCç›¸å…³ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>RTCæ ¸å¿ƒå±‚ï¼šä¸ç¡¬ä»¶æ— å…³ï¼Œç”¨äºç®¡ç†RTCè®¾å¤‡æ³¨å†Œ/æ³¨é”€ã€æä¾›ä¸Šå±‚æ–‡ä»¶æ“ä½œçš„æ¥å£ç­‰ã€‚</li>
<li>RTCé©±åŠ¨ï¼šç‰¹å®šRTCè®¾å¤‡çš„é©±åŠ¨ç¨‹åºï¼Œå®ç°RTCæ ¸å¿ƒå±‚çš„å›æ‰å‡½æ•°ã€‚ç¼–å†™RTCé©±åŠ¨éœ€è¦æŒ‰ç…§RTCå­ç³»ç»Ÿçš„æ¥å£å¡«å†™å¯¹åº”å‡½æ•°å¹¶å»ºç«‹æ˜ å°„å³å¯ã€‚RTCæ ¸å¿ƒå±‚å‡½æ•°å®ç°çš„è¿‡ç¨‹å’Œæ•°é‡ä¸ç‰¹å®šç¡¬ä»¶ç´§å¯†ç›¸å…³ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li>åˆçœ‹linuxç³»ç»Ÿçš„äººæ¥è¯´ï¼Œè¿™ä¸ªå›¾å¤Ÿå¤´æ™•çš„äº†ï¼Œä½†æ˜¯å‘¢ï¼Œå®é™…ä¸Šæ²¡é‚£ä¹ˆéº»çƒ¦ã€‚ç”±æµ…å…¥æ·±ï¼Œä¸€ç‚¹ä¸€ç‚¹æ¥åˆ†æã€‚</li>
</ul>
<h3 id="rtcå­ç³»ç»Ÿåˆ†æ"><a href="#rtcå­ç³»ç»Ÿåˆ†æ" class="headerlink" title="rtcå­ç³»ç»Ÿåˆ†æ"></a>rtcå­ç³»ç»Ÿåˆ†æ</h3><h4 id="rtc-dev"><a href="#rtc-dev" class="headerlink" title="rtc-dev"></a>rtc-dev</h4><ul>
<li>rtcå­ç³»ç»ŸåŸºäºå­—ç¬¦è®¾å¤‡ï¼Œå­—ç¬¦è®¾å¤‡å¯¹åº”çš„è‚¯å®šæ˜¯rtc-dev.cäº†ï¼Œæˆ‘ä»¬çš„åˆ†æç”±rtc-devèµ·æ­¥ã€‚</li>
<li><p>rtc-dev.c<br><img src="https://my.mixtape.moe/ukpdro.jpg" alt=""></p>
</li>
<li><p>å…¸å‹çš„å­—ç¬¦è®¾å¤‡ï¼Œæ¨¡å—çš„åˆå§‹åŒ–/å¸è½½è‡ªç„¶æ˜¯ rtc_dev_init(void) å’Œ  rtc_dev_exit(void)ã€‚<br>è®¾å¤‡æ¥å…¥ï¼Œæ·»åŠ /åˆ é™¤è®¾å¤‡ rtc_dev_add_device(struct rtc_device <em>rtc) å’Œ  e)    void rtc_dev_del_device(struct rtc_device </em>rtc)<br>è¿˜æœ‰ioctlå’Œopenç­‰å‡½æ•°ï¼Œç†Ÿæ‚‰å­—ç¬¦è®¾å¤‡é©±åŠ¨çš„ä¸ç”¨å¤šè¯´ã€‚</p>
</li>
<li><p>è¿½è¸ªä¸€ä¸‹è¿™ä¸¤ç»„å‡½æ•°åœ¨å“ªé‡Œè°ƒç”¨çš„ã€‚</p>
<ul>
<li>rtc_dev_init(void)å¯¹åº”åœ¨ class.cçš„rtc_init(void)å‡½æ•°</li>
<li>rtc_dev_add_deviceå¯¹åº”åœ¨class.cçš„ rtc_device_register()å‡½æ•°ã€‚</li>
</ul>
</li>
<li><p>rtc_dev_init(void)å¯¹åº”å®åœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶ä½¿ç”¨ï¼Œå¯¹åº”rtc_init(void)ä¹Ÿæ˜¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–ä¹‹åè°ƒç”¨ã€‚</p>
</li>
<li>rtc_dev_add_device()æ˜¯åœ¨é©±åŠ¨åŒ¹é…åè°ƒç”¨ï¼Œrtc_device_register()ä¹Ÿæ˜¯åœ¨é©±åŠ¨åŒ¹é…åè°ƒç”¨ã€‚æ‰“å¼€rtc-ds1307.c&gt;-probå‡½æ•°ï¼Œèƒ½æ‰¾åˆ°rtc_device_register()ä¹Ÿå°±è¯å®äº†è¿™ä¸ªæ€è·¯ã€‚</li>
<li>æ¥ä¸‹æ¥è½¬å…¥class.c</li>
</ul>
<h4 id="class-c"><a href="#class-c" class="headerlink" title="class.c"></a>class.c</h4><ul>
<li><p>linuxé©±åŠ¨æ¨¡å‹ä¸­class.cå¯¹åº”ç±»çš„æ„æ€ï¼Œæ˜¯rtcç±»ã€‚<br>æ¯ä¸ªclasså¯¹åº”éƒ½æœ‰è‡ªå·±æ ¸å¿ƒæ•°æ®ç»“æœï¼Œå¯¹åº”rtcç±»å°±æ˜¯rtc-device</p>
</li>
<li><p>rtc_device<br> rtc_deviceä»£è¡¨ RTCè®¾å¤‡åŸºç¡€çš„æ•°æ®ç»“æ„</p>
<ul>
<li>æ•°æ®ç»“æ„<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">rtc_device</span>  &#123;</span>  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">device</span> <span class="title">dev</span>;</span>  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">module</span> *<span class="title">owner</span>;</span>  </div><div class="line">   <span class="keyword">int</span> id;                                   <span class="comment">//RTCè®¾å¤‡çš„æ¬¡è®¾å¤‡å·  </span></div><div class="line">   <span class="keyword">char</span> name[RTC_DEVICE_NAME_SIZE];  </div><div class="line">   <span class="keyword">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">rtc_class_ops</span> *<span class="title">ops</span>;</span>  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">mutex</span> <span class="title">ops_lock</span>;</span>  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">cdev</span> <span class="title">char_dev</span>;</span>  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">long</span> flags;  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">long</span> irq_data;  </div><div class="line">   <span class="keyword">spinlock_t</span> irq_lock;  </div><div class="line">   <span class="keyword">wait_queue_head_t</span> irq_queue;  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">fasync_struct</span> *<span class="title">async_queue</span>;</span>  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">rtc_task</span> *<span class="title">irq_task</span>;</span>  </div><div class="line">   <span class="keyword">spinlock_t</span> irq_task_lock;  </div><div class="line">   <span class="keyword">int</span> irq_freq;  </div><div class="line">   <span class="keyword">int</span> max_user_freq;  </div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> CONFIG_RTC_INTF_DEV_UIE_EMUL  </span></div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">work_struct</span> <span class="title">uie_task</span>;</span>  </div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">timer_list</span> <span class="title">uie_timer</span>;</span>  </div><div class="line">   <span class="comment">/* Those fields are protected by rtc-&gt;irq_lock */</span>  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> oldsecs;  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> uie_irq_active:<span class="number">1</span>;  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> stop_uie_polling:<span class="number">1</span>;  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> uie_task_active:<span class="number">1</span>;  </div><div class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> uie_timer_active:<span class="number">1</span>;  </div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>  </span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>å¾ˆé•¿ï¼Ÿå¾ˆğŸ˜µå¯¹ä¸å¯¹ï¼Ÿåªè¦å…³æ³¨ä¸€ç‚¹å°±è¡Œ_</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">int id;                                              //ä»£è¡¨æ˜¯é‚£ä¸ªrtcè®¾å¤‡  </div><div class="line">char name[RTC_DEVICE_NAME_SIZE];                     //ä»£è¡¨rtcè®¾å¤‡çš„åç§°  </div><div class="line">const struct rtc_class_ops *ops;                     //rtcæ“ä½œå‡½æ•°é›†ï¼Œéœ€è¦é©±åŠ¨å®ç°  </div><div class="line">struct mutex ops_lock;                               //æ“ä½œå‡½æ•°é›†çš„äº’æ–¥é”  </div><div class="line">  </div><div class="line">struct cdev char_dev;                                //ä»£è¡¨rtcå­—ç¬¦è®¾å¤‡ï¼Œå› ä¸ºrtcå°±æ˜¯ä¸ªå­—ç¬¦è®¾å¤‡  </div><div class="line">unsigned long flags;                                 //rtcçš„çŠ¶æ€æ ‡å¿—ï¼Œä¾‹å¦‚RTC_DEV_BUSY</div></pre></td></tr></table></figure>
</li>
<li><p>ä¸Šæ–‡ä¹¦è¯´åˆ°ï¼Œé©±åŠ¨ç¨‹åºçš„probå‡½æ•°é‡Œé¢è°ƒç”¨äº†rtc_device_register()è¿™è´§çš„ç±»å‹å°±æ˜¯rtc_deviceã€‚å‚åŠ é©±åŠ¨ç¨‹åºæ€æ ·è°ƒç”¨rtc_device<em>register(),</em>ä¸å…¶ä»–æ ¸å¿ƒçš„åŸºæœ¬ç»“æ„ä¸åŒçš„æ˜¯ï¼Œé©±åŠ¨ç¨‹åºä»¥ä¸æ˜¯ä»¥rtc-deviceä¸ºå‚æ•°æ³¨å†Œè®¾å¤‡åˆ°å­ç³»ç»Ÿï¼Œè€Œæ˜¯æ³¨å†Œå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªrtc<em>deivceçš„ç»“æ„ç»™é©±åŠ¨ã€‚</em></p>
</li>
</ul>
</li>
<li><p>rtc_class_ops<br>  è¿™ä¸ªæ˜¯rtc<em>deviceçš„ä¸€éƒ¨åˆ†ã€‚</em></p>
<ul>
<li><p>æ•°æ®ç»“æ„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">   struct rtc_class_ops &#123;  </div><div class="line">   int (*open)(struct device *);     //æ‰“å¼€è®¾å¤‡æ—¶çš„å›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥åˆå§‹åŒ–ç¡¬ä»¶å¹¶ç”³è¯·èµ„æº  </div><div class="line">   void (*release)(struct device *); //è¿™ä¸ªå‡½æ•°æ˜¯è®¾å¤‡å…³é—­æ—¶è¢«è°ƒç”¨çš„ï¼Œåº”è¯¥æ³¨é”€ç”³è¯·çš„èµ„æº  </div><div class="line">   int (*ioctl)(struct device *, unsigned int, unsigned long); //ioctlå‡½æ•°ï¼Œå¯¹æƒ³è®©RTCè‡ªå·±å®ç°çš„å‘½ä»¤åº”è¿”å›ENOIOCTLCMD  </div><div class="line">   int (*read_time)(struct device *, struct rtc_time *);       //è¯»å–æ—¶é—´  </div><div class="line">   int (*set_time)(struct device *, struct rtc_time *);        //è®¾ç½®æ—¶é—´  </div><div class="line">   int (*read_alarm)(struct device *, struct rtc_wkalrm *);    //è¯»å–ä¸‹ä¸€æ¬¡å®šæ—¶ä¸­æ–­çš„æ—¶é—´  </div><div class="line">   int (*set_alarm)(struct device *, struct rtc_wkalrm *);     //è®¾ç½®ä¸‹ä¸€æ¬¡å®šæ—¶ä¸­æ–­çš„æ—¶é—´  </div><div class="line">   int (*proc)(struct device *, struct seq_file *);            //procfsæ¥å£  </div><div class="line">   int (*set_mmss)(struct device *, unsigned long secs);       //å°†ä¼ å…¥çš„å‚æ•°secsè½¬æ¢ä¸ºstruct rtc_timeç„¶åè°ƒç”¨set_timeå‡½æ•°ã€‚ç¨‹åºå‘˜å¯ä»¥ä¸å®ç°è¿™ä¸ªå‡½æ•°ï¼Œä½†  å‰ææ˜¯å®šä¹‰å¥½äº†read_time/set_timeï¼Œå› ä¸ºRTCæ¡†æ¶éœ€è¦ç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚  </div><div class="line">   int (*irq_set_state)(struct device *, int enabled);         //å‘¨æœŸé‡‡æ ·ä¸­æ–­çš„å¼€å…³ï¼Œæ ¹æ®enabledçš„å€¼æ¥è®¾ç½®  </div><div class="line">   int (*irq_set_freq)(struct device *, int freq);             //è®¾ç½®å‘¨æœŸä¸­æ–­çš„é¢‘ç‡  </div><div class="line">   int (*read_callback)(struct device *, int data);            ///ç”¨æˆ·ç©ºé—´è·å¾—æ•°æ®åä¼šä¼ å…¥è¯»å–çš„æ•°æ®ï¼Œå¹¶ç”¨è¿™ä¸ªå‡½æ•°è¿”å›çš„æ•°æ®æ›´æ–°æ•°æ®ã€‚  </div><div class="line">   int (*alarm_irq_enable)(struct device *, unsigned int enabled);  //alarmä¸­æ–­ä½¿èƒ½å¼€å…³ï¼Œæ ¹æ®enabledçš„å€¼æ¥è®¾ç½®  </div><div class="line">   int (*update_irq_enable)(struct device *, unsigned int enabled); //æ›´æ–°ä¸­æ–­ä½¿èƒ½å¼€å…³ï¼Œæ ¹æ®enabledçš„å€¼æ¥è®¾ç½®  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>è¯¥ç»“æ„ä½“ä¸­å‡½æ•°å¤§å¤šæ•°éƒ½æ˜¯å’ŒrtcèŠ¯ç‰‡çš„æ“ä½œæœ‰å…³ï¼Œéœ€è¦é©±åŠ¨ç¨‹åºå®ç°ã€‚<br>æ‰€æœ‰RTCé©±åŠ¨éƒ½å¿…é¡»å®ç°read_timeã€set_timeå‡½æ•°ï¼Œå…¶ä»–å‡½æ•°å¯é€‰ã€‚</p>
</li>
</ul>
</li>
<li><p>å‚è€ƒå…¶ä»–çš„èµ„æ–™ï¼Œclassçš„åˆ†æå¦‚ä¸‹<br><img src="https://my.mixtape.moe/xrsnkw.jpg" alt=""></p>
</li>
<li><p>static int __init rtc_init(void)</p>
<ul>
<li>è°ƒç”¨class_createåˆ›å»ºRTCç±»ï¼Œåˆ›å»º/sys/class/rtcç›®å½•ï¼Œåˆå§‹åŒ–RTCç±»ç›¸å…³æˆå‘˜ï¼Œå‘ç”¨æˆ·ç©ºé—´æä¾›è®¾å¤‡ä¿¡æ¯ã€‚</li>
<li>è°ƒç”¨rtc-dev.cå®ç°çš„rtc_dev_init();åŠ¨æ€åˆ†é…RTCå­—ç¬¦è®¾å¤‡çš„è®¾å¤‡å·ã€‚</li>
<li>è°ƒç”¨rtc_sysfs_init(rtc<em>class)ï¼›åˆ›å»º/sys/class/rtcä¸‹å±æ€§æ–‡ä»¶</em></li>
</ul>
</li>
<li><p>static void __exit rtc<em>exit(void)</em></p>
<ul>
<li>è°ƒç”¨rtc-dev.cå®ç°çš„rtc_dev_exit()ï¼›æ³¨é”€è®¾å¤‡å·ã€‚</li>
<li>è°ƒç”¨class_destroy(rtc_class)ï¼›æ³¨é”€/sys/classä¸‹çš„rtcç›®å½•</li>
</ul>
</li>
</ul>
<ul>
<li>struct rtc_device <em>rtc_device_register(const char </em>name, struct device <em>dev,const struct rtc_class_ops </em>ops,struct module *ownerï¼‰_<ul>
<li>ç”³è¯·ä¸€ä¸ªidræ•´æ•°IDç®¡ç†æœºåˆ¶ç»“æ„ä½“ï¼Œå¹¶ä¸”åˆå§‹åŒ–ç›¸å…³æˆå‘˜</li>
<li>å°†è®¾å¤‡devå…³è”sysfsä¸‹çš„rtcç±»</li>
<li>åˆå§‹åŒ–rtcç»“æ„ä½“çš„ä¿¡å·é‡</li>
<li>åˆå§‹åŒ–rtcç»“æ„ä½“ä¸­çš„ä¸­æ–­</li>
<li>è®¾ç½®rtcçš„åå­—</li>
<li>åˆå§‹åŒ–rtcå­—ç¬¦è®¾å¤‡çš„è®¾å¤‡å·ï¼Œç„¶åæ³¨å†Œrtcè®¾å¤‡,è‡ªåŠ¨åˆ›å»º/dev/rtc(n)è®¾å¤‡èŠ‚ç‚¹æ–‡ä»¶</li>
<li>æ³¨å†Œå­—ç¬¦è®¾å¤‡</li>
<li>åœ¨/sys/rtc/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé—¹é’Ÿå±æ€§æ–‡ä»¶</li>
<li>åˆ›å»º/proc/driver/rtcç›®å½•</li>
</ul>
</li>
<li>void rtc_device_unregister(struct rtc_device *rtc)<ul>
<li>åˆ é™¤sysfsä¸­çš„rtcè®¾å¤‡,å³åˆ é™¤/sys/class/rtcç›®å½•</li>
<li>åˆ é™¤devä¸‹çš„/dev/rtc(n)è®¾å¤‡èŠ‚ç‚¹æ–‡ä»¶</li>
<li>åˆ é™¤è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿæ¥å£,å³åˆ é™¤/proc/driver/rtcç›®å½•</li>
<li>å¸è½½å­—ç¬¦è®¾å¤‡</li>
<li>æ¸…ç©ºrtcçš„æ“ä½œå‡½æ•°æŒ‡é’ˆrtc-&gt;ops</li>
<li>é‡Šæ”¾rtcçš„deviceç»“æ„ä½“_</li>
</ul>
</li>
<li>static void rtc_device_release(struct device <em>dev)    </em><ul>
<li>å¸è½½idræ•°å­—ç®¡ç†æœºåˆ¶ç»“æ„ä½“</li>
<li>é‡Šæ”¾rtcç»“æ„ä½“çš„å†…å­˜</li>
</ul>
</li>
</ul>
<h4 id="Rtcå­ç³»ç»Ÿåˆå§‹åŒ–"><a href="#Rtcå­ç³»ç»Ÿåˆå§‹åŒ–" class="headerlink" title="Rtcå­ç³»ç»Ÿåˆå§‹åŒ–"></a>Rtcå­ç³»ç»Ÿåˆå§‹åŒ–</h4><ul>
<li>ä¸Šå›¾<br><img src="https://my.mixtape.moe/driyxr.jpg" alt=""></li>
</ul>
<ul>
<li>ä½¿ç”¨rtcå­ç³»ç»Ÿé¦–å…ˆéœ€è¦åœ¨å†…æ ¸ç¼–è¯‘é€‰é¡¹ä¸­å¯ç”¨RTCå­ç³»ç»Ÿæ”¯æŒã€‚<ul>
<li>å¿…é¡»å¯ç”¨Real Time Clock</li>
<li>ä½¿ç”¨/devä¸‹çš„è®¾å¤‡æ–‡ä»¶å¯¹åº”å¼€å¯CONFIG_RTC_INTF_DEV</li>
<li>ä½¿ç”¨/procä¸‹çš„æ¥å£å¯¹åº”å¼€å¯CONFIG_RTC_INTF_PROC</li>
<li>ä½¿ç”¨/sysfsä¸‹çš„æ¥å£å¯¹åº”å¼€å¯CONFIG_RTC_INTF_SYSFS</li>
</ul>
</li>
<li>_ç³»ç»Ÿå¯åŠ¨åï¼Œå¦‚é…ç½®å¯ç”¨rtcå­ç³»ç»Ÿï¼Œåˆ™ä¼šé¦–å…ˆæ‰§è¡Œrtc<em>init</em>å‡½æ•°ï¼Œåˆ›å»ºrtcç±»ã€åˆå§‹åŒ–ç›¸å…³æˆå‘˜ã€åˆ†é…è®¾å¤‡å·ç­‰</li>
<li>åˆ›å»ºrtcç±»åï¼Œä¹‹åè°ƒç”¨rtc_dev_init()åŠ¨æ€åˆ†é…rtcå­—ç¬¦è®¾å¤‡çš„è®¾å¤‡å·ã€‚ä¹‹åè°ƒç”¨rtc_sysfs_init()åˆå§‹åŒ–/sys/class/rtcç›®å½•ä¸­çš„å±æ€§æ–‡ä»¶</li>
</ul>
<h4 id="Rtcè®¾å¤‡æ³¨å†Œ"><a href="#Rtcè®¾å¤‡æ³¨å†Œ" class="headerlink" title="Rtcè®¾å¤‡æ³¨å†Œ"></a>Rtcè®¾å¤‡æ³¨å†Œ</h4><ul>
<li>Rtcè®¾å¤‡æœ¬è´¨ä¸Šå±äºå­—ç¬¦è®¾å¤‡ï¼Œä¾é™„äºç³»ç»Ÿå†…æ€»çº¿ã€‚ä¸€èˆ¬æ¥è¯´cpuå†…éƒ¨rtcä¾é™„äºplatformæ€»çº¿ï¼Œå¤–ç½®rtcèŠ¯ç‰‡åˆ™ä¾é™„äºé€šä¿¡æ–¹å¼å¯¹åº”æ€»çº¿ã€‚å…¶è¿‡ç¨‹ä¸é€šç”¨å­—ç¬¦è®¾å¤‡ç›¸ä¼¼ï¼Œrtcå­ç³»ç»Ÿåœ¨è®¾å¤‡æ³¨å†Œè¿‡ç¨‹ä¸­é™„åŠ äº†probå’Œsysfsç›¸å…³çš„æ³¨å†Œå’Œåˆå§‹åŒ–æ“ä½œã€‚</li>
<li><p>ä¸Šå›¾<br><img src="https://my.mixtape.moe/urumgu.jpg" alt=""></p>
<ul>
<li>Rtcè®¾å¤‡æŒ‚è½½åï¼Œç›¸åº”æ€»çº¿ä¼šæœç´¢åŒ¹é…çš„é©±åŠ¨ç¨‹åºï¼Œé©±åŠ¨ç¨‹åºæˆåŠŸmatchåï¼Œè¿›å…¥é©±åŠ¨å®ç°çš„probeå‡½æ•°ï¼Œæ‰§è¡Œè®¾å¤‡æ³¨å†Œç­‰æ“ä½œã€‚</li>
</ul>
</li>
<li>å®Œæˆæ€»çº¿è®¾å¤‡æ³¨å†Œåï¼Œprobeä¼šè·³è½¬åˆ°rtc_device_register()å‡½æ•°ï¼Œå°†è®¾å¤‡æ³¨å†Œåˆ°rtcå­ç³»ç»Ÿã€‚</li>
<li>Rtcè®¾å¤‡æœ¬è´¨å±äºå­—ç¬¦è®¾å¤‡ï¼Œä¼šè°ƒç”¨rtc_dev_prepare()å‡½æ•°ï¼Œåˆå§‹åŒ–å­—ç¬¦è®¾å¤‡ï¼Œè®¾ç½®rtcç›¸å…³çš„file operationå‡½æ•°é›†åˆã€‚</li>
<li>ä¹‹åä¾æ¬¡è°ƒç”¨rtc_dev_add_device(rtc)ã€rtc_sysfs_add_device(rtc)ã€rtc_proc_add_device(rtc) ï¼Œè¿›è¡Œæ³¨å†Œå­—ç¬¦è®¾å¤‡ã€åœ¨/sys/rtc/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé—¹é’Ÿå±æ€§æ–‡ä»¶ã€åˆ›å»º/proc/driver/rtcç›®å½•ç­‰æ“ä½œã€‚</li>
<li>rtc_device_register()ä¼šå°†é©±åŠ¨å®ç°çš„rtc_class_opsç»“æ„ä½“ä¸å…·ä½“è®¾å¤‡è”ç³»èµ·æ¥ã€‚</li>
</ul>
<h4 id="interface-c"><a href="#interface-c" class="headerlink" title="interface.c"></a>interface.c</h4><ul>
<li>åœ¨rtc-proc.cã€rtc_sysfså’Œioctlå‘½ä»¤ä¸­ï¼Œæ‰€æœ‰çš„æ“ä½œè°ƒç”¨çš„éƒ½æ˜¯interface.cæä¾›çš„æ¥å£ï¼Œè¿™é‡Œä»¥ioctlçš„ä¸€ä¸ªä¾‹å­è¯´æ˜æ•´ä¸ªè°ƒç”¨çš„è¿‡ç¨‹</li>
<li><p>ä¸Šå›¾<br><img src="https://my.mixtape.moe/bvtlqf.jpg" alt=""></p>
</li>
<li><p>ä»¥icotlå‘½ä»¤RTC_RD_TIMEä¸ºä¾‹ï¼Œè¯´æ˜å‘½ä»¤è°ƒç”¨çš„æµç¨‹ã€‚</p>
<ul>
<li>RTC_RD_TIMEå¯¹åº”çš„æ˜¯/devä¸‹ioctlå‘½ä»¤ï¼Œè°ƒç”¨è¢«è½¬å‘è‡³/rtc-dev.c</li>
<li>rtc-dev.c-&gt;rtc_dev_ioctl(struct file *file,unsigned int cmd, unsigned long arg)å‡½æ•°ä¸­ã€‚RTC_RD_TIMEå¯¹åº”çš„ä»£ç ä¸ºerr = rtc_read_time(rtc, &amp;tm); rtc_read_timeæ˜¯interface.cæ–‡ä»¶æä¾›çš„æ¥å£ä¹‹ä¸€ã€‚</li>
<li>interface.c-&gt;rtc_read_time(struct rtc_device <em>rtc, struct rtc_time </em>tm)å‡½æ•°ä¸­å¯¹åº”rtc_class_opsè½¬å‘ä»£ç ä¸ºerr = rtc-&gt;ops-&gt;read_time(rtc-&gt;dev.parent, tm);å°†æ“ä½œè½¬å‘è‡³åŒ¹é…çš„rtcè®¾å¤‡ã€‚</li>
<li><p>è®¾å¤‡é©±åŠ¨è¿™é‡Œä»¥rtc-ds1307ä¸ºä¾‹ï¼Œä½†è®¾å¤‡æ³¨å†Œæ—¶é€šè¿‡mcp794xx_rtc_opsç»“æ„ä½“å°†rtc_class_opså¯¹åº”å‡½æ•°ä¸é©±åŠ¨ç¨‹åºå®ç°çš„å‡½æ•°ç»‘å®š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">static const struct rtc_class_ops mcp794xx_rtc_ops = &#123;</div><div class="line">.read_time  = ds1307_get_time,</div><div class="line">.set_time   = ds1307_set_time,</div><div class="line">.read_alarm = mcp794xx_read_alarm,</div><div class="line">.set_alarm  = mcp794xx_set_alarm,</div><div class="line">.alarm_irq_enable = mcp794xx_alarm_irq_enable,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>æœ€ç»ˆæ‰§è¡Œè½¬å…¥ds1307.c-&gt; ds1307_get_timeå‡½æ•°ï¼Œæ‰§è¡Œä¸ç¡¬ä»¶ç›¸å…³çš„æ“ä½œã€‚</p>
<h4 id="rtc-sysfs-c"><a href="#rtc-sysfs-c" class="headerlink" title="rtc-sysfs.c"></a>rtc-sysfs.c</h4></li>
</ul>
</li>
<li><p>ç”±å‰åŠéƒ¨åˆ†å¯çŸ¥ï¼Œ/sys/class/rtc/æ˜¯åœ¨rtc-initè°ƒç”¨rtc_sysfs_initåç”Ÿæˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">void __init rtc_sysfs_init(struct class *rtc_class) &#123;</div><div class="line">	rtc_class-&gt;dev_groups = rtc_groups;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>è¿™é‡Œçš„rtc_groupsæ˜¯rtc-sysfs.cä¸­å®šä¹‰äº†è¿™æ ·ä¸€ä¸ªattributeå‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">static struct attribute *rtc_attrs[] = &#123;</div><div class="line">&amp;dev_attr_name.attr,</div><div class="line">&amp;dev_attr_date.attr,</div><div class="line">&amp;dev_attr_time.attr,</div><div class="line">&amp;dev_attr_since_epoch.attr,</div><div class="line">&amp;dev_attr_max_user_freq.attr,</div><div class="line">&amp;dev_attr_hctosys.attr,</div><div class="line">NULL,</div><div class="line">&#125;;</div><div class="line">ATTRIBUTE_GROUPS(rtc);</div></pre></td></tr></table></figure>
</li>
<li><p>_åœ¨rtc_sysfs_initå‡½æ•°è°ƒç”¨åç»‘å®šäº†sysfsèŠ‚ç‚¹æ“ä½œå‡½æ•°çš„é›†åˆï¼Œä½¿å¾—è®¾å¤‡åŒ¹é…é©±åŠ¨ç¨‹åºåè€Œç”Ÿæˆå¯¹åº”çš„rtcnæ–‡ä»¶å¤¹ã€‚</p>
</li>
<li><code>dev_attr_nameå’Œdev_attr_data</code>ç”±å®<code>DEVICE_ATTR_RO</code>å’ŒDEVICE_ATTR_RWç”Ÿæˆï¼Œä»–ä»¬åˆ†åˆ«å®šä¹‰äº†åªè¯»çš„å’Œå¯è¯»å¯å†™çš„attributeèŠ‚ç‚¹ã€‚æ¯ä¸ªå±æ€§å‡½æ•°ä¸‹éƒ½æœ‰DEVICE_ATTR_XX()å®å£°æ˜ï¼Œç»‘å®šåˆ°å¯¹åº”attributeèŠ‚ç‚¹ã€‚</li>
</ul>
<h4 id="rtc-proc-c"><a href="#rtc-proc-c" class="headerlink" title="rtc-proc.c"></a>rtc-proc.c</h4><ul>
<li>procæ–‡ä»¶ç³»ç»Ÿæ˜¯è½¯ä»¶åˆ›å»ºçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå†…æ ¸é€šè¿‡ä»–å‘å¤–ç•Œå¯¼å‡ºä¿¡æ¯ï¼Œä¸‹é¢çš„æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå½“ç”¨æˆ·è¯»å–è¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªå‡½æ•°ä¼šå‘æ–‡ä»¶å†™å…¥ä¿¡æ¯ã€‚</li>
<li><p>rtc-proc.cä¸­åˆå§‹åŒ–äº†file_operationsç»“æ„ä½“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">static const struct file_operations rtc_proc_fops = &#123;  </div><div class="line">  .open       = rtc_proc_open,  </div><div class="line">  .read       = seq_read,  </div><div class="line">  .llseek     = seq_lseek,  </div><div class="line">  .release    = rtc_proc_release,  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>_RTCé©±åŠ¨åœ¨å‘RTCæ ¸å¿ƒæ³¨å†Œè‡ªå·±çš„æ—¶å€™ï¼Œç”±æ³¨å†Œå‡½æ•°rtc_device_resgisterè°ƒç”¨rtc_proc_add_deviceæ¥å®ç°procæ¥å£çš„åˆå§‹åŒ–ï¼Œè¿™ä¸ªå‡½æ•°å¦‚ä¸‹å®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">void rtc_proc_add_device(struct rtc_device *rtc)  </div><div class="line">&#123;	  </div><div class="line">   	if (rtc-&gt;id == 0)  </div><div class="line">       	proc_create_data(&quot;driver/rtc&quot;, 0, NULL, &amp;rtc_proc_fops, rtc);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸»è¦æ˜¯å®Œæˆåˆ›å»ºæ–‡ä»¶èŠ‚ç‚¹ï¼Œå¹¶å°†æ–‡ä»¶çš„æ“ä½œå‡½æ•°ä¸èŠ‚ç‚¹è”ç³»èµ·æ¥ã€‚è°ƒç”¨è¿™ä¸ªå‡½æ•°åï¼Œåœ¨/proc/driverç›®å½•ä¸‹å°±ä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶rtc</p>
</li>
</ul>
<h3 id="rtcè®¾å¤‡è®¿é—®"><a href="#rtcè®¾å¤‡è®¿é—®" class="headerlink" title="rtcè®¾å¤‡è®¿é—®"></a>rtcè®¾å¤‡è®¿é—®</h3><ul>
<li>rtcå­ç³»ç»Ÿæœ€å¤šå¯ä»¥æ”¯æŒ16ä¸ªrtcè®¾å¤‡ï¼Œå¤šä¸ªrtcè®¾å¤‡ä¼šåœ¨/dev/å’Œ /sys/class/rtc/ä¸‹ç”Ÿæˆrtc0ã€rtc1â€¦ç­‰ä¸åŒèŠ‚ç‚¹(ä¸‹æ–‡ä»¥rtcnä»£ç§°)ã€‚è€Œç³»ç»Ÿå¯åŠ¨æ—¶ä¼šé€‰æ‹©ä¸€ä¸ªrtcè®¾å¤‡è¯»å–è®¡æ—¶ï¼Œåœ¨/devä¸‹æœ‰rtcæ–‡ä»¶ï¼Œrtcæ–‡ä»¶æŒ‡å‘ç³»ç»Ÿé€‰æ‹©çš„rtcè®¾å¤‡å¯¹åº”çš„rtcnï¼ˆä¸€èˆ¬ä¸ºrtc0ï¼‰ã€‚</li>
<li>ç”¨æˆ·å±‚è®¿é—®rtcè®¾å¤‡æœ‰3ç§é€”å¾„ï¼š<ul>
<li>/dev/rtcn openç­‰å­—ç¬¦è®¾å¤‡æ“ä½œå’Œioctlå‘½ä»¤ã€‚</li>
<li>/sys/class/rtc/rtcn   sysfs å±æ€§ï¼Œä¸€äº›å±æ€§æ˜¯åªè¯»ã€‚</li>
<li>/proc/driver/rtc ç¬¬ä¸€ä¸ªrtcä¼šå ç”¨procfsæ¥å£ï¼Œåœ¨procfsä¸‹æš´éœ²æ›´å¤šä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>
<h4 id="dev"><a href="#dev" class="headerlink" title="/dev"></a>/dev</h4><ul>
<li>åœ¨/devä¸‹ç”¨æˆ·å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è®¿é—®rtcè®¾å¤‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯é€šè¿‡å­—ç¬¦è®¾å¤‡å®šä¹‰çš„openã€readç­‰å‡½æ•°ï¼ˆéœ€è¦é©±åŠ¨ç¨‹åºå®ç°ï¼‰ã€å¦ä¸€ä¸ªæ˜¯é€šè¿‡å®šä¹‰çš„ioctlå‘½ä»¤ã€‚ç¬¬ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥æ‰“å¼€rtc-dev.cå®šä¹‰çš„openç­‰å‡½æ•°ï¼Œåœ¨openç­‰ä¸­ç›´æ¥è°ƒç”¨é©±åŠ¨ç¨‹åºå®ç°çš„å‡½æ•°ã€‚é€šè¿‡ioctlå‘½ä»¤è®¿é—®åˆ™æ˜¯å°†æ“ä½œè½¬å‘åˆ°äº†interface.cå®šä¹‰çš„æ¥å£ï¼Œé—´æ¥è°ƒç”¨é©±åŠ¨ç¨‹åºå®ç°çš„å‡½æ•°ã€‚</li>
<li><p>ioctl()å‡½æ•°è®¿é—®/devä¸‹çš„è®¾å¤‡ã€‚ä»¥ä¸‹æ˜¯å…¸å‹å‡½æ•°ï¼š_</p>
<ul>
<li><p>ioctl(fd,RTC_ALM_SET, &amp;rtc_tm);<br>è®¾ç½®alarmä¸­æ–­çš„è§¦å‘æ—¶åˆ»ï¼Œä¸è¶…è¿‡24å°æ—¶ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºstructrtc_timeç»“æ„ä½“ï¼Œè¯»å–æ—¶ä¼šå¿½ç•¥å¹´æœˆæ—¥ä¿¡æ¯ã€‚alarmä¸­æ–­ä¸wakeupalarmä¸­æ–­åªèƒ½åŒæ—¶ä½¿ç”¨1ä¸ªï¼Œä»¥æœ€åä¸€æ¬¡è®¾å®šä¸ºå‡†ã€‚</p>
<ul>
<li>ioctl(fd,RTC_ALM_READ, &amp;rtc_tm)<br>è¯»å–alarmä¸­æ–­çš„è§¦å‘æ—¶åˆ»ã€‚</li>
</ul>
</li>
<li><p>ioctl(fd,RTC_WKALM_SET, &amp;alarm);<br>è®¾ç½®wakeupalarmä¸­æ–­çš„è§¦å‘æ—¶åˆ»ï¼Œ wakeupalarmä¸­æ–­çš„è§¦å‘æ—¶åˆ»å¯ä»¥åœ¨æœªæ¥çš„ä»»æ„æ—¶åˆ»ã€‚alarmä¸­æ–­ä¸wakeupalarmä¸­æ–­åªèƒ½åŒæ—¶ä½¿ç”¨1ä¸ªï¼Œä»¥æœ€åä¸€æ¬¡è®¾å®šä¸ºå‡†ã€‚</p>
</li>
<li><p>ioctl(fd,RTC_WKALM_RD, &amp;alarm);<br>è¯»å–wakeupalarmä¸­æ–­çš„è§¦å‘æ—¶åˆ»ã€‚</p>
</li>
<li><p>ioctl(fd,RTC_IRQP_SET, tmp);<br>è®¾ç½®å‘¨æœŸä¸­æ–­çš„é¢‘ç‡ï¼Œtmpçš„å€¼å¿…é¡»æ˜¯2çš„å¹‚ï¼ŒéRootç”¨æˆ·æ— æ³•ä½¿ç”¨64HZä»¥ä¸Šçš„å‘¨æœŸä¸­æ–­ã€‚</p>
</li>
<li><p>ioctl(fd,RTC_IRQP_READ, &amp;tmp);<br>è¯»å–å‘¨æœŸä¸­æ–­çš„é¢‘ç‡ã€‚</p>
</li>
<li><p>ioctl(fd,RTC_SET_TIME, &amp;rtc_tm)<br>æ›´æ–°RTCèŠ¯ç‰‡çš„å½“å‰æ—¶é—´ã€‚</p>
</li>
<li><p>ioctl(fd,RTC_RD_TIME, &amp;rtc_tm);<br>è¯»å–RTCç¡¬ä»¶ä¸­çš„å½“å‰æ—¶é—´ã€‚</p>
</li>
</ul>
</li>
<li><p>ä»¥openæ“ä½œä¸ºä¾‹ï¼Œåœ¨ç”¨æˆ·å±‚å¯¹/devä¸‹è®¾å¤‡æ‰§è¡Œopenä¼šè¢«è½¬å‘è‡³<code>rtc_dev_open(struct inode *inode, struct file *file)</code>å‡½æ•°ï¼Œé€šè¿‡err<code>= ops-&gt;open ? ops-&gt;open(rtc-&gt;dev.parent) : 0;</code>åˆ¤æ–­é©±åŠ¨ç¨‹åºæ˜¯å¦é€šè¿‡è¿æ¥çš„rtc_class_opsç»“æ„ä½“å®ç°äº†openå‡½æ•°ï¼Œé©±åŠ¨ç¨‹åºå®ç°äº†openå‡½æ•°ï¼Œåˆ™å°†openæ“ä½œè½¬å‘è‡³é©±åŠ¨ç¨‹åºã€‚</p>
</li>
</ul>
<h4 id="sys"><a href="#sys" class="headerlink" title="/sys"></a>/sys</h4><ul>
<li>/sys/class/rtc/rtcnä¸‹é¢çš„sysfsæ¥å£æä¾›äº†æ“ä½œrtcå±æ€§çš„æ–¹æ³•ï¼Œæ‰€æœ‰çš„æ—¥æœŸæ—¶é—´éƒ½æ˜¯å¢™ä¸Šæ—¶é—´ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿæ—¶é—´ã€‚<ul>
<li>date:    RTCæä¾›çš„æ—¥æœŸ</li>
<li>hctosys:    å¦‚æœåœ¨å†…æ ¸é…ç½®é€‰é¡¹ä¸­é…ç½®äº†CONFIG_RTC_HCTOSYSï¼ŒRTCä¼šåœ¨ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™æä¾›ç³»ç»Ÿæ—¶é—´ï¼Œè¿™ç§æƒ…å†µä¸‹è¿™ä¸ªä½å°±æ˜¯1,å¦åˆ™ä¸º0</li>
<li>max_user_freq:    éç‰¹æƒç”¨æˆ·å¯ä»¥ä»RTCå¾—åˆ°çš„æœ€å¤§ä¸­æ–­é¢‘</li>
<li>name:     RTCçš„åå­—ï¼Œä¸sysfsç›®å½•ç›¸å…³</li>
<li>since_epoch:    ä»çºªå…ƒå¼€å§‹æ‰€ç»å†çš„ç§’æ•°</li>
<li>time:    RTCæä¾›çš„æ—¶é—´</li>
<li>wakealarm:    å”¤é†’æ—¶é—´çš„æ—¶é—´äº‹ä»¶ã€‚ è¿™æ˜¯ä¸€ç§å•æ¬¡çš„å”¤é†’äº‹ä»¶ï¼Œæ‰€ä»¥å¦‚æœè¿˜éœ€è¦å”¤é†’ï¼Œåœ¨å”¤é†’å‘ç”Ÿåå¿…é¡»å¤ä½ã€‚è¿™ä¸ªåŸŸçš„æ•°æ®ç»“æ„æˆ–è€…æ˜¯ä»çºªå…ƒå¼€å§‹ç»å†çš„å¦™æ•°ï¼Œæˆ–è€…æ˜¯ç›¸å¯¹çš„ç§’æ•°</li>
</ul>
</li>
</ul>
<h4 id="proc"><a href="#proc" class="headerlink" title="/proc"></a>/proc</h4><ul>
<li>/proc/driver/rtcä¸‹åªå¯¹åº”ç¬¬ä¸€ä¸ªrtcè®¾å¤‡ï¼Œä¸sysfsä¸‹ç›¸æ¯”ï¼Œè¯¥è®¾å¤‡æš´éœ²æ›´å¤šä¿¡æ¯</li>
<li>å¯¹åº”æˆªå›¾<br><img src="https://my.mixtape.moe/qbuavl.jpg" alt=""></li>
</ul>
<h3 id="RTCå­ç³»ç»Ÿæµ‹è¯•"><a href="#RTCå­ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="RTCå­ç³»ç»Ÿæµ‹è¯•"></a>RTCå­ç³»ç»Ÿæµ‹è¯•</h3><p><strong>Hwclockå‘½ä»¤æˆ–ä½¿ç”¨æµ‹è¯•æ–‡ä»¶ã€‚</strong></p>
<ul>
<li>Hwclockå‘½ä»¤å¯ä»¥æ‰§è¡Œæœ€ç®€å•çš„RTCæµ‹è¯•ã€‚å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹å¦‚ä¸‹<ul>
<li>hwclock #æŸ¥çœ‹RTCæ—¶é—´</li>
<li>hwclock -set -date=â€07/07/17 10:10â€ #è®¾ç½®ç¡¬ä»¶RTCæ—¶é—´ï¼ˆæœˆ/æ—¥/å¹´ æ—¶:åˆ†:ç§’ï¼‰</li>
<li>hwclock -w #ç³»ç»Ÿæ—¶é—´åŒæ­¥è‡³RTC</li>
<li>hwclock -s #åŒæ­¥RTCåˆ°ç³»ç»Ÿæ—¶é—´</li>
</ul>
</li>
<li>Linuxå†…æ ¸æä¾›äº†RTCå­ç³»ç»Ÿçš„æµ‹è¯•ç¤ºä¾‹æ–‡ä»¶ï¼Œä½äºtools/testing/selftests/timers/rtctest.cï¼ŒåŒ…å«äº†åŸºäºioctlå‘½ä»¤çš„å®Œæ•´æµ‹è¯•ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;æ­£å¼å¼€å§‹è®©äººå´©æºƒçš„linuxç³»åˆ—ï¼Œå¸Œæœ›è‡ªå·±èƒ½å†™å®Œã€‚&lt;br&gt;å…ˆæ‹¿rtcå¼€åˆ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¿™é‡Œæˆ‘å°½å¯èƒ½è®°å½•ä¸‹æ€ç»´çš„ç»†èŠ‚ï¼Œè€Œä¸æ˜¯ä»…å±€é™äºä»£ç ï¼Œå¸Œæœ›è‡ªå·±èƒ½é¢†ä¼šLinuxå†…æ ¸å¼€å‘è€…çš„æƒ³æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å†…æ ¸ç‰ˆæœ¬ï¼šlinux4.1&lt;/p&gt;
    
    </summary>
    
      <category term="Linuxç¬”è®°" scheme="http://yoursite.com/categories/Linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="rtc" scheme="http://yoursite.com/tags/rtc/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¬”è®°â€”â€”æ—¶é—´å­ç³»ç»Ÿï¼ˆä¸€ï¼‰</title>
    <link href="http://yoursite.com/2017/08/15/linux%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E6%97%B6%E9%97%B4%E5%AD%90%E7%B3%BB%E7%BB%9F%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://yoursite.com/2017/08/15/linuxç¬”è®°â€”â€”æ—¶é—´å­ç³»ç»Ÿï¼ˆä¸€ï¼‰/</id>
    <published>2017-08-15T09:52:16.000Z</published>
    <updated>2017-09-10T01:36:52.141Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>ss</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;ss&lt;/li&gt;
&lt;/ul&gt;

    
    </summary>
    
      <category term="Linuxç¬”è®°" scheme="http://yoursite.com/categories/Linux%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å­¦ä¹ è®°å½•" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="timer" scheme="http://yoursite.com/tags/timer/"/>
    
  </entry>
  
</feed>

<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[AndroidÈöèÊâãËÆ∞‚ÄîGlideÂä†ËΩΩDrawableÂØπË±°]]></title>
    <url>%2F2017%2F11%2F04%2FAndroid%E9%9A%8F%E6%89%8B%E8%AE%B0-Glide%E5%8A%A0%E8%BD%BDDrawable%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[ÁºñÁ®ãÁéØÂ¢É Android Studio 3.0 ÈóÆÈ¢ò GlideÊòØ‰∏Ä‰∏™ÈÄöÁî®ÁöÑÂõæÁâáÁºìÂ≠òÊ°ÜÊû∂,‰ΩÜÊòØÂú®MyPrivacyÊòæÁ§∫appIconÊó∂,‰º†ÂÖ• ‰∏Ä‰∏™DrawableÂØπË±°,ÊèêÁ§∫Á±ªÂûã‰∏çÂåπÈÖç. (Ê≥®ÊÑè: ËøôÈáåÊòØÁõ¥Êé•‰º†ÂÖ•DrawableÂØπË±°,‰∏çÊòØÁªèËøá R.xx ÂºïÁî® !) ËøáÁ®ã Êü•ÈòÖËµÑÊñôÂêé,Á°ÆËÆ§Glide‰∏çÊîØÊåÅÁõ¥Êé•Âä†ËΩΩ‰º†ÂÖ•ÁöÑDrawableÂØπË±°,ËΩ¨Êç¢‰∏∫bitDrawableÁ±ªÂûã‰πü‰∏çÂèØ. Ëß£ÂÜ≥ÊÄùË∑ØÊù•Ëá™ https://github.com/bumptech/glide/issues/588 ‰∏çÊîØÊåÅÁõ¥Êé•Âä†ËΩΩ,‰ΩÜGlideÁöÑ.error(Icon)ÈîôËØØÊó∂ÊòæÁ§∫ .placeholder(Icon)Âç†‰ΩçÁ¨¶,ÊîØÊåÅDrawableÂØπË±° Ëß£ÂÜ≥ ‰∏çÂÜçÁõ¥Êé•Âä†ËΩΩ .load ‰º†ÂÖ•Á©∫Â≠óÁ¨¶‰∏≤, ÈÄöËøá .placeholder ÁÆÄÊ¥ÅÂä†ËΩΩ. demo 12345678910Drawable Icon Ôºù ÔΩòÔΩòÔΩòÔºõRequestOptions options = new RequestOptions() .error(Icon) .placeholder(Icon); Glide.with(context) .load(&quot;&quot;) .apply(options) .into(imageView); Â§áÊ≥® placeholder Âú®Glide 4.xÁâàÊú¨‰∏≠,ÁßªÂÖ•‰∫Ü RequestOptions ÂØπË±°‰∏≠.]]></content>
      <categories>
        <category>AndroidÈöèÊâãËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÁ¨îËÆ∞‚ÄîqemuËøêË°ålinux]]></title>
    <url>%2F2017%2F09%2F10%2Flinux%E7%AC%94%E8%AE%B0%E2%80%94qemu%E8%BF%90%E8%A1%8Clinux%2F</url>
    <content type="text"><![CDATA[ubuntu16.04 ‰ΩøÁî®busyboxÁºñËØëÊúÄÂ∞èÊñá‰ª∂Á≥ªÁªüÔºå‰ΩøÁî®qemuËøêË°åËµ∑Êù•„ÄÇ ÂÜÖÂÆπÊù•Ëá™ Â•îË∑ëÂêßlinuxÂÜÖÊ†∏Á¨¨6Á´† ËøôÈáåÂ∞ÜËæìÂÖ•‰ª£Á†ÅËøáÁ®ãÈõÜÂêàÂà∞‰∫ÜÂá†‰∏™.shÊñá‰ª∂,‰∏çÂÅöÈáçÂ§çÁöÑÂ∑•‰Ωú ! ÂΩìÁÑ∂ÁΩëÂ•ΩÊòØÂâçÊèê,ÊúÄÂ•ΩÊåÇ‰ª£ÁêÜ. ÂÆâË£ÖÂ∑•ÂÖ∑ È¶ñÂÖàÈúÄË¶ÅÂÆâË£Öqemu gcc, ubuntu16.04‰∏≠Ëá™Â∏¶ÁöÑgccÁâàÊú¨ËæÉ‰Ωé,ËøôÈáåÊàë‰ª¨ÂÆâË£Ö‰π¶‰∏≠Êé®ËçêÁöÑgcc-arm-linux-gnueabi 1sudo apt-get install qemu libncurses5-dev gcc-arm-linux-gnueabi build-essential ‰∏ãËΩΩbusyboxÊ∫êÁ†Å ‰π¶‰∏≠Êé®ËçêÁâàÊú¨ÊòØ1.24,‰ΩÜÊúÄÊñ∞ÁâàÊú¨Â∑≤ÁªèÂà∞‰∫Übusybox-1.27.2.ËøôÈáåÊàë‰ª¨‰ΩøÁî®ÊúÄÊñ∞Áâà1wget https://busybox.net/downloads/busybox-1.27.2.tar.bz2 Ëß£ÂéãÂà∞ busybox Êñá‰ª∂Â§π1tar -jxvf busybox-1.27.2.tar.bz2 ‰∏ãËΩΩlinuxÂÜÖÊ†∏Ê∫êÁ†Å ËøòÊòØ‰ª•ÈÖçÂ•óÁöÑ4.0Ê∫êÁ†Å‰∏∫‰æã,(ÊèêÈÜí:ÂÜÖÊ†∏Ëß£ÂéãÂêéÂ§ßÁ∫¶Âç†800MB,ËØ∑È¢ÑÁïôÂá∫Ë∂≥Â§üÁ©∫Èó¥)1wget https://www.kernel.org/pub/linux/kernel/v4.x/linux-4.0.tar.gz Ëß£ÂéãÂà∞linuxÊñá‰ª∂Â§π1tar -jxvf linux-4.0.tar.gz ÁºñËØëÊúÄÂ∞èÊñá‰ª∂Á≥ªÁªü* Âà´ÈóÆÊàëÊúÄÂ∞èÊñá‰ª∂Á≥ªÁªüÊòØ‰ªÄ‰πà,Êàë‰πüÊúâÁÇπüòµ,‰ΩÜÊòØÂÖàÁî®Ëµ∑Êù•. È¶ñÂÖàÂà©Áî® busybox ÊâãÂ∑•ÁºñËØë‰∏Ä‰∏™ÊúÄÂ∞èÊñá‰ª∂Á≥ªÁªü„ÄÇÂú®busyboxÊñá‰ª∂Â§π‰∏ã 1234export ARCH=ARMexport CROSS_COMPILE=arm-linux-gnueabi-make menuconfigmake install ËøõÂÖ•menuconfigÂêé,ÈÖçÁΩÆÈùôÊÄÅÁºñËØë 123Busybox Settings ---&gt;Build Options ---&gt;[*] Build BusyBox as a static binary (no shared libs) ÁÑ∂Âêé make install ÁºñËØëÂÆåÊàê„ÄÇÁºñËØëÂÆåÊàêÂêé,Êää busybox Ê†πÁõÆÂΩï‰∏ãÈù¢ÁöÑ_install ÁõÆÂΩïÊã∑Ë¥ùÂà∞ linux-4.0 ‰∏ã„ÄÇ ËøõÂÖ•_install ÁõÆÂΩïÔºåÂàõÂª∫ etc„ÄÅdev Á≠âÁõÆÂΩï„ÄÇ 1234mkdir etcmkdir devmkdir mntmkdir -p etc/init.d/ Âú®_install /etc/init.d/ÁõÆÂΩï‰∏ãÂàõÂª∫ Êñá‰ª∂ÂêçrcS ÁöÑÊñá‰ª∂ÔºåÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπÔºö 123456789mkdir ‚Äìp /procmkdir ‚Äìp /tmpmkdir -p /sysmkdir ‚Äìp /mnt/bin/mount -amkdir -p /dev/ptsmount -t devpts devpts /dev/ptsecho /sbin/mdev &gt; /proc/sys/kernel/hotplugmdev ‚Äìs ÂêåÊó∂‰ΩøÁî® chmod +x rcS‰øÆÊîπrcSÁöÑÂèØÊâßË°åÊùÉÈôê. Âú®_install /etc ÁõÆÂΩïÂàõÂª∫Êñá‰ª∂Âêç fstab ÁöÑÊñá‰ª∂ÔºåÂπ∂ÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπ„ÄÇ 12345proc /proc proc defaults 0 0tmpfs /tmp tmpfs defaults 0 0sysfs /sys sysfs defaults 0 0tmpfs /dev tmpfs defaults 0 0debugfs /sys/kernel/debug debugfs defaults 0 0 Âú®_install /etc ÁõÆÂΩïÂàõÂª∫Êñá‰ª∂Âêç inittab ÁöÑÊñá‰ª∂ÔºåÂπ∂ÂÜôÂÖ•Â¶Ç‰∏ãÂÜÖÂÆπ„ÄÇ 1234::sysinit:/etc/init.d/rcS::respawn:-/bin/sh::askfirst:-/bin/sh::ctrlaltdel:/bin/umount -a ‚Äìr Âú®_install/dev ÁõÆÂΩï‰∏ãÂàõÂª∫Â¶Ç‰∏ãËÆæÂ§áËäÇÁÇπÔºå‰ª•rootÊùÉÈôêÊâßË°å 123cd _install/dev/sudo mknod console c 5 1sudo mknod null c 1 3 .sh(ÈÖçÂêàchmod +x‰ΩøÁî®) build.sh: ÁºñËØëbusybox 1234export ARCH=ARMexport CROSS_COMPILE=arm-linux-gnueabi-make menuconfigmake install creat.sh: _installÊñá‰ª∂Â§π‰∏ãÂ§ÑÁêÜ 123456789101112131415161718192021222324252627282930313233343536rm -rf etc rm -rf dev rm -rf mnt mkdir etcmkdir devmkdir mntmkdir -p etc/init.d/echo &quot;mkdir -p /procmkdir -p /tmpmkdir -p /sysmkdir -p /mnt/bin/mount -amkdir -p /dev/ptsmount -t devpts devpts /dev/ptsecho /sbin/mdev &gt; /proc/sys/kernel/hotplugmdev -s&quot; &gt; etc/init.d/rcSchmod +x etc/init.d/rcSecho &quot;proc /proc proc defaults 0 0tmpfs /tmp tmpfs defaults 0 0sysfs /sys sysfs defaults 0 0tmpfs /dev tmpfs defaults 0 0debugfs /sys/kernel/debug debugfs defaults 0 0&quot; &gt; etc/fstabecho &quot;::sysinit:/etc/init.d/rcS::respawn:-/bin/sh::askfirst:-/bin/sh::ctrlaltdel:/bin/umount -a -r&quot; &gt; etc/inittabcd dev/sudo mknod console c 5 1sudo mknod null c 1 3 ÁºñËØëÂÜÖÊ†∏ ÁºñËØëÂÜÖÊ†∏ 12345cd linux-4.0export ARCH=armexport CROSS_COMPILE=arm-linux-gnueabi-make vexpress_defconfigmake menuconfig ÈÖçÁΩÆ initramfsÔºåÂú® initramfs source file ‰∏≠Â°´ÂÖ•_install„ÄÇÂè¶Â§ñÈúÄË¶ÅÊää Default kernel command string Ê∏ÖÁ©∫„ÄÇ 12345General setup ---&gt;[*] Initial RAM filesystem and RAM disk (initramfs/initrd) support(_install) Initramfs source file(s)Boot options --&gt;()Default kernel command string ÈÖçÁΩÆ memory split ‰∏∫‚Äú3G/1G user/kernel split‚Äù‰ª•ÂèäÊâìÂºÄÈ´òÁ´ØÂÜÖÂ≠ò„ÄÇ 123Kernel Features ---&gt;Memory split (3G/1G user/kernel split) ---&gt;[ *] High Memory Support ÂºÄÂßãÁºñËØë kernel 12make bzImage -j4 ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-make dtbs ËøêË°å QEMU Êù•Ê®°Êãü 4 Ê†∏ Cortex-A9 ÁöÑ Versatile Express ÂºÄÂèëÂπ≥Âè∞„ÄÇ 1qemu-system-arm -M vexpress-a9 -smp 4 -m 1024M -kernel arch/arm/boot/zImage -append &quot;rdinit=/linuxrc console=ttyAMA0 loglevel=8&quot; -dtb arch/arm/boot/dts/vexpress-v2p-ca9.dtb -nographic .sh(ÈÖçÂêàchmod +x) build.sh : ÁºñËØëÂÜÖÊ†∏ 123456export ARCH=armexport CROSS_COMPILE=arm-linux-gnueabi-make vexpress_defconfigmake menuconfigmake bzImage -j4 ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-make dtbs run.sh : ËøêË°åarmÂÜÖÊ†∏ 1qemu-system-arm -M vexpress-a9 -smp 4 -m 1024M -kernel arch/arm/boot/zImage -append &quot;rdinit=/linuxrc console=ttyAMA0 loglevel=8&quot; -dtb arch/arm/boot/dts/vexpress-v2p-ca9.dtb -nographicyun]]></content>
      <categories>
        <category>LinuxÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>Linux</tag>
        <tag>qemu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÁ¨îËÆ∞‚Äî‚ÄîÁúãÈó®ÁãóÂÜÖÊ†∏APIÊñáÊ°£ÁøªËØë]]></title>
    <url>%2F2017%2F08%2F23%2Flinux%E7%AC%94%E8%AE%B0%E2%80%94%E7%9C%8B%E9%97%A8%E7%8B%97%E5%86%85%E6%A0%B8API%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91%2F</url>
    <content type="text"><![CDATA[wdtÁ¨¨‰∫åÂºπÔºåÂÜÖÊ†∏APIÔºåÂãâÂº∫ÁøªËØë‰∏ãÊù•‰∫ÜÔºåËøòÈúÄË¶ÅËøõ‰∏ÄÊ≠•Êï¥ÁêÜ ÁúãÈó®ÁãóÂÆöÊó∂Âô®È©±Âä®ÂÜÖÊ†∏API ÊúÄÂêéÊõ¥Êñ∞Êó∂Èó¥ 2013.2.12 Wim Van Sebroeck &#119;&#105;&#109;&#x40;&#105;&#103;&#x75;&#x61;&#x6e;&#x61;&#x2e;&#x62;&#x65; ‰ªãÁªç Êú¨ÊñáÊ°£Ê≤°ÊúâÊèèËø∞ÁúãÈó®ÁãóËÆæÂ§áÊàñÈ©±Âä®„ÄÇ‰πü‰∏çÊ∂âÂèäÈÇ£‰∫õÂú®Áî®Êà∑Á©∫Èó¥Ë∞ÉÁî®ÁöÑAPIÔºåÂØπÂ∫îÂú® Documentation/watchdog/watchdog-api.txt Ôºà‰πüÂ∞±ÊòØ‰∏ä‰∏ÄÁØáÔºâ Êú¨ÊñáÊ°£ÊèèËø∞ÁöÑÊòØÔºåÂà©Áî®ÁúãÈó®ÁãóÂ≠êÁ≥ªÁªüÊ°ÜÊû∂ÊñπÂºèËøõË°åÁúãÈó®ÁãóÈ©±Âä®ÁºñÂÜôÊó∂ÊâÄ‰ΩøÁî®Âà∞ÁöÑAPI„ÄÇÁúãÈó®ÁãóÂ≠êÁ≥ªÁªüÊ°ÜÊû∂Êèê‰æõ‰∫ÜÊâÄÊúâ‰∏éÁî®Êà∑Á©∫Èó¥‰∫§‰∫íÁöÑÊé•Âè£Ôºå‰∏çÈúÄË¶ÅÊØèÊ¨°ÁºñÂÜôÈáçÂ§çÁöÑ‰ª£Á†Å„ÄÇËøôÊÑèÂë≥ËøôÈ©±Âä®Á®ãÂ∫èÂè™ÈúÄË¶ÅÊèê‰æõÂá†‰∏™‰∏çÂêåÁöÑÊìç‰ΩúÂáΩÊï∞ÔºåÂ∞±ÂèØ‰ª•ÊéßÂà∂WDT‰∫Ü„ÄÇ API ÊØè‰∏Ä‰∏™ÊÉ≥Ë¶Å‰ΩøÁî®ÁúãÈó®ÁãóÊ†∏ÂøÉÂ≠êÁ≥ªÁªüÁöÑÈ©±Âä®Á®ãÂ∫èÈÉΩÂøÖÈ°ªÂåÖÂê´#include&lt;linux/watchdog.h&gt;(ÁºñÂÜôÈ©±Âä®Á®ãÂ∫èÊòØ‰∏çÂæó‰∏çÂÅöÁöÑÂ∑•‰Ωú)„ÄÇlinux/watchdog.hÂåÖÂê´‰ª•‰∏ã‰∏§‰∏™Ê≥®ÂÜå/Âç∏ËΩΩÂáΩÊï∞Ôºö 12extern int watchdog_register_device(struct watchdog_device *);extern void watchdog_unregister_device(struct watchdog_device *); Ê≥®ÂÜåÂáΩÊï∞Â∞ÜwdtËÆæÂ§áÊ≥®ÂÜåËøõwdtÂ≠êÁ≥ªÁªüÔºåÂáΩÊï∞ÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÊåáÂêëstruct watchdogdeviceÁöÑÁªìÊûÑ‰Ωì„ÄÇÂΩìÊ≥®ÂÜåÊàêÂäüÊó∂ËøîÂõû0.Ê≥®ÂÜåÂ§±Ë¥•ËøîÂõû‰∏Ä‰∏™Ë¥üÂÄº„ÄÇ Âç∏ËΩΩÂáΩÊï∞ÊòØÂ∞ÜwdtËÆæÂ§á‰ªéwdtÂ≠êÁ≥ªÁªüÂç∏ËΩΩÔºåÂáΩÊï∞ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÊåáÂêëstruct watchdogdeviceÁöÑÁªìÊûÑ‰Ωì ÁúãÈó®Â≠êÁ≥ªÁªüÂåÖÂê´‰∫ÜÊ≥®ÂÜåÊó∂Èó¥Ë∞ÉÊï¥Êú∫Âà∂ÔºàÂéüÊñáÊòØ an registration deferral mechanism ‰∏ÄÁßçÂª∂ÊúüÊú∫Âà∂Ôºü‰∏ä‰∏ãÊñá‰∏çÂ§™ÂØπÂïäÔºâÔºåÂÖÅËÆ∏Âú®ÂºÄÊú∫Èò∂ÊÆµÔºå‰Ω†ÂèØ‰ª•ÊåâÁÖß‰Ω†ËÆæÂÆöÁöÑÂ∞ΩÂèØÊó©ÁöÑÊ≥®ÂÜå‰∏Ä‰∏™ÁúãÈó®ÁãóËÆæÂ§á„ÄÇ struct watchdogdevice ËøôÈáåÁ≤òË¥¥ÁöÑÊòØlinux4.1ÈáåÂÆö‰πâÁöÑwatchdog_deviceÔºåÂéüÊñáÁöÑwatchdog_deviceÊõ¥Èïø‰ΩÜË∑üÊ∫êÁ†ÅÂØπ‰∏çËµ∑Êù•ÔºåÊâÄ‰ª•ËøôÈáåÂ∞±‰ª•ÂÜÖÊ†∏4.1ÈáåÂÆö‰πâÁöÑ‰∏∫ÂáÜ‰∫ÜüòëÔºö123456789101112131415161718192021 struct watchdog_device &#123;int id;struct cdev cdev;struct device *dev;struct device *parent;const struct watchdog_info *info;const struct watchdog_ops *ops;unsigned int bootstatus;unsigned int timeout;unsigned int min_timeout;unsigned int max_timeout;void *driver_data;struct mutex lock;unsigned long status;/* Bit numbers for status flags */#define WDOG_ACTIVE 0 /* Is the watchdog running/active */#define WDOG_DEV_OPEN 1 /* Opened via /dev/watchdog ? */#define WDOG_ALLOW_RELEASE 2 /* Did we receive the magic char ? */#define WDOG_NO_WAY_OUT 3 /* Is &apos;nowayout&apos; feature set ? */#define WDOG_UNREGISTERED 4 /* Has the device been unregistered */&#125;; ÂåÖÂê´‰ª•‰∏ãÂ≠óÊÆµÔºö idÔºöÁî±watchdog_register_deviceÂáΩÊï∞Ê≥®ÂÜå„ÄÇid 0ÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÔºåid 0 Êúâ/dev/watchdog0 cdevÔºàÂä®ÊÄÅ‰∏ªËÆæÂ§áÂè∑ÔºåÊ¨°ËÆæÂ§áÂè∑0Ôºâ Âíå /dev/watchdog miscdev„ÄÇid Âú®Ë∞ÉÁî®Âà∞watchdog_register_deviceÊó∂Ëá™Âä®Ê≥®ÂÜå„ÄÇ NOTEÁúãÊ∫êÁ†ÅÔºåwdtÂ≠êÁ≥ªÁªüÊòØÂü∫‰∫émiscÂ≠êÁ≥ªÁªüÁöÑÔºåÊ≥®ÂÜåwdtËÆæÂ§áË∞ÉÁî®ÁöÑÊòØmisc_register(&amp;watchdog_miscdev);ËÄåmiscËÆæÂ§á‰∏ªËÆæÂ§áÂè∑Âè™ËÉΩ‰∏∫10,ËøôÈáåÁªìËÆ∫ÊúâÂÜ≤Á™ÅÔºåÁ≠âÂæÖËß£ÂÜ≥‰∏≠„ÄÇ„ÄÇ„ÄÇ parentÔºöÂú®Ë∞ÉÁî®watchdog_register_deviceÂáΩÊï∞ÂâçÔºåËÆæÁΩÆÁà∂ËÆæÂ§áÔºàÊàñËÄÖËÆæÁΩÆ‰∏∫nullÔºâ infoÔºöÊåáÂêëwatchdog_infoÁªìÊûÑ‰ΩìÁöÑÊåáÈíàÔºåwatchdog_infoÊèê‰æõ‰∫ÜÁúãÈó®ÁãóÊú¨Ë∫´ÁöÑ‰∏Ä‰∫õÈôÑÂä†‰ø°ÊÅØÔºàÂÉèÊòØÁúãÈó®ÁãóÁã¨ÊúâÁöÑÂêçÁß∞‰πãÁ±ªÁöÑÔºâ opsÔºöÊåáÂêëwatchdog_opsÁªìÊûÑ‰ΩìÁöÑÊåáÈíàÔºåwatchdog_opsÊòØÁúãÈó®ÁãóÊîØÊåÅÊìç‰Ωú(ÂáΩÊï∞)ÁöÑÈõÜÂêà„ÄÇ bootstatus:ÂêØÂä®ÂêéËÆæÂ§áÁä∂ÊÄÅ(‰∏éÁúãÈó®ÁãóWDIOF* Ê†áÂøó‰Ωç‰∏ÄÂêåÂºÄÂêØ) timeout:ÁúãÈó®ÁãóË∂ÖÊó∂ÁöÑÊó∂Èó¥(Áßí‰∏∫Âçï‰Ωç).Â¶ÇÊûúËÆæÁΩÆ‰∫ÜWDOGACTIVE ÂêØÁî®‰∫ÜÁúãÈó®Áãó,Âú®Ëøô‰∏™Êó∂Èó¥ÈïøÂ∫¶Âêé,Áî®Êà∑Á©∫Èó¥ËøòÊ≤°ÊúâÂèëÈÄÅÂøÉË∑≥ÂåÖ,ÁúãÈó®Áãó‰ºöÂ∞ÜÁ≥ªÁªüÂ§ç‰ΩçÈáçÂêØ. mintimeout:ÂèØËÆæÁΩÆÁöÑÁúãÈó®ÁãóÊúÄÂ∞èË∂ÖÊó∂Êó∂Èó¥ maxtimeout:ÂèØËÆæÁΩÆÁöÑÁúãÈó®ÁãóÊúÄÂ§ßË∂ÖÊó∂Êó∂Èó¥ driverdata:ÊåáÂêëÁúãÈó®ÁãóËÆæÂ§áÁßÅÊúâÊï∞ÊçÆÁöÑÊåáÈíà,Ëøô‰∏™dataÂè™ËÉΩÁî±watchdog_set_drvdata Âíå watchdog_get_drvdata routinesÂáΩÊï∞ËÆøÈóÆ. struct mutex lock; ÂéüÊñáÊ°£Ê≤°ÊúâüôÑ status:Ëøô‰∏™Â≠óÊÆµÂåÖÂê´‰∫ÜËÆ∏Â§öÁä∂ÊÄÅ‰Ωç,Êèê‰æõÊúâÂÖ≥ËÆæÂ§áÁöÑÈ¢ùÂ§ñ‰ø°ÊÅØ(‰æãÂ¶Ç:ÁúãÈó®ÁãóÁöÑÊ¥ªÂä®Áä∂ÊÄÅ\ÈôêÂà∂,Áé∞Âú®nowayout ‰ΩçËÆæÁΩÆ‰∏éÂê¶)(Êã¨Âè∑ÈáåÁøªËØëÊòØÂê¶ÂáÜÁ°ÆÂ≠òÁñë) struct watchdog_ops watchdogops 1234567891011121314 struct watchdog_ops &#123;struct module *owner;/* mandatory operations */int (*start)(struct watchdog_device *);int (*stop)(struct watchdog_device *);/* optional operations */int (*ping)(struct watchdog_device *);unsigned int (*status)(struct watchdog_device *);int (*set_timeout)(struct watchdog_device *, unsigned int);unsigned int (*get_timeleft)(struct watchdog_device *);void (*ref)(struct watchdog_device *);void (*unref)(struct watchdog_device *);long (*ioctl)(struct watchdog_device *, unsigned int, unsigned long);&#125;; ‰Ω†‰∏ÄÂºÄÂßãÂÆö‰πâÁöÑÁúãÈó®ÁãóÁöÑmodule ownerÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ,module owner Âú®‰ΩøÁî®ÁúãÈó®ÁãóÊó∂‰ºöÂêåÊó∂ÈîÅÂÆöÁúãÈó®ÁãóËÆæÂ§á.(ËøôÊ†∑ÈÅøÂÖç‰∫ÜÂú®Âç∏ËΩΩÊ®°ÂùóÊó∂/dev/watchdog‰æùÁÑ∂ÊòØÊâìÂºÄÁä∂ÊÄÅÂºïËµ∑ÁöÑÁ≥ªÁªüÂ¥©Ê∫É) Êüê‰∫õÂáΩÊï∞ÊòØÂøÖÈ°ªÂÆûÁé∞ÁöÑ,ÂÖ∂‰ªñÊòØÂèØÈÄâÁöÑ,ÂøÖÈ°ªÂÆûÁé∞ÁöÑÂáΩÊï∞Â¶Ç‰∏ã: start :ÊåáÂêëÁúãÈó®ÁãóËÆæÂ§áÂêØÂä®ÂáΩÊï∞ÁöÑÊåáÈíà.Ëøô‰∏™ÂáΩÊï∞ÂèÇÊï∞‰∏∫‰∏Ä‰∏™ struct watchdogdevice,ÊàêÂäüËøîÂõû0,Â§±Ë¥•ËøîÂõûË¥üÊï∞. stop :ÈÄöËøáËøô‰∏™ÂáΩÊï∞ÂÖ≥Èó≠ÁúãÈó®ÁãóËÆæÂ§á.Ëøô‰∏™ÂáΩÊï∞ÂèÇÊï∞‰∏∫‰∏Ä‰∏™ struct watchdogdevice,ÊàêÂäüËøîÂõû0,Â§±Ë¥•ËøîÂõûË¥üÊï∞. ‰∏Ä‰∫õÁ°¨‰ª∂ÁúãÈó®ÁãóËÆæÂ§áÂè™ËÉΩÂêØÂä®,Ê≤°ÊúâÂÖ≥Èó≠ÈÄâÈ°π.ÂØπÂ∫îËøô‰∫õËÆæÂ§áÁöÑÈ©±Âä®,‰∏çÁî®ÂÆûÁé∞ stop ,Â¶ÇÊûúÈ©±Âä®Á®ãÂ∫èÊ≤°ÊúâÂÖ≥Èó≠ËÆæÂ§áÂäüËÉΩ,ÁúãÈó®ÁãóÊ†∏ÂøÉÂ±Ç‰ºöÂú®ËÆæÂ§áÂÖ≥Èó≠ÂêéËÆæÁΩÆ WDOG_HW_RUNNING Âπ∂Ë∞ÉÁî®È©±Âä®Á®ãÂ∫èÁöÑ keepalive pingsÂäüËÉΩ. Â¶ÇÊûúÁúãÈó®ÁãóÈ©±Âä®Ê≤°ÊúâÂÆûÁé∞stop ÂøÖÈ°ªËÆæÁΩÆmax_hw_heartbeatms ‰∏çÊòØÊâÄÊúâÁöÑÁ°¨‰ª∂ÁúãÈó®ÁãóÈÉΩÊúâÁõ∏ÂêåÁöÑÂäüËÉΩ,ËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà‰ºöÊúâÂèØÈÄâÂáΩÊï∞‰∫Ü,Âè™Êúâ‰ΩÜËøôÈ°πÂäüËÉΩË¢´Á°¨‰ª∂ÁúãÈó®üê∂ÊîØÊåÅÊó∂,ÊâçÁºñÂÜôÂØπÂ∫îÂáΩÊï∞. ping:ËøôÊòØÁúãÈó®ÁãóÈ©±Âä®ÂÆûÁé∞ÁöÑÂñÇÁãóÂáΩÊï∞,Ëøô‰∏™ÂáΩÊï∞ÁöÑÂèÇÊï∞Êó∂‰∏Ä‰∏™ÊåáÂêëstruct watchdogdeviceÁöÑÊåáÈíà.ÂáΩÊï∞ÊâßË°åÊàêÂäüËøîÂõû0,Â§±Ë¥•ËøîÂõûË¥üÊï∞. Â§ßÂ§öÊï∞ÁöÑÁ°¨‰ª∂‰∏çÊîØÊåÅÁõ¥Êé•ÂñÇÁãóÁöÑÁâπÊÆäÂäüËÉΩ,‰∏ÄËà¨ÊòØÁõ¥Êé•ÈáçÂêØÁ°¨‰ª∂ÁúãÈó®Áãó. ÁúãÈó®ÁãóÂ≠êÁ≥ªÁªüÁöÑÊ†∏ÂøÉÂ±Ç‰πüÊòØËøôÊ†∑ÂÅöÁöÑ:‰ΩÜÂÆöÊúüÂñÇÁãóÁöÑÊìç‰ΩúËΩ¨ÂèëÂà∞Á°¨‰ª∂ÁúãÈó®ÁãóÊó∂,Ê†∏ÂøÉÂ±ÇÂú® ping ÂÆûÁé∞Êó∂Ë∞ÉÁî®ÂñÇÁãóÂáΩÊï∞,‰ΩÜÂñÇÁãóÂáΩÊï∞Ê≤°ÊúâÂÆûÁé∞Êó∂,‰ΩøÁî® start ÂØπÂ∫îÂáΩÊï∞ ( WDIOC_KEEPALIVEÂØπÂ∫îÁöÑ ioctlÂëΩ‰ª§Âè™ÊúâÂú®iÁúãÈó®ÁãóinfoÈáåÁöÑWDIOF_KEEPALIVEPINGË¢´ËÆæÁΩÆ‰∏∫1ÂêéÊâç‰ºöÁîüÊïà ) status: Ëøô‰∏™ÂáΩÊï∞Áî®Êù•Ê£ÄÊü•ÁúãÈó®ÁãóËÆæÂ§áÁöÑÁä∂ÊÄÅ,ÈÄöËøáÁúãÈó®ÁãóÁöÑWDIOF*Áä∂ÊÄÅÊ†áÂøó‰ΩçÊä•Âëä.WDIOF_MAGICCLOSE and WDIOF_KEEPALIVEPINGÁî±ÁúãÈó®ÁãóÊ†∏ÂøÉÂ±ÇÊä•Âëä.Ê≤°ÊúâÂøÖË¶ÅÂú®È©±Âä®Á®ãÂ∫è‰∏≠Êä•Âëä.Ê≠§Â§ñÂ¶ÇÊûúÈ©±Âä®Á®ãÂ∫èÊ≤°ÊúâÂÆûÁé∞ËØ•ÂáΩÊï∞,ÁúãÈó®ÁãóÊ†∏ÂøÉÂ±Ç‰ºöËøîÂõû struct watchdogdevice‰∏≠ÁöÑbootstatusÁä∂ÊÄÅ‰Ωç. set_timeout:Ëøô‰∏™ÂáΩÊï∞ËÆæÁΩÆÂíåÊ£ÄÊü• Ë∂ÖÊó∂Êó∂Èó¥ÁöÑÂèòÂåñ,ËøîÂõû0Ë°®Á§∫ÊàêÂäü,ËøîÂõû-EINVALË°®Á§∫Ë∂ÖÂá∫ËåÉÂõ¥,ËøîÂõû-EIOË°®Á§∫Êó†Ê≥ïÂÜôÂÖ•ÁúãÈó®Áãó.ËÆæÁΩÆÊàêÂäüÂêé,ÂáΩÊï∞Â∫îËØ•Â∞ÜËÆæÂÆöÁöÑË∂ÖÊó∂Êó∂Èó¥ÂÜôÂÖ•ÁúãÈó®Áãó.(ÊàñËÆ∏‰∏éÈÄöËøáÊé•Âè£Ëé∑ÂèñÁöÑË∂ÖÊó∂Êó∂Èó¥‰∏çÂêå,Âõ†‰∏∫ÁúãÈó®ÁãóÁöÑÂàÜËæ®Áéá‰∏ç‰∏ÄÂÆöËÉΩÂà∞1s). ÂÆûÁé∞‰∫Ümax_hw_heartbeat_msÁöÑÈ©±Âä®Â∞ÜÁ°¨‰ª∂ÁúãÈó®ÁãóÂøÉË∑≥ÂÄºËÆæÁΩÆ‰∏∫Ë∂ÖÊó∂Êó∂Èó¥Âíåmax_hw_heartbeat_ms‰πãÈó¥ÁöÑÊúÄÂ∞èÂÄº.Those drivers set the timeout value of the watchdog_device either to the requested timeout value (if it is larger than max_hw_heartbeat_ms), or to the achieved timeout value. Â¶ÇÊûúÁúãÈó®ÁãóÈ©±Âä®Á®ãÂ∫èÊ≤°ÊúâÊâßË°å‰ªª‰ΩïÊìç‰Ωú,‰ΩÜËÆæÁΩÆ‰∫Üwatchdogdevice.timeout,Ê≠§ÂõûÊéâÂáΩÊï∞ÂøΩÁï•. Â¶ÇÊûúÊ≤°ÊúâËÆæÁΩÆ set_timeout,‰ΩÜËÆæÁΩÆ‰∫ÜWDIOF_SETTIMEOUT,ÁúãÈó®ÁãóÊû∂ÊûÑ‰ºöÂ∞Ü watchdog_device‰∏≠timeoutÂÄºÊõ¥Êñ∞‰∏∫ËØ∑Ê±ÇÁöÑÂÄº. Â¶ÇÊûú‰ΩøÁî®‰∫Üpretimeout feature (WDIOF_PRETIMEOUT),ÈÇ£‰πàset_timeout ÂøÖÈ°ªÂêåÊó∂Ê£ÄÊü• pretimeout ÊòØÂê¶ÊúâÊïà ,ËÆæÁΩÆÁõ∏Â∫îÂÆöÊó∂Âô®. Ëøô‰∫õÊìç‰ΩúÂú®Ê†∏ÂøÉÂ±ÇÊ≤°ÊúâracesÊó†Ê≥ïÂÆåÊàê,ÊâÄ‰ª•ÂøÖÈ°ªÂú®È©±Âä®‰∏≠ÂÆåÊàê. setpretimeout:Ëøô‰∏™ÂáΩÊï∞ÊîØÊåÅÊ£ÄÊü•/ÊîπÂèòÁúãÈó®Áãó‰∏≠pretimeoutÂÄº(pretimeoutËØ¶ÊÉÖËßÅwdtÁî®Êà∑Â±ÇapiÁøªËØë).Ëøô‰∏™ÂáΩÊï∞ÊòØÂèØÈÄâÊîØÊåÅÁöÑ,Âõ†‰∏∫‰∏çÊòØÊâÄÊúâÁöÑÁúãÈó®ÁãóÈÉΩÊîØÊåÅËøô‰∏™ÂäüËÉΩ.pretimeout ‰∏çÊòØÁªùÂØπÊó∂Èó¥,ÂÖ∂Êï∞ÂÄºÊòØÂú®Ë∂ÖÊó∂Êó∂Èó¥‰πãÂâçÂá†ÁßíÂèëÁîü. ËøîÂõû0Ë°®Á§∫ÊâßË°åÊàêÂäü,ËøîÂõû-EINVAL,Ë°®Á§∫Ë∂ÖÂá∫ËåÉÂõ¥,ËøîÂõû-EIOË°®Á§∫Êú™ËÉΩÊàêÂäüÂêëÁúãÈó®ÁãóÂÜôÂÖ•. ËÆæÁΩÆpretimeou‰∏∫0ÂÄº,‰ª£Ë°®Á¶ÅÁî®pretimeoutÂäüËÉΩ.(WDIOFPRETIMEOUTÈúÄË¶ÅÂú®ÁúãÈó®ÁãóÁöÑinfo ÁªìÊûÑ‰Ωì‰∏≠ËÆæÁΩÆ) Â¶ÇÊûúÈ©±Âä®Ê≤°ÊúâÂÆûÁé∞‰ªª‰ΩïÂäüËÉΩ,‰ΩÜËÆæÂÆö‰∫Ü watchdogdevice.pretimeout,Ê≠§ÂõûÊéâÂáΩÊï∞ÂøΩÁï•.ËøôÊÑèÂë≥Ëøô,Â¶ÇÊûúÊ≤°ÊúâÊèê‰æõsetpretimeoutÂáΩÊï∞,‰ΩÜËÆæÂÆö‰∫ÜWDIOFPRETIMEOUT,ÁúãÈó®ÁãóÊû∂ÊûÑ‰ºöÂ∞ÜpretimeoutÁöÑÂÄºÊõ¥Êñ∞‰∏∫ËØ∑Ê±ÇÂÄº. gettimeleft:Ëøô‰∏™ÂáΩÊï∞ËøîÂõûÂ§ç‰ΩçÂâçÂâ©‰ΩôÊó∂Èó¥. restart:Ê≠§ÂáΩÊï∞ÈáçÂêØÁúãÈó®ÁãóÁ°¨‰ª∂,ËøîÂõû0Ë°®Á§∫ÊàêÂäü,Â§±Ë¥•ËøîÂõûÂØπÂ∫îÈîôËØØÁ†Å. ioctl:Â¶ÇÊûúËøô‰∏™ÂáΩÊï∞Â≠òÂú®,Âú®Á≥ªÁªüËøõË°åÂÜÖÈÉ®ioctlÂëΩ‰ª§Â§ÑÁêÜÂâç,‰ºöÈ¶ñÂÖàË∞ÉÁî®Ê≠§ÂáΩÊï∞.Â¶ÇÊûú‰∏çÊîØÊåÅioctrlÂëΩ‰ª§,Â∫îËØ•ËøîÂõû -ENOIOCTLCMD .Ëøô‰∏™ÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏∫(watchdogdevice, cmd and arg) refÂíåunref Â∑≤Áªè‰∏çÂÜçË¢´ÊîØÊåÅ. The status bits should (preferably) be set with the set_bit and clear_bit alike bit-operations. The status bits that are defined are: WDOGACTIVE:Ëøô‰∏™Áä∂ÊÄÅ‰ΩçÊ†áËØÜÁùÄ‰ªéÁî®Êà∑Á©∫Èó¥Áúã‰∏Ä‰∏™ÁúãÈó®ÁãóËÆæÂ§áÊòØÂê¶Ë¢´ÊøÄÊ¥ª,Â¶ÇÊûúË¢´ÊøÄÊ¥ª,Áî®Êà∑Á©∫Èó¥ÈúÄË¶ÅÊâßË°åÂñÇÁãóÂä®‰Ωú WDOG_NO_WAYOUT:Ëøô‰∏™Áä∂ÊÄÅ‰ΩçÊ†áËØÜËøônowayoutÁöÑËÆæÁΩÆ,Â¶ÇÊûúË¢´ÊøÄÊ¥ª,ÈÇ£ÁúãÈó®ÁãóÂêØÂä®Âêé,Êó†Ê≥ïË¢´ÂÅúÊ≠¢. WDOG_HW_RUNNING:Â¶ÇÊûúÁ°¨‰ª∂ÁúãÈó®ÁãóËøêË°å,Ê≠§Áä∂ÊÄÅ‰ΩçË¢´ÁΩÆ1. ÂΩìÁ°¨‰ª∂ÁúãÈó®Áãó‰∏çËÉΩË¢´ÂÅúÊ≠¢Êó∂,Ëøô‰∏™Áä∂ÊÄÅ‰ΩçÂøÖÈ°ªË¢´ÁΩÆ1. Â¶ÇÊûúÁ≥ªÁªüÂêØÂä®ÂêéËá™Âä®ÂêØÂä®ÁúãÈó®Áãó,Âú®ÁúãÈó®ÁãóÊâìÂºÄÂâç,ÂøÖÈ°ªËÆæÁΩÆÊ≠§Áä∂ÊÄÅ‰Ωç. ÂΩìÊ≠§Áä∂ÊÄÅ‰ΩçË¢´ÁΩÆ1,Âç≥‰ΩøWDOGACTIVE‰∏∫0.ÁúãÈó®ÁãóÊû∂ÊûÑ‰πü‰ºöÊâßË°åÂñÇÁãóÂä®‰Ωú. (ÂΩì‰Ω†Áõ¥Êé•Ê≥®ÂÜåËÆæÁΩÆ‰∫Ü WDOG_HW_RUNNING‰ΩçÁöÑÁúãÈó®ÁãóËÆæÂ§áÊó∂,ÊâßË°åopen /dev/watchdogÂä®‰Ωú,Á≥ªÁªü‰ºöÁõ¥Êé•Ë∑≥ËøáÂêØÂä®Êìç‰Ωú,Áõ¥Êé•ÊâßË°åÂñÇÁãóÊìç‰Ωú ) Ë¶ÅËÆæÁΩÆWDOG_NO_WAYOUTÁä∂ÊÄÅ‰Ωç(Âú®Ê≥®ÂÜåÁúãÈó®ÁãóËÆæÂ§áÂâç)‰Ω†ÂèØ‰ª•: Âú®watchdogdeviceÁöÑÁªìÊûÑ‰Ωì‰∏≠ËÆæÁΩÆ 1.status = WATCHDOG_NOWAYOUT_INIT_STATUS, ËøôÊ†∑Á≠âÂêå‰∫éÂ∞ÜWDOG_NO_WAYOUTÂÄºËÆæÁΩÆ‰∏∫CONFIG_WATCHDOG_NOWAYOUT ‰ΩøÁî®‰∏ãÈù¢ÁöÑÂáΩÊï∞1static inline void watchdog_set_nowayout(struct watchdog_device *wdd, int nowayout) (note:) wdtÈ©±Âä®Á®ãÂ∫èÊ†∏ÂøÉÊîØÊåÅmagic closeÂíå nowayoutÂäüËÉΩ.Ë¶Å‰ΩøÁî®magic close,ÈúÄË¶ÅÂú®ÁúãÈó®ÁãóÁöÑ info‰∏≠ËÆæÁΩÆWDIOFMAGICCLOSE ‰Ωç.ÂºÄÂêØ nowayout ‰ºöË¶ÜÁõñmagic close. Ëé∑ÂèñÊàñËÆæÂÆöÈ©±Âä®Á®ãÂ∫èÁâπÊÆäÊï∞ÊçÆ,Â∫îËØ•‰ΩøÁî®‰ª•‰∏ã‰∏§‰∏™ÂáΩÊï∞: 12static inline void watchdog_set_drvdata(struct watchdog_device *wdd, void *data)static inline void *watchdog_get_drvdata(struct watchdog_device *wdd) watchdog_set_drvdataÂáΩÊï∞ÂÖÅËÆ∏‰Ω†Ê∑ªÂä†ÂêëÈ©±Âä®Á®ãÂ∫èÊ∑ªÂä†ÁâπÊÆäÊï∞ÊçÆ,Ê≠§ÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏∫ÊåáÂêëÁúãÈó®ÁãóËÆæÂ§áÁöÑÊåáÈíà,ÂíåÊåáÂêëÈúÄË¶ÅÊ∑ªÂä†Êï∞ÊçÆÁöÑÊåáÈíà. watchdog_get_drvdataÂáΩÊï∞ËøêË°å‰Ω†ËØªÂèñÈ©±Âä®Á®ãÂ∫è‰∏≠ÁöÑÁâπÊÆäÊï∞ÊçÆ,Ê≠§ÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏∫ÊåáÂêë‰Ω†ÊÉ≥ËØªÂèñÁöÑÁúãÈó®ÁãóËÆæÂ§áÁöÑÊåáÈíà. ÂàùÂßãÂåñ timeout ,‰ºöÁî®Âà∞‰∏ãÈù¢ÁöÑÂáΩÊï∞ 123456 extern int watchdog_init_timeout(struct watchdog_device *wdd,unsigned int timeout_parm, struct device *dev); ``` * watchdog_init_timeoutÂÖÅËÆ∏‰ΩøÁî®Ê®°ÂùóÁöÑ timeout Â≠óÊÆµÂàùÂßãÂåñ timeout ,ÂΩìÊ®°ÂùóÁöÑ timeout Â≠óÊÆµÊó†ÊïàÊó∂,ËÆæÂ§áÊ†ë‰∏≠ÁöÑtimeout-sec‰πüÂèØ.ÊúÄÂ•ΩÁöÑÂÅöÊ≥ïÊòØÂ∞Üwatchdog_device_‰∏≠timeoutÁöÑÂÄº,ËÆæÁΩÆ‰∏∫ÂàùÂßãÈªòËÆ§ÂÄº,ÁÑ∂Âêé‰ΩøÁî®Âà∞ÂáΩÊï∞ÁöÑÁî®Êà∑ÂèØ‰ª•ÂàÜÂà´ËÆæÁΩÆËá™ÂÆö‰πâÂÄº.* ÈáçÂêØÂêéÁ¶ÅÁî®ÁúãÈó®Áãó,ÈúÄË¶Å‰ΩøÁî®‰ª•‰∏ãÂáΩÊï∞: static inline void watchdog_stop_on_reboot(struct watchdog_device *wdd); 1* Âç∏ËΩΩÁúãÈó®ÁãóËÆæÂ§áÊó∂Á¶ÅÁî®ÁúãÈó®Áãó,ÂøÖÈ°ªË∞ÉÁî®Ê≠§ÂáΩÊï∞,Â¶ÇÊûú nowayout Ê≤°ÊúâËÆæÁΩÆ,Ëøô‰∏™ÂáΩÊï∞Âè™‰ºöÂÅúÊ≠¢ÁúãÈó®Áãó. static inline void watchdog_stop_on_unregister(struct watchdog_device *wdd); 12 * Êõ¥ÊîπÈáçÂêØÂ§ÑÁêÜÁ®ãÂ∫èÁöÑ‰ºòÂÖàÁ∫ß,(ÁåúÊµãÊòØ‰∏çÂêåÁúãÈó®ÁãóÁöÑ‰ºòÂÖàÁ∫ß)Ë∞ÉÁî®‰∏ãÈù¢ÁöÑÂáΩÊï∞: oid watchdog_set_restart_priority(struct watchdog_device *wdd, int priority); 123456 * ËÆæÂÆö‰ºòÂÖàÁ∫ßÊó∂,Áî®Êà∑ÈúÄË¶ÅÈÅµÂæ™‰ª•‰∏ãËßÑÂàô * 0:‰ºòÂÖàÁ∫ßÊúÄ‰Ωé,ÈùûÂ∏∏ÊúâÈôêÁöÑÈáçÂêØËÉΩÂäõ * 128:ÈáçÂêØÂ§ÑÁêÜÁöÑÈªòËÆ§ÈÄâÊã©,Â¶ÇÊûúÊ≤°ÊúâÂÖ∂‰ªñÁöÑÈáçÂêØÂ§ÑÁêÜÁ®ãÂ∫èÂèØÁî®,ÊàñËÄÖÊ≤°ÊúâÈáçÂêØÊï¥‰∏™Á≥ªÁªüÁöÑÈáçÂêØÂ§ÑÁêÜÁ®ãÂ∫èÂèØÁî®. * 255:ÊúÄÈ´ò‰ºòÂÖàÁ∫ß,‰ºöË¶ÜÁõñÂÖ∂‰ªñÊâÄÊúâÈáçÂêØÂ§ÑÁêÜÁ®ãÂ∫è* ‰ΩøÁî®pretimeout ÈÄöÁü•ÂäüËÉΩ,ÈúÄË¶ÅÂà©Áî®‰ª•‰∏ãÂáΩÊï∞: void watchdog_notify_pretimeout(struct watchdog_device *wdd)``` Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•Âú®‰∏≠Êñ≠‰∏ä‰∏ãÊñá‰∏≠Ë∞ÉÁî®,Â¶ÇÊûúÂêØÁî®‰∫Üwatchdog pretimeout governor Ê°ÜÊû∂(kbuild CONFIG_WATCHDOG_PRETIMEOUT_GOV),Â∞±‰ºöÈááÁî®ËøõÂÖ•È©±Âä®Á®ãÂ∫èÂàÜÈÖçÂ•ΩÁöÑÂ§ÑÁêÜÁ®ãÂ∫è,Â¶ÇÊûúÊ≤°ÊúâÂêØÁî®watchdog pretimeout governor Ê°ÜÊû∂,watchdog_notify_pretimeout()‰ºöÂ∞Ü‰ø°ÊÅØËæìÂá∫Âà∞ÂÜÖÊ†∏Êó•ÂøóÁºìÂ≠ò.]]></content>
      <categories>
        <category>LinuxÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>Linux</tag>
        <tag>ÁøªËØë</tag>
        <tag>wdt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÁ¨îËÆ∞‚ÄîÁúãÈó®ÁãóAPIÊñáÊ°£ÁøªËØë]]></title>
    <url>%2F2017%2F08%2F22%2Flinux%E7%AC%94%E8%AE%B0%E2%80%94%E7%9C%8B%E9%97%A8%E7%8B%97API%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91%2F</url>
    <content type="text"><![CDATA[ÈöèÊâãÁøªËØëÁöÑÊñáÊ°£ÔºåË¶ÅÁúãÊáÇlinuxÂÜÖÊ†∏ÔºåÂÜÖÊ†∏ÈôÑÂ∏¶ÁöÑÊñáÊ°£Ëá™ÁÑ∂ÊòØÈÄÉ‰∏çËøáüòÇÔºåÂÖ®Ëã±ÊñáÈÖçÂêàGoogleÁøªËØë‰πüÂæó‰∏ä„ÄÇ„ÄÇ„ÄÇ„ÄÇ ÊúÄÂêéÊõ¥Êñ∞Êó∂Èó¥ 10/05/2007 linuxÁúãÈó®ÁãóËÆæÂ§áAPI Copyright 2002 Christer Weingel &#119;&#105;&#x6e;&#x67;&#101;&#108;&#x40;&#x6e;&#97;&#110;&#111;&#x2d;&#x73;&#x79;&#x73;&#x74;&#101;&#x6d;&#46;&#x63;&#x6f;&#x6d; Êú¨ÊñáÊ°£ÁöÑ‰∏Ä‰∫õÂÜÖÂÆπÊù•Ëá™ sbc60xxwdt ÔºåÁâàÊùÉÂ±û‰∫é Copyright 2000 Jakob Oestergaard &#106;&#x61;&#107;&#111;&#98;&#x40;&#x6f;&#115;&#116;&#101;&#110;&#x66;&#101;&#108;&#100;&#x2e;&#100;&#x6b; Êú¨ÊñáÊ°£Âü∫‰∫élinuxÂÜÖÊ†∏ 2.4.18 ‰ªãÁªç ‰Ω†Â∫îËØ•Â∑≤ÁªèÁü•ÈÅì‰∫ÜÔºåÁúãÈó®ÁãóÂÆöÊó∂Âô®ÔºàWDTÔºâÊòØ‰∏Ä‰∏™Á°¨‰ª∂Â§ç‰ΩçÁîµË∑ØÔºåÂú®Á≥ªÁªüËΩØ‰ª∂Âá∫Áé∞ÊïÖÈöúÊó∂Â§ç‰ΩçÁ≥ªÁªü„ÄÇ ÈÄöÂ∏∏ÔºåÁî®Êà∑Á©∫Èó¥ÁöÑÂÆöÊúüÂñÇÁãóÁ®ãÂ∫èÈÄöËøá/dev/watchdogÁöÑËÆæÂ§áÊñá‰ª∂ÈÄöÁü•ÂÜÖÊ†∏ÁúãÈó®ÁãóÈ©±Âä®Á®ãÂ∫è„ÄÇÈ©±Âä®Êî∂Âà∞ÈÄöÁü•Ôºå‰ºöÂëäÁü•Á°¨‰ª∂ÁúãÈó®Áãó‰∏ÄÂàáÊ≠£Â∏∏ÔºåÁ°¨‰ª∂ÁúãÈó®ÁãóÈúÄË¶ÅÁ≠â‰∏Ä‰ºöÂÜçÂ§ç‰ΩçÁ≥ªÁªü„ÄÇÂ¶ÇÊûúÁî®Êà∑Á©∫Èó¥ÈÄöÁü•Â§±Ë¥•ÔºàRAMÈîôËØØ„ÄÅÂÜÖÊ†∏ÊºèÊ¥ûÁ≠âÁ≠âÔºâÔºåÈÄöÁü•Â∞ÜÂÅúÊ≠¢„ÄÇË∂ÖÊó∂ÂêéÔºåÁ°¨‰ª∂ÁúãÈó®ÁãóÂ∞ÜÂ§ç‰ΩçÁ≥ªÁªüÔºàÈáçÂêØÔºâ„ÄÇ linuxÁúãÈó®ÁãóÁöÑAPIÊòØÁõ∏ÂΩìÁâπÊÆäÁöÑÁªìÊûÑÔºå‰∏çÂêåÁöÑÈ©±Âä®Á®ãÂ∫èÂØπAPIÁöÑÊâßË°åÂêÑ‰∏çÁõ∏ÂêåÔºåÊúâÊó∂‰ºöÁ¢∞Âà∞‰∏çÂÖºÂÆπÁöÑÊÉÖÂÜµ„ÄÇÊú¨ÊñáÊ°£ÂèÇÊï∞ËÆ∞ÂΩïÁé∞ÊúâÁöÑÊÉÖÂÜµÔºå‰ª•‰æõÊú™Êù•ÁöÑÈ©±Âä®ÂºÄÂèëÂèÇËÄÉ„ÄÇÊúÄÁÆÄÂçïÁöÑAPI ÊâÄÊúâÈ©±Âä®ÈÉΩÊîØÊåÅÁöÑÂü∫Êú¨Êìç‰ΩúÊ®°Âºè„ÄÇ/dev/watchdogË¢´ÊâìÂºÄÂêéÔºåÁúãÈó®ÁãóË¢´ÊøÄÊ¥ªÂπ∂Â§ç‰ΩçÁ≥ªÁªüÔºåÈô§ÈùûÂú®‰∏ÄÂ∞èÊÆµÊó∂Èó¥ÂÜÖË¢´pingÈÄöÔºüÔºàÂñÇÁãóÔºâÔºåËøôÊÆµÊó∂Èó¥Ë¢´Áß∞‰∏∫Ë∂ÖÊó∂Êó∂Èó¥ÊàñÈó¥Êñ≠Êó∂Èó¥„ÄÇÁÆÄÂçïÁöÑÂñÇÁãóÁöÑÊñπÂºèÊòØÂêëÈ©±Âä®Á®ãÂ∫èÂÜôÂÖ•‰∏Ä‰∫õÊï∞ÊçÆÔºå‰∏Ä‰∏™ÈùûÂ∏∏ÁÆÄÂçïÁöÑÂÆû‰æãÂú®see samples/watchdog/watchdog-simple.c‰∏ã. Êõ¥È´òÁ∫ßÁöÑÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•ÂÅöÂà∞‰æãÂ¶ÇÊ£ÄÊü•‰∏Ä‰∏™httpÊúçÂä°Âô®ÔºåÂú®ÊâßË°åÂñÇÁãóÊìç‰Ωú‰πãÂâçÔºåÂÅöÂá∫ÂõûÂ∫î„ÄÇ /dev/‰∏ãËÆæÂ§áËäÇÁÇπË¢´ÂÖ≥Èó≠ÂêéÔºåÁúãÈó®Áãó‰πüÂêåÊó∂Ë¢´Á¶ÅÁî®ÔºåÈô§ÈùûÊîØÊåÅ‚ÄúMagic Close‚ÄùÔºàËßÅ‰∏ãÊñáÔºâÔºåËøôÂπ∂‰∏çÊòØ‰∏™Â•ΩÂäûÊ≥ï„ÄÇÂõ†‰∏∫Â¶ÇÊûúÁúãÁúãÈó®ÁãódemoÊúâbugÂØºËá¥Á≥ªÁªüÂ¥©Ê∫ÉÔºå‰ΩÜÁ≥ªÁªü‰∏ç‰ºöÈáçÂêØ„ÄÇÂõ†‰∏∫ËøôÊ†∑‰∏Ä‰∫õÈ©±Âä®ÊîØÊåÅ‚ÄùDisable watchdog shutdown on close‚Äù, CONFIG_WATCHDOG_NOWAYOUT‚ÄùËøôÊ†∑ÁöÑÈÖçÁΩÆÈÄâÈ°π„ÄÇ‰∏ÄÊó¶ÁºñËØëÂÜÖÊ†∏Êó∂ÂÄôÂêØÁî®Ëøô‰∫õÈÄâÈ°πÔºå‰∏ÄÊó¶ÁúãÈó®ÁãóÁ®ãÂ∫èÊøÄÊ¥ªÔºåÂ∞±‰∏çÂèØËÉΩÁ¶ÅÁî®ÁúãÈó®Áãó„ÄÇÂ¶ÇÊûúÁúãÈó®ÁãódemoÂ¥©Ê∫ÉÔºåÁ≥ªÁªü‰ºöÂú®Ë∂ÖÊó∂ÂêéËá™Âä®ÈáçÂêØ„ÄÇÁúãÈó®ÁãóÈ©±Âä®ÈÄöÂ∏∏‰πüÊîØÊåÅnowayout module parameterÔºå‰ª•‰æøÂú®ËøêË°åÊó∂ÊéßÂà∂nowayout module„ÄÇ Magic Close feature Â¶ÇÊûúÈ©±Âä®Á®ãÂ∫èÊîØÊåÅMagic Close,ÈÇ£‰πàËÆæÂ§áÂ∞Ü‰∏çÊîØÊåÅÁ¶ÅÁî®ÁúãÈó®ÁãóÔºåÈô§ÈùûÂú®ÂÖ≥Èó≠ËÆæÂ§áÊñá‰ª∂ÂâçÔºåÂêë/dev/watchdog‰∏ãËÆæÂ§áÊñá‰ª∂ÂÜôÂÖ•ÁâπÂÆöÁöÑmagic Â≠óÁ¨¶ ‚ÄòV‚Äô„ÄÇÂ¶ÇÊûúÁî®Êà∑Á©∫Èó¥ÁöÑ daemonÂÖ≥Èó≠‰∫ÜÁúãÈó®ÁöÑËÆæÂ§áÊñá‰ª∂Ôºå‰ΩÜÊòØÊ≤°ÊúâÂèëÈÄÅÈÇ£‰∏™ÁâπÂÆöÁöÑÂ≠óÁ¨¶ÔºåÈ©±Âä®‰ºöËÆ§‰∏∫daemonËøõÁ®ãÂ∑≤ÁªèË¢´ÊùÄÔºåÂπ∂‰∏îÂÅúÊ≠¢‰∫ÜÂÆöÊúüÂñÇÁãóË°å‰∏∫„ÄÇËøôÊ†∑‰ºöÂØºËá¥Ë∂ÖÊó∂ÂêéÁ≥ªÁªüÈáçÂêØ„ÄÇioctl API ÊâÄÊúâÁöÑÈ©±Âä®Á®ãÂ∫èÈÉΩÊîØÊåÅioctl API ÂñÇÁãóÊìç‰Ωú‰ΩøÁî®ioctlÂÆåÊàê ÊâÄÊúâÁöÑÈ©±Âä®ÈÉΩË¶ÅÊîØÊåÅ‰∏Ä‰∏™KEEPALIVEÁöÑioctlÂëΩ‰ª§ÔºåËøô‰∏™ÂëΩ‰ª§ÂèØ‰ª•Ëµ∑Âà∞ÂêëÈ©±Âä®ÂÜôÂÖ•Êï∞ÊçÆ‰∏ÄÊ†∑ÁöÑ‰ΩúÁî®„ÄÇÊâÄ‰ª•watchdog daemonÁöÑ‰∏ªÂáΩÊï∞Âæ™ÁéØÂèØ‰ª•ËøôÊ†∑ÂÆûÁé∞1234 while (1) &#123; ioctl(fd, WDIOC_KEEPALIVE, 0); sleep(10);&#125; Setting and getting the timeout Êüê‰∫õÈ©±Âä®ÊîØÊåÅËøêË°åÊó∂ÈÄöËøáSETTIMEOUT ioctlÂëΩ‰ª§‰øÆÊîπË∂ÖÊó∂Êó∂Èó¥ÔºåËøô‰∫õÈ©±Âä®ÈÉΩÊúâWDIOFSETTIMEOUTÁöÑÊ†áÂøó‰Ωç„ÄÇË∂ÖÊó∂Êó∂Èó¥ÊòØ‰∏Ä‰∏™Âçï‰Ωç‰∏∫ÁßíÁöÑÊï¥Êï∞ÔºåÈ©±Âä®Á®ãÂ∫è‰ºöËøîÂõûËøô‰∏™ÂèòÈáèÂÆûÈôÖËÆæÁΩÆÁöÑÊï∞ÂÄºÔºå‰ΩÜÊòØÁî±‰∫éÁ°¨‰ª∂ÈôêÂà∂ÔºåËøîÂõûÁöÑÊï∞ÂÄºÂèØËÉΩ‰∏éËÆæÁΩÆÊï∞ÂÄº‰∏çÂêå„ÄÇ123int timeout = 45;ioctl(fd, WDIOC_SETTIMEOUT, &amp;timeout);printf(&quot;The timeout was set to %d seconds\n&quot;, timeout); Ëøô‰∏™ÂÆû‰æãÊàñËÆ∏‰ºöËæìÂá∫‚ÄùThe timeout was set to 60 seconds‚ÄùÔºåÂ¶ÇÊûúËÆæÂ§áË∂ÖÊó∂Êó∂Èó¥‰∏∫ÂàÜÈíü„ÄÇ Ëá™‰ªé2.4.18ÂÜÖÊ†∏ÂºÄÂßãÔºåÂèØ‰ª•‰ΩøÁî®GETTIMEOUT ioctlÂëΩ‰ª§ÔºåËé∑ÂèñË∂ÖÊó∂Êó∂Èó¥„ÄÇ 12ioctl(fd, WDIOC_GETTIMEOUT, &amp;timeout);printf("The timeout was is %d seconds\n", timeout); Pretimeouts ‰∏Ä‰∫õÁúãÈó®ÁãóÂÆöÊó∂Âô®ÂèØ‰ª•Âú®Á≥ªÁªüÈáçÂêØÂâç‰∏ÄÊÆµÊó∂Èó¥ËÆæÁΩÆ‰∏Ä‰∏™Ëß¶ÂèëÂô®„ÄÇËøôÊ†∑ËøêË°ålinuxÂú®Á≥ªÁªü‰ªéÂâçËÆ∞ÂΩï‰∏Ä‰∫õÈáçË¶ÅÁöÑ‰ø°ÊÅØÔºàÂÉèpanic‰ø°ÊÅØÂíåkernel coredumpsÔºâÔºåÂÖ∑‰ΩìÂèØ‰ª•ÈÄöËøáNMT„ÄÅ‰∏≠Êñ≠Á≠âÊú∫Âà∂ÂÆûÁé∞„ÄÇ 12pretimeout = 10;ioctl(fd, WDIOC_SETPRETIMEOUT, &amp;pretimeout); ËØ∑Ê≥®ÊÑèÔºåpretimeout Êó∂Èó¥ÊòØÂú® Ë∂ÖÊó∂ÂÖ≥Èó≠Á≥ªÁªü ‰πãÂâçÁöÑÁßíÊï∞„ÄÇ‰∏çÊòØÁõ¥Âà∞ÂèëÁîüpretimeout ‰∫ã‰ª∂ÁöÑÁßíÊï∞„ÄÇ‰æãÂ¶ÇËÆæÂÆöÁöÑË∂ÖÊó∂Êó∂Èó¥ÊòØ60sÔºå pretimeoutÊòØ10s„ÄÇpretimeout‰∫ã‰ª∂‰ºöÂú®50sÊó∂ÂèëÁîü„ÄÇpretimeoutËÆæÁΩÆ‰∏∫0‰ª£Ë°®Á¶ÅÁî®pretimeout„ÄÇ ÂêåÊ†∑Â≠òÂú®‰∏Ä‰∏™Ëé∑ÂèñpretimeoutÁöÑioctlÂëΩ‰ª§„ÄÇ 12ioctl(fd, WDIOC_GETPRETIMEOUT, &amp;timeout);printf(&quot;The pretimeout was is %d seconds\n&quot;, timeout); ‰∏çÊòØÊâÄÊúâÁúãÈó®ÁãóÈ©±Âä®ÈÉΩÊîØÊåÅ pretimeout Ëé∑ÂèñÈáçÂêØÂâçÁßíÊï∞ ‰∏Ä‰∫õÁúãÈó®ÁãóÈ©±Âä®ÊîØÊåÅËé∑ÂèñÁ≥ªÁªüÈáçÂêØÂâçÁßíÊï∞„ÄÇÈÄöËøáWDIOCGETTIMELEFT ioctl ÂëΩ‰ª§ÂèØ‰ª•ËøîÂõûÁ≥ªÁªüÈáçÂêØÂâçÁßíÊï∞„ÄÇ12ioctl(fd, WDIOC_GETTIMELEFT, &amp;timeleft);printf(&quot;The timeout was is %d seconds\n&quot;, timeleft); ÁéØÂ¢ÉÁõëÊµã ÊâÄÊúâÁöÑÁúãÈó®ÁãóÈ©±Âä®ÈÉΩË¢´Ë¶ÅÊ±ÇËøîÂõûÊõ¥Â§öÂÖ≥‰∫éÁ≥ªÁªüÊúÄÂêé‰∏ÄÊ¨°ÈáçÂêØÁöÑ‰ø°ÊÅØÔºåÂÉèÊòØÊ∏©Â∫¶„ÄÅÈ£éÊâáËΩ¨ÈÄü„ÄÅÁîµÊ∫êÁ≠â„ÄÇGETSUPPORT ioctl ÁöÑÂëΩ‰ª§ÂèØ‰ª•ËøîÂõû ËÆæÂ§áÂèØ‰ª•ÊîØÊåÅÁöÑ‰ø°ÊÅØ„ÄÇ 12struct watchdog_info ident;ioctl(fd, WDIOC_GETSUPPORT, &amp;ident); ËøîÂõûÁöÑÁªìÊûÑident‰∏≠ÁöÑÂ≠óÊÆµÂ¶Ç‰∏ãÔºö 123 identity ÊèèËø∞watchdog driverÁöÑÂ≠óÁ¨¶‰∏≤firmware_version the firmware version of the card if availableoptions ËÆæÂ§áÊîØÊåÅÊÉÖÂÜµÁöÑÊ†áÂøó‰Ωç optionsÊèèËø∞‰∫ÜGET_STATUS ÂíåGET_BOOTSTATUS ioctlÂëΩ‰ª§ÂèØ‰ª•ËøîÂõûÈÇ£‰∫õ‰ø°ÊÅØ„ÄÇÂπ∂‰∏îÂèØ‰ª•ËÆæÁΩÆ„ÄÇÔºàÔºâ??Êó†Ê≥ïÁêÜËß£‰ªÄ‰πàÊÑèÊÄù?? WDIOFOVERHEAT cpuËøáÁÉ≠Â§ç‰ΩçÁ≥ªÁªüÈáçÂêØÂõ†‰∏∫ÔºåË∂ÖËøá‰∫ÜÊ∏©Â∫¶ÈôêÂà∂‰∏äÈôê„ÄÇ WDIOFFANFAULT È£éÊâáÂ§±ÊïàÂ§ç‰Ωç WDIOFEXTERN1 External relay 1 Â§ñÈÉ®ÁõëÊéßÁîµÊ∫ê1Ë¢´Ëß¶ÂèëÔºåÔºüÔºüÔºüControllers intended for real world applications include external monitoring pins that will trigger a reset.ÔºüÔºüÔºà‰∏çÊòéÁôΩ‰ªÄ‰πàÊÑèÊÄùÔºâ WDIOF_EXTERN2 External relay 2Â§ñÈÉ®ÁõëÊéßÁîµÊ∫ê2Ë¢´Ëß¶Âèë WDIOF_POWERUNDER ÁîµÊ∫êÂùè‰∫ÜÔºåÁîµÊ∫êÂ∏¶‰∏çÂä®‰∫ÜÊú∫Âô®ÊòæÁ§∫Ê¨†Âéã„ÄÇ ÂêéÈù¢‰∏ÄÁÇπ‰∏çÁøª‰∫ÜÔºåÊúâÊó∂Èó¥ÂÜçÊ∑ªÂùë WDIOF_CARDRESET Card previously reset the CPUThe last reboot was caused by the watchdog card WDIOF_POWEROVER Power over voltageThe machine is showing an overvoltage status. Note that if one level is under and one over both bits will be set - this may seem odd but makes sense. WDIOF_KEEPALIVEPING Keep alive ping replyThe watchdog saw a keepalive ping since it was last queried. WDIOF_SETTIMEOUT Can set/get the timeoutThe watchdog can do pretimeouts. WDIOF_PRETIMEOUT Pretimeout (in seconds), get/setFor those drivers that return any bits set in the option field, the GETSTATUS and GETBOOTSTATUS ioctls can be used to ask for the current status, and the status at the last reboot, respectively. 12int flags;ioctl(fd, WDIOC_GETSTATUS, &amp;flags); or 1ioctl(fd, WDIOC_GETBOOTSTATUS, &amp;flags); Note that not all devices support these two calls, and some only support the GETBOOTSTATUS call. Some drivers can measure the temperature using the GETTEMP ioctl. The returned value is the temperature in degrees fahrenheit. 12int temperature;ioctl(fd, WDIOC_GETTEMP, &amp;temperature); Finally the SETOPTIONS ioctl can be used to control some aspects of the cards operation. 12int options = 0;ioctl(fd, WDIOC_SETOPTIONS, &amp;options); The following options are available: WDIOS_DISABLECARD Turn off the watchdog timer WDIOS_ENABLECARD Turn on the watchdog timer WDIOS_TEMPPANIC Kernel panic on temperature trip]]></content>
      <categories>
        <category>LinuxÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>Linux</tag>
        <tag>ÁøªËØë</tag>
        <tag>wdt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÁ¨îËÆ∞‚ÄîrtcÂ≠êÁ≥ªÁªü]]></title>
    <url>%2F2017%2F08%2F19%2Flinux%E7%AC%94%E8%AE%B0%E2%80%94rtc%E5%AD%90%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[Ê≠£ÂºèÂºÄÂßãËÆ©‰∫∫Â¥©Ê∫ÉÁöÑlinuxÁ≥ªÂàóÔºåÂ∏åÊúõËá™Â∑±ËÉΩÂÜôÂÆå„ÄÇÂÖàÊãørtcÂºÄÂàÄ„ÄÇ ËøôÈáåÊàëÂ∞ΩÂèØËÉΩËÆ∞ÂΩï‰∏ãÊÄùÁª¥ÁöÑÁªÜËäÇÔºåËÄå‰∏çÊòØ‰ªÖÂ±ÄÈôê‰∫é‰ª£Á†ÅÔºåÂ∏åÊúõËá™Â∑±ËÉΩÈ¢Ü‰ºöLinuxÂÜÖÊ†∏ÂºÄÂèëËÄÖÁöÑÊÉ≥Ê≥ï„ÄÇ ÂÜÖÊ†∏ÁâàÊú¨Ôºölinux4.1 ÈúÄË¶Å‰∫ÜËß£ÔºöÁÆÄÁï•‰∫ÜËß£Â≠óÁ¨¶È©±Âä® Âíå LinuxËÆæÂ§áÈ©±Âä®Ê®°Âûã RTC rtcÂç≥real time clockÔºåÂÆûÊó∂Êó∂Èíü„ÄÇ rtc‰∏ÄËà¨Ë¥üË¥£Á≥ªÁªüÂÖ≥Êú∫ÂêéËÆ°Êó∂ÔºåÈù¢ÂØπÁπÅÂ§öÁöÑLinux RTCËÆæÂ§áÔºåÂÜÖÊ†∏Âπ≤ËÑÜÊèê‰æõ‰∫Ü‰∏Ä‰∏™rtcÂ≠êÁ≥ªÁªüÔºåÊù•ÊîØÊåÅÊâÄÊúâÁöÑrtcËÆæÂ§á„ÄÇ ÂèÇËÄÉËµÑÊñô rtcÂ≠êÁ≥ªÁªü rtcËÆæÂ§áÊú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™Â≠óÁ¨¶ËÆæÂ§áÔºårtcÂ≠êÁ≥ªÁªüÂú®Â≠óÁ¨¶ËÆæÂ§áÁöÑÂü∫Á°Ä‰∏äÊäΩË±°‰∏éÁ°¨‰ª∂Êó†ÂÖ≥ÁöÑÈÉ®ÂàÜÔºåÂπ∂Âú®Ëøô‰∏™Âü∫Á°Ä‰∏äÊãìÂ±ïsysfsÂíåprocÊñá‰ª∂Á≥ªÁªü‰∏ãÁöÑËÆøÈóÆ„ÄÇ ÂàÜÊûêÊó∂ÂÄôÂßãÁªàËÆ∞‰Ωè‰∏§ÁÇπÔºö rtcÂ≠êÁ≥ªÁªüÊòØ‰∏∫‰∫ÜËÆ©rtcËÆæÂ§áÈ©±Âä®ÁºñÂÜôÊõ¥‰∏∫ÁÆÄÂçïÔºå‰∏éÁ°¨‰ª∂Êó†ÂÖ≥ÈÉ®ÂàÜÂ∑≤Ë¢´ÊäΩÁ¶ª„ÄÇ rtcÂ≠êÁ≥ªÁªüÊòØÂü∫‰∫éÂ≠óÁ¨¶ËÆæÂ§áËÄåÊù•ÁöÑ„ÄÇÊñá‰ª∂Ê°ÜÊû∂ rtcÂ≠êÁ≥ªÁªüÁöÑÊ∫êÁ†ÅÂú® /drivers/rtcÂà†Âáè‰∫ÜÂæàÂ§örtc-xxx.cÁöÑÈ©±Âä®ÔºåÂè™Áïô‰∏ã‰∫Üds1307‰Ωú‰∏∫Á§∫‰æãÔºåËøôÈáåÁúãÂà∞ÂÆûÈôÖ‰∏ä‰ª£Á†ÅÂπ∂‰∏çÂ§ö„ÄÇ ÂÖ∑‰ΩìÊñá‰ª∂ÂàÜÊûê rtc.hÔºöÂÆö‰πâ‰∏éRTCÊúâÂÖ≥ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ class.cÔºöÂêëÂÜÖÊ†∏Ê≥®ÂÜåRTCÁ±ªÔºå‰∏∫Â∫ïÂ±ÇÈ©±Âä®Êèê‰æõrtc_device_register‰∏értc_device_unregisterÊé•Âè£Áî®‰∫éRTCËÆæÂ§áÁöÑÊ≥®ÂÜå/Ê≥®ÈîÄ„ÄÇÂàùÂßãÂåñRTCËÆæÂ§áÁªìÊûÑ„ÄÅsysfs„ÄÅproc„ÄÇ Interface.cÔºöÊèê‰æõÁî®Êà∑Á®ãÂ∫è‰∏éRTCÁöÑÊé•Âè£ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ÂåÖÊã¨ioctlÂëΩ‰ª§„ÄÇ rtc-dev.cÔºöÂ∞ÜRTCËÆæÂ§áÊäΩË±°‰∏∫ÈÄöÁî®ÁöÑÂ≠óÁ¨¶ËÆæÂ§áÔºåÊèê‰æõÊñá‰ª∂Êìç‰ΩúÂáΩÊï∞ÈõÜ„ÄÇ rtc-sysfs.cÔºöÁÆ°ÁêÜRTCËÆæÂ§áÁöÑsysfsÂ±ûÊÄßÔºåËé∑ÂèñRTCËÆæÂ§áÂêç„ÄÅÊó•Êúü„ÄÅÊó∂Èó¥Á≠â„ÄÇ rtc-proc.cÔºöÁÆ°ÁêÜRTCËÆæÂ§áÁöÑprocfsÂ±ûÊÄßÔºåÊèê‰æõ‰∏≠Êñ≠Áä∂ÊÄÅÂíåÊ†áÂøóÊü•ËØ¢„ÄÇ rtc-lib.cÔºöÊèê‰æõRTC„ÄÅDataÂíåTime‰πãÈó¥ÁöÑËΩ¨Êç¢ÂáΩÊï∞„ÄÇ rtc-xxx,cÔºöRTCËÆæÂ§áÁöÑÂÆûÈôÖÈ©±Âä®ÔºåÊ≠§Â§Ñ‰ª•rtc-ds1307‰∏∫‰æã„ÄÇ hctosys.cÔºöÂºÄÊú∫Êó∂Ëé∑ÂèñRTCÊó∂Èó¥„ÄÇ Êï¥‰∏™Êñá‰ª∂Á≥ªÁªüÊ°ÜÊû∂ RTCÂ≠êÁ≥ªÁªüÂÖ∑‰ΩìÂèØÂàÜ‰∏∫3Â±ÇÔºö Áî®Êà∑Â±ÇÔºöRTCÂ≠êÁ≥ªÁªüÂêë‰∏äÂ±ÇÊèê‰æõ‰∫ÜÊé•Âè£ÔºåÁî®Êà∑ÈÄöËøáËôöÊãüÊñá‰ª∂Á≥ªÁªüÔºåÈó¥Êé•Ë∞ÉÁî®RTCËÆæÂ§áÔºåÂÖ∑‰ΩìÊúâ3ÁßçÊñπÂºè„ÄÇ /dev/rtc RTCËÆæÂ§áÊäΩË±°ËÄåÊù•ÁöÑÂ≠óÁ¨¶ËÆæÂ§áÔºåÂ∏∏ËßÑÊñá‰ª∂Êìç‰ΩúÈõÜÂêà„ÄÇ /sys/class/rtc/rtcx ÈÄöËøásysfsÊñá‰ª∂Á≥ªÁªüËøõË°åRTCÊìç‰ΩúÔºå‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑÊñπÂºè„ÄÇ /proc/driver/rtc ÈÄöËøáprocÊñá‰ª∂Á≥ªÁªüËé∑ÂèñRTCÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ RTCÊ†∏ÂøÉÂ±ÇÔºö‰∏éÁ°¨‰ª∂Êó†ÂÖ≥ÔºåÁî®‰∫éÁÆ°ÁêÜRTCËÆæÂ§áÊ≥®ÂÜå/Ê≥®ÈîÄ„ÄÅÊèê‰æõ‰∏äÂ±ÇÊñá‰ª∂Êìç‰ΩúÁöÑÊé•Âè£Á≠â„ÄÇ RTCÈ©±Âä®ÔºöÁâπÂÆöRTCËÆæÂ§áÁöÑÈ©±Âä®Á®ãÂ∫èÔºåÂÆûÁé∞RTCÊ†∏ÂøÉÂ±ÇÁöÑÂõûÊéâÂáΩÊï∞„ÄÇÁºñÂÜôRTCÈ©±Âä®ÈúÄË¶ÅÊåâÁÖßRTCÂ≠êÁ≥ªÁªüÁöÑÊé•Âè£Â°´ÂÜôÂØπÂ∫îÂáΩÊï∞Âπ∂Âª∫Á´ãÊò†Â∞ÑÂç≥ÂèØ„ÄÇRTCÊ†∏ÂøÉÂ±ÇÂáΩÊï∞ÂÆûÁé∞ÁöÑËøáÁ®ãÂíåÊï∞Èáè‰∏éÁâπÂÆöÁ°¨‰ª∂Á¥ßÂØÜÁõ∏ÂÖ≥„ÄÇ ÂàùÁúãlinuxÁ≥ªÁªüÁöÑ‰∫∫Êù•ËØ¥ÔºåËøô‰∏™ÂõæÂ§üÂ§¥ÊôïÁöÑ‰∫ÜÔºå‰ΩÜÊòØÂë¢ÔºåÂÆûÈôÖ‰∏äÊ≤°ÈÇ£‰πàÈ∫ªÁÉ¶„ÄÇÁî±ÊµÖÂÖ•Ê∑±Ôºå‰∏ÄÁÇπ‰∏ÄÁÇπÊù•ÂàÜÊûê„ÄÇ rtcÂ≠êÁ≥ªÁªüÂàÜÊûêrtc-dev rtcÂ≠êÁ≥ªÁªüÂü∫‰∫éÂ≠óÁ¨¶ËÆæÂ§áÔºåÂ≠óÁ¨¶ËÆæÂ§áÂØπÂ∫îÁöÑËÇØÂÆöÊòØrtc-dev.c‰∫ÜÔºåÊàë‰ª¨ÁöÑÂàÜÊûêÁî±rtc-devËµ∑Ê≠•„ÄÇ rtc-dev.c ÂÖ∏ÂûãÁöÑÂ≠óÁ¨¶ËÆæÂ§áÔºåÊ®°ÂùóÁöÑÂàùÂßãÂåñ/Âç∏ËΩΩËá™ÁÑ∂ÊòØ rtc_dev_init(void) Âíå rtc_dev_exit(void)„ÄÇËÆæÂ§áÊé•ÂÖ•ÔºåÊ∑ªÂä†/Âà†Èô§ËÆæÂ§á rtc_dev_add_device(struct rtc_device rtc) Âíå e) void rtc_dev_del_device(struct rtc_device rtc)ËøòÊúâioctlÂíåopenÁ≠âÂáΩÊï∞ÔºåÁÜüÊÇâÂ≠óÁ¨¶ËÆæÂ§áÈ©±Âä®ÁöÑ‰∏çÁî®Â§öËØ¥„ÄÇ ËøΩË∏™‰∏Ä‰∏ãËøô‰∏§ÁªÑÂáΩÊï∞Âú®Âì™ÈáåË∞ÉÁî®ÁöÑ„ÄÇ rtc_dev_init(void)ÂØπÂ∫îÂú® class.cÁöÑrtc_init(void)ÂáΩÊï∞ rtc_dev_add_deviceÂØπÂ∫îÂú®class.cÁöÑ rtc_device_register()ÂáΩÊï∞„ÄÇ rtc_dev_init(void)ÂØπÂ∫îÂÆûÂú®Á≥ªÁªüÂàùÂßãÂåñÊó∂‰ΩøÁî®ÔºåÂØπÂ∫îrtc_init(void)‰πüÊòØÂú®Á≥ªÁªüÂàùÂßãÂåñ‰πãÂêéË∞ÉÁî®„ÄÇ rtc_dev_add_device()ÊòØÂú®È©±Âä®ÂåπÈÖçÂêéË∞ÉÁî®Ôºårtc_device_register()‰πüÊòØÂú®È©±Âä®ÂåπÈÖçÂêéË∞ÉÁî®„ÄÇÊâìÂºÄrtc-ds1307.c&gt;-probÂáΩÊï∞ÔºåËÉΩÊâæÂà∞rtc_device_register()‰πüÂ∞±ËØÅÂÆû‰∫ÜËøô‰∏™ÊÄùË∑Ø„ÄÇ Êé•‰∏ãÊù•ËΩ¨ÂÖ•class.c class.c linuxÈ©±Âä®Ê®°Âûã‰∏≠class.cÂØπÂ∫îÁ±ªÁöÑÊÑèÊÄùÔºåÊòØrtcÁ±ª„ÄÇÊØè‰∏™classÂØπÂ∫îÈÉΩÊúâËá™Â∑±Ê†∏ÂøÉÊï∞ÊçÆÁªìÊûúÔºåÂØπÂ∫îrtcÁ±ªÂ∞±ÊòØrtc-device rtc_device rtc_device‰ª£Ë°® RTCËÆæÂ§áÂü∫Á°ÄÁöÑÊï∞ÊçÆÁªìÊûÑ Êï∞ÊçÆÁªìÊûÑ12345678910111213141516171819202122232425262728 struct rtc_device &#123; struct device dev; struct module *owner; int id; //RTCËÆæÂ§áÁöÑÊ¨°ËÆæÂ§áÂè∑ char name[RTC_DEVICE_NAME_SIZE]; const struct rtc_class_ops *ops; struct mutex ops_lock; struct cdev char_dev; unsigned long flags; unsigned long irq_data; spinlock_t irq_lock; wait_queue_head_t irq_queue; struct fasync_struct *async_queue; struct rtc_task *irq_task; spinlock_t irq_task_lock; int irq_freq; int max_user_freq; #ifdef CONFIG_RTC_INTF_DEV_UIE_EMUL struct work_struct uie_task; struct timer_list uie_timer; /* Those fields are protected by rtc-&gt;irq_lock */ unsigned int oldsecs; unsigned int uie_irq_active:1; unsigned int stop_uie_polling:1; unsigned int uie_task_active:1; unsigned int uie_timer_active:1; #endif &#125;; ÂæàÈïøÔºüÂæàüòµÂØπ‰∏çÂØπÔºüÂè™Ë¶ÅÂÖ≥Ê≥®‰∏ÄÁÇπÂ∞±Ë°å_ 1234567int id; //‰ª£Ë°®ÊòØÈÇ£‰∏™rtcËÆæÂ§á char name[RTC_DEVICE_NAME_SIZE]; //‰ª£Ë°®rtcËÆæÂ§áÁöÑÂêçÁß∞ const struct rtc_class_ops *ops; //rtcÊìç‰ΩúÂáΩÊï∞ÈõÜÔºåÈúÄË¶ÅÈ©±Âä®ÂÆûÁé∞ struct mutex ops_lock; //Êìç‰ΩúÂáΩÊï∞ÈõÜÁöÑ‰∫íÊñ•ÈîÅ struct cdev char_dev; //‰ª£Ë°®rtcÂ≠óÁ¨¶ËÆæÂ§áÔºåÂõ†‰∏∫rtcÂ∞±ÊòØ‰∏™Â≠óÁ¨¶ËÆæÂ§á unsigned long flags; //rtcÁöÑÁä∂ÊÄÅÊ†áÂøóÔºå‰æãÂ¶ÇRTC_DEV_BUSY ‰∏äÊñá‰π¶ËØ¥Âà∞ÔºåÈ©±Âä®Á®ãÂ∫èÁöÑprobÂáΩÊï∞ÈáåÈù¢Ë∞ÉÁî®‰∫Ürtc_device_register()ËøôË¥ßÁöÑÁ±ªÂûãÂ∞±ÊòØrtc_device„ÄÇÂèÇÂä†È©±Âä®Á®ãÂ∫èÊÄéÊ†∑Ë∞ÉÁî®rtc_deviceregister(),‰∏éÂÖ∂‰ªñÊ†∏ÂøÉÁöÑÂü∫Êú¨ÁªìÊûÑ‰∏çÂêåÁöÑÊòØÔºåÈ©±Âä®Á®ãÂ∫è‰ª•‰∏çÊòØ‰ª•rtc-device‰∏∫ÂèÇÊï∞Ê≥®ÂÜåËÆæÂ§áÂà∞Â≠êÁ≥ªÁªüÔºåËÄåÊòØÊ≥®ÂÜåÂáΩÊï∞‰ºöËøîÂõû‰∏Ä‰∏™rtcdeivceÁöÑÁªìÊûÑÁªôÈ©±Âä®„ÄÇ rtc_class_ops Ëøô‰∏™ÊòØrtcdeviceÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ Êï∞ÊçÆÁªìÊûÑ 12345678910111213141516 struct rtc_class_ops &#123; int (*open)(struct device *); //ÊâìÂºÄËÆæÂ§áÊó∂ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Â∫îËØ•ÂàùÂßãÂåñÁ°¨‰ª∂Âπ∂Áî≥ËØ∑ËµÑÊ∫ê void (*release)(struct device *); //Ëøô‰∏™ÂáΩÊï∞ÊòØËÆæÂ§áÂÖ≥Èó≠Êó∂Ë¢´Ë∞ÉÁî®ÁöÑÔºåÂ∫îËØ•Ê≥®ÈîÄÁî≥ËØ∑ÁöÑËµÑÊ∫ê int (*ioctl)(struct device *, unsigned int, unsigned long); //ioctlÂáΩÊï∞ÔºåÂØπÊÉ≥ËÆ©RTCËá™Â∑±ÂÆûÁé∞ÁöÑÂëΩ‰ª§Â∫îËøîÂõûENOIOCTLCMD int (*read_time)(struct device *, struct rtc_time *); //ËØªÂèñÊó∂Èó¥ int (*set_time)(struct device *, struct rtc_time *); //ËÆæÁΩÆÊó∂Èó¥ int (*read_alarm)(struct device *, struct rtc_wkalrm *); //ËØªÂèñ‰∏ã‰∏ÄÊ¨°ÂÆöÊó∂‰∏≠Êñ≠ÁöÑÊó∂Èó¥ int (*set_alarm)(struct device *, struct rtc_wkalrm *); //ËÆæÁΩÆ‰∏ã‰∏ÄÊ¨°ÂÆöÊó∂‰∏≠Êñ≠ÁöÑÊó∂Èó¥ int (*proc)(struct device *, struct seq_file *); //procfsÊé•Âè£ int (*set_mmss)(struct device *, unsigned long secs); //Â∞Ü‰º†ÂÖ•ÁöÑÂèÇÊï∞secsËΩ¨Êç¢‰∏∫struct rtc_timeÁÑ∂ÂêéË∞ÉÁî®set_timeÂáΩÊï∞„ÄÇÁ®ãÂ∫èÂëòÂèØ‰ª•‰∏çÂÆûÁé∞Ëøô‰∏™ÂáΩÊï∞Ôºå‰ΩÜ ÂâçÊèêÊòØÂÆö‰πâÂ•Ω‰∫Üread_time/set_timeÔºåÂõ†‰∏∫RTCÊ°ÜÊû∂ÈúÄË¶ÅÁî®Ëøô‰∏§‰∏™ÂáΩÊï∞Êù•ÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩ„ÄÇ int (*irq_set_state)(struct device *, int enabled); //Âë®ÊúüÈááÊ†∑‰∏≠Êñ≠ÁöÑÂºÄÂÖ≥ÔºåÊ†πÊçÆenabledÁöÑÂÄºÊù•ËÆæÁΩÆ int (*irq_set_freq)(struct device *, int freq); //ËÆæÁΩÆÂë®Êúü‰∏≠Êñ≠ÁöÑÈ¢ëÁéá int (*read_callback)(struct device *, int data); ///Áî®Êà∑Á©∫Èó¥Ëé∑ÂæóÊï∞ÊçÆÂêé‰ºö‰º†ÂÖ•ËØªÂèñÁöÑÊï∞ÊçÆÔºåÂπ∂Áî®Ëøô‰∏™ÂáΩÊï∞ËøîÂõûÁöÑÊï∞ÊçÆÊõ¥Êñ∞Êï∞ÊçÆ„ÄÇ int (*alarm_irq_enable)(struct device *, unsigned int enabled); //alarm‰∏≠Êñ≠‰ΩøËÉΩÂºÄÂÖ≥ÔºåÊ†πÊçÆenabledÁöÑÂÄºÊù•ËÆæÁΩÆ int (*update_irq_enable)(struct device *, unsigned int enabled); //Êõ¥Êñ∞‰∏≠Êñ≠‰ΩøËÉΩÂºÄÂÖ≥ÔºåÊ†πÊçÆenabledÁöÑÂÄºÊù•ËÆæÁΩÆ &#125;; ËØ•ÁªìÊûÑ‰Ωì‰∏≠ÂáΩÊï∞Â§ßÂ§öÊï∞ÈÉΩÊòØÂíårtcËäØÁâáÁöÑÊìç‰ΩúÊúâÂÖ≥ÔºåÈúÄË¶ÅÈ©±Âä®Á®ãÂ∫èÂÆûÁé∞„ÄÇÊâÄÊúâRTCÈ©±Âä®ÈÉΩÂøÖÈ°ªÂÆûÁé∞read_time„ÄÅset_timeÂáΩÊï∞ÔºåÂÖ∂‰ªñÂáΩÊï∞ÂèØÈÄâ„ÄÇ ÂèÇËÄÉÂÖ∂‰ªñÁöÑËµÑÊñôÔºåclassÁöÑÂàÜÊûêÂ¶Ç‰∏ã static int __init rtc_init(void) Ë∞ÉÁî®class_createÂàõÂª∫RTCÁ±ªÔºåÂàõÂª∫/sys/class/rtcÁõÆÂΩïÔºåÂàùÂßãÂåñRTCÁ±ªÁõ∏ÂÖ≥ÊàêÂëòÔºåÂêëÁî®Êà∑Á©∫Èó¥Êèê‰æõËÆæÂ§á‰ø°ÊÅØ„ÄÇ Ë∞ÉÁî®rtc-dev.cÂÆûÁé∞ÁöÑrtc_dev_init();Âä®ÊÄÅÂàÜÈÖçRTCÂ≠óÁ¨¶ËÆæÂ§áÁöÑËÆæÂ§áÂè∑„ÄÇ Ë∞ÉÁî®rtc_sysfs_init(rtcclass)ÔºõÂàõÂª∫/sys/class/rtc‰∏ãÂ±ûÊÄßÊñá‰ª∂ static void __exit rtcexit(void) Ë∞ÉÁî®rtc-dev.cÂÆûÁé∞ÁöÑrtc_dev_exit()ÔºõÊ≥®ÈîÄËÆæÂ§áÂè∑„ÄÇ Ë∞ÉÁî®class_destroy(rtc_class)ÔºõÊ≥®ÈîÄ/sys/class‰∏ãÁöÑrtcÁõÆÂΩï struct rtc_device rtc_device_register(const char name, struct device dev,const struct rtc_class_ops ops,struct module *ownerÔºâ_ Áî≥ËØ∑‰∏Ä‰∏™idrÊï¥Êï∞IDÁÆ°ÁêÜÊú∫Âà∂ÁªìÊûÑ‰ΩìÔºåÂπ∂‰∏îÂàùÂßãÂåñÁõ∏ÂÖ≥ÊàêÂëò Â∞ÜËÆæÂ§ádevÂÖ≥ËÅîsysfs‰∏ãÁöÑrtcÁ±ª ÂàùÂßãÂåñrtcÁªìÊûÑ‰ΩìÁöÑ‰ø°Âè∑Èáè ÂàùÂßãÂåñrtcÁªìÊûÑ‰Ωì‰∏≠ÁöÑ‰∏≠Êñ≠ ËÆæÁΩÆrtcÁöÑÂêçÂ≠ó ÂàùÂßãÂåñrtcÂ≠óÁ¨¶ËÆæÂ§áÁöÑËÆæÂ§áÂè∑ÔºåÁÑ∂ÂêéÊ≥®ÂÜårtcËÆæÂ§á,Ëá™Âä®ÂàõÂª∫/dev/rtc(n)ËÆæÂ§áËäÇÁÇπÊñá‰ª∂ Ê≥®ÂÜåÂ≠óÁ¨¶ËÆæÂ§á Âú®/sys/rtc/ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™ÈóπÈíüÂ±ûÊÄßÊñá‰ª∂ ÂàõÂª∫/proc/driver/rtcÁõÆÂΩï void rtc_device_unregister(struct rtc_device *rtc) Âà†Èô§sysfs‰∏≠ÁöÑrtcËÆæÂ§á,Âç≥Âà†Èô§/sys/class/rtcÁõÆÂΩï Âà†Èô§dev‰∏ãÁöÑ/dev/rtc(n)ËÆæÂ§áËäÇÁÇπÊñá‰ª∂ Âà†Èô§ËôöÊãüÊñá‰ª∂Á≥ªÁªüÊé•Âè£,Âç≥Âà†Èô§/proc/driver/rtcÁõÆÂΩï Âç∏ËΩΩÂ≠óÁ¨¶ËÆæÂ§á Ê∏ÖÁ©∫rtcÁöÑÊìç‰ΩúÂáΩÊï∞ÊåáÈíàrtc-&gt;ops ÈáäÊîærtcÁöÑdeviceÁªìÊûÑ‰Ωì_ static void rtc_device_release(struct device dev) Âç∏ËΩΩidrÊï∞Â≠óÁÆ°ÁêÜÊú∫Âà∂ÁªìÊûÑ‰Ωì ÈáäÊîærtcÁªìÊûÑ‰ΩìÁöÑÂÜÖÂ≠ò RtcÂ≠êÁ≥ªÁªüÂàùÂßãÂåñ ‰∏äÂõæ ‰ΩøÁî®rtcÂ≠êÁ≥ªÁªüÈ¶ñÂÖàÈúÄË¶ÅÂú®ÂÜÖÊ†∏ÁºñËØëÈÄâÈ°π‰∏≠ÂêØÁî®RTCÂ≠êÁ≥ªÁªüÊîØÊåÅ„ÄÇ ÂøÖÈ°ªÂêØÁî®Real Time Clock ‰ΩøÁî®/dev‰∏ãÁöÑËÆæÂ§áÊñá‰ª∂ÂØπÂ∫îÂºÄÂêØCONFIG_RTC_INTF_DEV ‰ΩøÁî®/proc‰∏ãÁöÑÊé•Âè£ÂØπÂ∫îÂºÄÂêØCONFIG_RTC_INTF_PROC ‰ΩøÁî®/sysfs‰∏ãÁöÑÊé•Âè£ÂØπÂ∫îÂºÄÂêØCONFIG_RTC_INTF_SYSFS _Á≥ªÁªüÂêØÂä®ÂêéÔºåÂ¶ÇÈÖçÁΩÆÂêØÁî®rtcÂ≠êÁ≥ªÁªüÔºåÂàô‰ºöÈ¶ñÂÖàÊâßË°årtcinitÂáΩÊï∞ÔºåÂàõÂª∫rtcÁ±ª„ÄÅÂàùÂßãÂåñÁõ∏ÂÖ≥ÊàêÂëò„ÄÅÂàÜÈÖçËÆæÂ§áÂè∑Á≠â ÂàõÂª∫rtcÁ±ªÂêéÔºå‰πãÂêéË∞ÉÁî®rtc_dev_init()Âä®ÊÄÅÂàÜÈÖçrtcÂ≠óÁ¨¶ËÆæÂ§áÁöÑËÆæÂ§áÂè∑„ÄÇ‰πãÂêéË∞ÉÁî®rtc_sysfs_init()ÂàùÂßãÂåñ/sys/class/rtcÁõÆÂΩï‰∏≠ÁöÑÂ±ûÊÄßÊñá‰ª∂ RtcËÆæÂ§áÊ≥®ÂÜå RtcËÆæÂ§áÊú¨Ë¥®‰∏äÂ±û‰∫éÂ≠óÁ¨¶ËÆæÂ§áÔºå‰æùÈôÑ‰∫éÁ≥ªÁªüÂÜÖÊÄªÁ∫ø„ÄÇ‰∏ÄËà¨Êù•ËØ¥cpuÂÜÖÈÉ®rtc‰æùÈôÑ‰∫éplatformÊÄªÁ∫øÔºåÂ§ñÁΩÆrtcËäØÁâáÂàô‰æùÈôÑ‰∫éÈÄö‰ø°ÊñπÂºèÂØπÂ∫îÊÄªÁ∫ø„ÄÇÂÖ∂ËøáÁ®ã‰∏éÈÄöÁî®Â≠óÁ¨¶ËÆæÂ§áÁõ∏‰ººÔºårtcÂ≠êÁ≥ªÁªüÂú®ËÆæÂ§áÊ≥®ÂÜåËøáÁ®ã‰∏≠ÈôÑÂä†‰∫ÜprobÂíåsysfsÁõ∏ÂÖ≥ÁöÑÊ≥®ÂÜåÂíåÂàùÂßãÂåñÊìç‰Ωú„ÄÇ ‰∏äÂõæ RtcËÆæÂ§áÊåÇËΩΩÂêéÔºåÁõ∏Â∫îÊÄªÁ∫ø‰ºöÊêúÁ¥¢ÂåπÈÖçÁöÑÈ©±Âä®Á®ãÂ∫èÔºåÈ©±Âä®Á®ãÂ∫èÊàêÂäümatchÂêéÔºåËøõÂÖ•È©±Âä®ÂÆûÁé∞ÁöÑprobeÂáΩÊï∞ÔºåÊâßË°åËÆæÂ§áÊ≥®ÂÜåÁ≠âÊìç‰Ωú„ÄÇ ÂÆåÊàêÊÄªÁ∫øËÆæÂ§áÊ≥®ÂÜåÂêéÔºåprobe‰ºöË∑≥ËΩ¨Âà∞rtc_device_register()ÂáΩÊï∞ÔºåÂ∞ÜËÆæÂ§áÊ≥®ÂÜåÂà∞rtcÂ≠êÁ≥ªÁªü„ÄÇ RtcËÆæÂ§áÊú¨Ë¥®Â±û‰∫éÂ≠óÁ¨¶ËÆæÂ§áÔºå‰ºöË∞ÉÁî®rtc_dev_prepare()ÂáΩÊï∞ÔºåÂàùÂßãÂåñÂ≠óÁ¨¶ËÆæÂ§áÔºåËÆæÁΩÆrtcÁõ∏ÂÖ≥ÁöÑfile operationÂáΩÊï∞ÈõÜÂêà„ÄÇ ‰πãÂêé‰æùÊ¨°Ë∞ÉÁî®rtc_dev_add_device(rtc)„ÄÅrtc_sysfs_add_device(rtc)„ÄÅrtc_proc_add_device(rtc) ÔºåËøõË°åÊ≥®ÂÜåÂ≠óÁ¨¶ËÆæÂ§á„ÄÅÂú®/sys/rtc/ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™ÈóπÈíüÂ±ûÊÄßÊñá‰ª∂„ÄÅÂàõÂª∫/proc/driver/rtcÁõÆÂΩïÁ≠âÊìç‰Ωú„ÄÇ rtc_device_register()‰ºöÂ∞ÜÈ©±Âä®ÂÆûÁé∞ÁöÑrtc_class_opsÁªìÊûÑ‰Ωì‰∏éÂÖ∑‰ΩìËÆæÂ§áËÅîÁ≥ªËµ∑Êù•„ÄÇ interface.c Âú®rtc-proc.c„ÄÅrtc_sysfsÂíåioctlÂëΩ‰ª§‰∏≠ÔºåÊâÄÊúâÁöÑÊìç‰ΩúË∞ÉÁî®ÁöÑÈÉΩÊòØinterface.cÊèê‰æõÁöÑÊé•Âè£ÔºåËøôÈáå‰ª•ioctlÁöÑ‰∏Ä‰∏™‰æãÂ≠êËØ¥ÊòéÊï¥‰∏™Ë∞ÉÁî®ÁöÑËøáÁ®ã ‰∏äÂõæ ‰ª•icotlÂëΩ‰ª§RTC_RD_TIME‰∏∫‰æãÔºåËØ¥ÊòéÂëΩ‰ª§Ë∞ÉÁî®ÁöÑÊµÅÁ®ã„ÄÇ RTC_RD_TIMEÂØπÂ∫îÁöÑÊòØ/dev‰∏ãioctlÂëΩ‰ª§ÔºåË∞ÉÁî®Ë¢´ËΩ¨ÂèëËá≥/rtc-dev.c rtc-dev.c-&gt;rtc_dev_ioctl(struct file *file,unsigned int cmd, unsigned long arg)ÂáΩÊï∞‰∏≠„ÄÇRTC_RD_TIMEÂØπÂ∫îÁöÑ‰ª£Á†Å‰∏∫err = rtc_read_time(rtc, &amp;tm); rtc_read_timeÊòØinterface.cÊñá‰ª∂Êèê‰æõÁöÑÊé•Âè£‰πã‰∏Ä„ÄÇ interface.c-&gt;rtc_read_time(struct rtc_device rtc, struct rtc_time tm)ÂáΩÊï∞‰∏≠ÂØπÂ∫îrtc_class_opsËΩ¨Âèë‰ª£Á†Å‰∏∫err = rtc-&gt;ops-&gt;read_time(rtc-&gt;dev.parent, tm);Â∞ÜÊìç‰ΩúËΩ¨ÂèëËá≥ÂåπÈÖçÁöÑrtcËÆæÂ§á„ÄÇ ËÆæÂ§áÈ©±Âä®ËøôÈáå‰ª•rtc-ds1307‰∏∫‰æãÔºå‰ΩÜËÆæÂ§áÊ≥®ÂÜåÊó∂ÈÄöËøámcp794xx_rtc_opsÁªìÊûÑ‰ΩìÂ∞Ürtc_class_opsÂØπÂ∫îÂáΩÊï∞‰∏éÈ©±Âä®Á®ãÂ∫èÂÆûÁé∞ÁöÑÂáΩÊï∞ÁªëÂÆö 1234567static const struct rtc_class_ops mcp794xx_rtc_ops = &#123;.read_time = ds1307_get_time,.set_time = ds1307_set_time,.read_alarm = mcp794xx_read_alarm,.set_alarm = mcp794xx_set_alarm,.alarm_irq_enable = mcp794xx_alarm_irq_enable,&#125;; ÊúÄÁªàÊâßË°åËΩ¨ÂÖ•ds1307.c-&gt; ds1307_get_timeÂáΩÊï∞ÔºåÊâßË°å‰∏éÁ°¨‰ª∂Áõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ rtc-sysfs.c Áî±ÂâçÂçäÈÉ®ÂàÜÂèØÁü•Ôºå/sys/class/rtc/ÊòØÂú®rtc-initË∞ÉÁî®rtc_sysfs_initÂêéÁîüÊàê„ÄÇ 123void __init rtc_sysfs_init(struct class *rtc_class) &#123; rtc_class-&gt;dev_groups = rtc_groups;&#125; ËøôÈáåÁöÑrtc_groupsÊòØrtc-sysfs.c‰∏≠ÂÆö‰πâ‰∫ÜËøôÊ†∑‰∏Ä‰∏™attributeÂáΩÊï∞ÊåáÈíàÊï∞ÁªÑÔºö 12345678910static struct attribute *rtc_attrs[] = &#123;&amp;dev_attr_name.attr,&amp;dev_attr_date.attr,&amp;dev_attr_time.attr,&amp;dev_attr_since_epoch.attr,&amp;dev_attr_max_user_freq.attr,&amp;dev_attr_hctosys.attr,NULL,&#125;;ATTRIBUTE_GROUPS(rtc); _Âú®rtc_sysfs_initÂáΩÊï∞Ë∞ÉÁî®ÂêéÁªëÂÆö‰∫ÜsysfsËäÇÁÇπÊìç‰ΩúÂáΩÊï∞ÁöÑÈõÜÂêàÔºå‰ΩøÂæóËÆæÂ§áÂåπÈÖçÈ©±Âä®Á®ãÂ∫èÂêéËÄåÁîüÊàêÂØπÂ∫îÁöÑrtcnÊñá‰ª∂Â§π„ÄÇ dev_attr_nameÂíådev_attr_dataÁî±ÂÆèDEVICE_ATTR_ROÂíåDEVICE_ATTR_RWÁîüÊàêÔºå‰ªñ‰ª¨ÂàÜÂà´ÂÆö‰πâ‰∫ÜÂè™ËØªÁöÑÂíåÂèØËØªÂèØÂÜôÁöÑattributeËäÇÁÇπ„ÄÇÊØè‰∏™Â±ûÊÄßÂáΩÊï∞‰∏ãÈÉΩÊúâDEVICE_ATTR_XX()ÂÆèÂ£∞ÊòéÔºåÁªëÂÆöÂà∞ÂØπÂ∫îattributeËäÇÁÇπ„ÄÇ rtc-proc.c procÊñá‰ª∂Á≥ªÁªüÊòØËΩØ‰ª∂ÂàõÂª∫ÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÂÜÖÊ†∏ÈÄöËøá‰ªñÂêëÂ§ñÁïåÂØºÂá∫‰ø°ÊÅØÔºå‰∏ãÈù¢ÁöÑÊØè‰∏Ä‰∏™Êñá‰ª∂ÈÉΩÁªëÂÆö‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂΩìÁî®Êà∑ËØªÂèñËøô‰∏™Êñá‰ª∂ÁöÑÊó∂ÂÄôÔºåËøô‰∏™ÂáΩÊï∞‰ºöÂêëÊñá‰ª∂ÂÜôÂÖ•‰ø°ÊÅØ„ÄÇ rtc-proc.c‰∏≠ÂàùÂßãÂåñ‰∫Üfile_operationsÁªìÊûÑ‰ΩìÔºö 123456static const struct file_operations rtc_proc_fops = &#123; .open = rtc_proc_open, .read = seq_read, .llseek = seq_lseek, .release = rtc_proc_release, &#125;; _RTCÈ©±Âä®Âú®ÂêëRTCÊ†∏ÂøÉÊ≥®ÂÜåËá™Â∑±ÁöÑÊó∂ÂÄôÔºåÁî±Ê≥®ÂÜåÂáΩÊï∞rtc_device_resgisterË∞ÉÁî®rtc_proc_add_deviceÊù•ÂÆûÁé∞procÊé•Âè£ÁöÑÂàùÂßãÂåñÔºåËøô‰∏™ÂáΩÊï∞Â¶Ç‰∏ãÂÆö‰πâÔºö 12345void rtc_proc_add_device(struct rtc_device *rtc) &#123; if (rtc-&gt;id == 0) proc_create_data(&quot;driver/rtc&quot;, 0, NULL, &amp;rtc_proc_fops, rtc); &#125; ‰∏ªË¶ÅÊòØÂÆåÊàêÂàõÂª∫Êñá‰ª∂ËäÇÁÇπÔºåÂπ∂Â∞ÜÊñá‰ª∂ÁöÑÊìç‰ΩúÂáΩÊï∞‰∏éËäÇÁÇπËÅîÁ≥ªËµ∑Êù•„ÄÇË∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ÂêéÔºåÂú®/proc/driverÁõÆÂΩï‰∏ãÂ∞±‰ºöÊúâ‰∏Ä‰∏™Êñá‰ª∂rtc rtcËÆæÂ§áËÆøÈóÆ rtcÂ≠êÁ≥ªÁªüÊúÄÂ§öÂèØ‰ª•ÊîØÊåÅ16‰∏™rtcËÆæÂ§áÔºåÂ§ö‰∏™rtcËÆæÂ§á‰ºöÂú®/dev/Âíå /sys/class/rtc/‰∏ãÁîüÊàêrtc0„ÄÅrtc1‚Ä¶Á≠â‰∏çÂêåËäÇÁÇπ(‰∏ãÊñá‰ª•rtcn‰ª£Áß∞)„ÄÇËÄåÁ≥ªÁªüÂêØÂä®Êó∂‰ºöÈÄâÊã©‰∏Ä‰∏™rtcËÆæÂ§áËØªÂèñËÆ°Êó∂ÔºåÂú®/dev‰∏ãÊúârtcÊñá‰ª∂ÔºårtcÊñá‰ª∂ÊåáÂêëÁ≥ªÁªüÈÄâÊã©ÁöÑrtcËÆæÂ§áÂØπÂ∫îÁöÑrtcnÔºà‰∏ÄËà¨‰∏∫rtc0Ôºâ„ÄÇ Áî®Êà∑Â±ÇËÆøÈóÆrtcËÆæÂ§áÊúâ3ÁßçÈÄîÂæÑÔºö /dev/rtcn openÁ≠âÂ≠óÁ¨¶ËÆæÂ§áÊìç‰ΩúÂíåioctlÂëΩ‰ª§„ÄÇ /sys/class/rtc/rtcn sysfs Â±ûÊÄßÔºå‰∏Ä‰∫õÂ±ûÊÄßÊòØÂè™ËØª„ÄÇ /proc/driver/rtc Á¨¨‰∏Ä‰∏™rtc‰ºöÂç†Áî®procfsÊé•Âè£ÔºåÂú®procfs‰∏ãÊö¥Èú≤Êõ¥Â§ö‰ø°ÊÅØ„ÄÇ /dev Âú®/dev‰∏ãÁî®Êà∑ÂèØ‰ª•ÈÄöËøá‰∏§ÁßçÊñπÂºèËÆøÈóÆrtcËÆæÂ§áÔºåÁ¨¨‰∏Ä‰∏™ÊòØÈÄöËøáÂ≠óÁ¨¶ËÆæÂ§áÂÆö‰πâÁöÑopen„ÄÅreadÁ≠âÂáΩÊï∞ÔºàÈúÄË¶ÅÈ©±Âä®Á®ãÂ∫èÂÆûÁé∞Ôºâ„ÄÅÂè¶‰∏Ä‰∏™ÊòØÈÄöËøáÂÆö‰πâÁöÑioctlÂëΩ‰ª§„ÄÇÁ¨¨‰∏ÄÁßçÊñπÂºèÊòØÁõ¥Êé•ÊâìÂºÄrtc-dev.cÂÆö‰πâÁöÑopenÁ≠âÂáΩÊï∞ÔºåÂú®openÁ≠â‰∏≠Áõ¥Êé•Ë∞ÉÁî®È©±Âä®Á®ãÂ∫èÂÆûÁé∞ÁöÑÂáΩÊï∞„ÄÇÈÄöËøáioctlÂëΩ‰ª§ËÆøÈóÆÂàôÊòØÂ∞ÜÊìç‰ΩúËΩ¨ÂèëÂà∞‰∫Üinterface.cÂÆö‰πâÁöÑÊé•Âè£ÔºåÈó¥Êé•Ë∞ÉÁî®È©±Âä®Á®ãÂ∫èÂÆûÁé∞ÁöÑÂáΩÊï∞„ÄÇ ioctl()ÂáΩÊï∞ËÆøÈóÆ/dev‰∏ãÁöÑËÆæÂ§á„ÄÇ‰ª•‰∏ãÊòØÂÖ∏ÂûãÂáΩÊï∞Ôºö_ ioctl(fd,RTC_ALM_SET, &amp;rtc_tm);ËÆæÁΩÆalarm‰∏≠Êñ≠ÁöÑËß¶ÂèëÊó∂ÂàªÔºå‰∏çË∂ÖËøá24Â∞èÊó∂„ÄÇÁ¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫structrtc_timeÁªìÊûÑ‰ΩìÔºåËØªÂèñÊó∂‰ºöÂøΩÁï•Âπ¥ÊúàÊó•‰ø°ÊÅØ„ÄÇalarm‰∏≠Êñ≠‰∏éwakeupalarm‰∏≠Êñ≠Âè™ËÉΩÂêåÊó∂‰ΩøÁî®1‰∏™Ôºå‰ª•ÊúÄÂêé‰∏ÄÊ¨°ËÆæÂÆö‰∏∫ÂáÜ„ÄÇ ioctl(fd,RTC_ALM_READ, &amp;rtc_tm)ËØªÂèñalarm‰∏≠Êñ≠ÁöÑËß¶ÂèëÊó∂Âàª„ÄÇ ioctl(fd,RTC_WKALM_SET, &amp;alarm);ËÆæÁΩÆwakeupalarm‰∏≠Êñ≠ÁöÑËß¶ÂèëÊó∂ÂàªÔºå wakeupalarm‰∏≠Êñ≠ÁöÑËß¶ÂèëÊó∂ÂàªÂèØ‰ª•Âú®Êú™Êù•ÁöÑ‰ªªÊÑèÊó∂Âàª„ÄÇalarm‰∏≠Êñ≠‰∏éwakeupalarm‰∏≠Êñ≠Âè™ËÉΩÂêåÊó∂‰ΩøÁî®1‰∏™Ôºå‰ª•ÊúÄÂêé‰∏ÄÊ¨°ËÆæÂÆö‰∏∫ÂáÜ„ÄÇ ioctl(fd,RTC_WKALM_RD, &amp;alarm);ËØªÂèñwakeupalarm‰∏≠Êñ≠ÁöÑËß¶ÂèëÊó∂Âàª„ÄÇ ioctl(fd,RTC_IRQP_SET, tmp);ËÆæÁΩÆÂë®Êúü‰∏≠Êñ≠ÁöÑÈ¢ëÁéáÔºåtmpÁöÑÂÄºÂøÖÈ°ªÊòØ2ÁöÑÂπÇÔºåÈùûRootÁî®Êà∑Êó†Ê≥ï‰ΩøÁî®64HZ‰ª•‰∏äÁöÑÂë®Êúü‰∏≠Êñ≠„ÄÇ ioctl(fd,RTC_IRQP_READ, &amp;tmp);ËØªÂèñÂë®Êúü‰∏≠Êñ≠ÁöÑÈ¢ëÁéá„ÄÇ ioctl(fd,RTC_SET_TIME, &amp;rtc_tm)Êõ¥Êñ∞RTCËäØÁâáÁöÑÂΩìÂâçÊó∂Èó¥„ÄÇ ioctl(fd,RTC_RD_TIME, &amp;rtc_tm);ËØªÂèñRTCÁ°¨‰ª∂‰∏≠ÁöÑÂΩìÂâçÊó∂Èó¥„ÄÇ ‰ª•openÊìç‰Ωú‰∏∫‰æãÔºåÂú®Áî®Êà∑Â±ÇÂØπ/dev‰∏ãËÆæÂ§áÊâßË°åopen‰ºöË¢´ËΩ¨ÂèëËá≥rtc_dev_open(struct inode *inode, struct file *file)ÂáΩÊï∞ÔºåÈÄöËøáerr= ops-&gt;open ? ops-&gt;open(rtc-&gt;dev.parent) : 0;Âà§Êñ≠È©±Âä®Á®ãÂ∫èÊòØÂê¶ÈÄöËøáËøûÊé•ÁöÑrtc_class_opsÁªìÊûÑ‰ΩìÂÆûÁé∞‰∫ÜopenÂáΩÊï∞ÔºåÈ©±Âä®Á®ãÂ∫èÂÆûÁé∞‰∫ÜopenÂáΩÊï∞ÔºåÂàôÂ∞ÜopenÊìç‰ΩúËΩ¨ÂèëËá≥È©±Âä®Á®ãÂ∫è„ÄÇ /sys /sys/class/rtc/rtcn‰∏ãÈù¢ÁöÑsysfsÊé•Âè£Êèê‰æõ‰∫ÜÊìç‰ΩúrtcÂ±ûÊÄßÁöÑÊñπÊ≥ïÔºåÊâÄÊúâÁöÑÊó•ÊúüÊó∂Èó¥ÈÉΩÊòØÂ¢ô‰∏äÊó∂Èó¥ÔºåËÄå‰∏çÊòØÁ≥ªÁªüÊó∂Èó¥„ÄÇ date: RTCÊèê‰æõÁöÑÊó•Êúü hctosys: Â¶ÇÊûúÂú®ÂÜÖÊ†∏ÈÖçÁΩÆÈÄâÈ°π‰∏≠ÈÖçÁΩÆ‰∫ÜCONFIG_RTC_HCTOSYSÔºåRTC‰ºöÂú®Á≥ªÁªüÂêØÂä®ÁöÑÊó∂ÂÄôÊèê‰æõÁ≥ªÁªüÊó∂Èó¥ÔºåËøôÁßçÊÉÖÂÜµ‰∏ãËøô‰∏™‰ΩçÂ∞±ÊòØ1,Âê¶Âàô‰∏∫0 max_user_freq: ÈùûÁâπÊùÉÁî®Êà∑ÂèØ‰ª•‰ªéRTCÂæóÂà∞ÁöÑÊúÄÂ§ß‰∏≠Êñ≠È¢ë name: RTCÁöÑÂêçÂ≠óÔºå‰∏ésysfsÁõÆÂΩïÁõ∏ÂÖ≥ since_epoch: ‰ªéÁ∫™ÂÖÉÂºÄÂßãÊâÄÁªèÂéÜÁöÑÁßíÊï∞ time: RTCÊèê‰æõÁöÑÊó∂Èó¥ wakealarm: Âî§ÈÜíÊó∂Èó¥ÁöÑÊó∂Èó¥‰∫ã‰ª∂„ÄÇ ËøôÊòØ‰∏ÄÁßçÂçïÊ¨°ÁöÑÂî§ÈÜí‰∫ã‰ª∂ÔºåÊâÄ‰ª•Â¶ÇÊûúËøòÈúÄË¶ÅÂî§ÈÜíÔºåÂú®Âî§ÈÜíÂèëÁîüÂêéÂøÖÈ°ªÂ§ç‰Ωç„ÄÇËøô‰∏™ÂüüÁöÑÊï∞ÊçÆÁªìÊûÑÊàñËÄÖÊòØ‰ªéÁ∫™ÂÖÉÂºÄÂßãÁªèÂéÜÁöÑÂ¶ôÊï∞ÔºåÊàñËÄÖÊòØÁõ∏ÂØπÁöÑÁßíÊï∞ /proc /proc/driver/rtc‰∏ãÂè™ÂØπÂ∫îÁ¨¨‰∏Ä‰∏™rtcËÆæÂ§áÔºå‰∏ésysfs‰∏ãÁõ∏ÊØîÔºåËØ•ËÆæÂ§áÊö¥Èú≤Êõ¥Â§ö‰ø°ÊÅØ ÂØπÂ∫îÊà™Âõæ RTCÂ≠êÁ≥ªÁªüÊµãËØïHwclockÂëΩ‰ª§Êàñ‰ΩøÁî®ÊµãËØïÊñá‰ª∂„ÄÇ HwclockÂëΩ‰ª§ÂèØ‰ª•ÊâßË°åÊúÄÁÆÄÂçïÁöÑRTCÊµãËØï„ÄÇÂ∏∏Áî®ÂëΩ‰ª§Á§∫‰æãÂ¶Ç‰∏ã hwclock #Êü•ÁúãRTCÊó∂Èó¥ hwclock -set -date=‚Äù07/07/17 10:10‚Äù #ËÆæÁΩÆÁ°¨‰ª∂RTCÊó∂Èó¥ÔºàÊúà/Êó•/Âπ¥ Êó∂:ÂàÜ:ÁßíÔºâ hwclock -w #Á≥ªÁªüÊó∂Èó¥ÂêåÊ≠•Ëá≥RTC hwclock -s #ÂêåÊ≠•RTCÂà∞Á≥ªÁªüÊó∂Èó¥ LinuxÂÜÖÊ†∏Êèê‰æõ‰∫ÜRTCÂ≠êÁ≥ªÁªüÁöÑÊµãËØïÁ§∫‰æãÊñá‰ª∂Ôºå‰Ωç‰∫étools/testing/selftests/timers/rtctest.cÔºåÂåÖÂê´‰∫ÜÂü∫‰∫éioctlÂëΩ‰ª§ÁöÑÂÆåÊï¥ÊµãËØï„ÄÇ]]></content>
      <categories>
        <category>LinuxÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>Linux</tag>
        <tag>rtc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÁ¨îËÆ∞‚Äî‚ÄîÊó∂Èó¥Â≠êÁ≥ªÁªüÔºà‰∏ÄÔºâ]]></title>
    <url>%2F2017%2F08%2F15%2Flinux%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E6%97%B6%E9%97%B4%E5%AD%90%E7%B3%BB%E7%BB%9F%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ss]]></content>
      <categories>
        <category>LinuxÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>Linux</tag>
        <tag>timer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÂÜÖÊ†∏CËØ≠Ë®Ä‰∏≠ÁöÑÈù¢ÂêëÂØπË±°]]></title>
    <url>%2F2017%2F07%2F11%2FLinux%E5%86%85%E6%A0%B8C%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[ËΩ¨ËΩΩËá™‚ÄùBlog of UnicornX‚Äù (http://unicornx.github.io/) Èù¢ÂêëÂØπË±°ÁöÑÊÄùÊÉ≥Âú®cËØ≠Ë®Ä‰∏≠ÁöÑÂ∫îÁî®ÔºåÁ¨¨‰∏ÄÊ¨°ÁúãÂà∞ÊâçÁü•ÈÅìcËØ≠Ë®ÄËøòËÉΩËøô‰πàÁî®„ÄÇ„ÄÇ„ÄÇ ÂâçË®Ä ËØ≠Ë®ÄÂè™ÊòØÂ∑•ÂÖ∑ÔºåÈáçË¶ÅÁöÑÊòØÊÄùÊÉ≥„ÄÇ‰ΩÜÊòØÔºÅÔºÅCËØ≠Ë®ÄÁî®Èù¢ÂêëÂØπË±°ÔºüÔºüÁúã‰∫ÜÂÜÖÊ†∏‰ª£Á†ÅÔºåÁúüÁªôÈÇ£‰∫õÂÜôLinux„ÄÅÂÜÖÊ†∏ÁöÑÂ§ßÁ•ûË∑™‰∫Ü„ÄÇ„ÄÇ„ÄÇ ÂΩìÁÑ∂Âõ†‰∏∫CËØ≠Ë®ÄÁöÑÂ±ÄÈôêÊÄßÔºåÂπ∂ÈùûÂÆåÂÖ®Èù¢ÂêëÂØπË±°ÁöÑÂÆûÁé∞ÔºåÁßÅÊúâÊàêÂëòÁ≠âÂ∞±Ê≤°Êúâ‰∫Ü„ÄÇ Â∞ÅË£Ö Êó¢Á±ªÂú®CËØ≠Ë®Ä‰∏≠ÁöÑÂÆûÁé∞ÔºåÂÆûÈôÖ‰∏äÊòØ struct + ÂáΩÊï∞‰Ωì = ÂáΩÊï∞Ë°®ÁªìÊûÑ‰ΩìÈáå‰∏çÂÖÅËÆ∏Â≠òÂú®ÊàêÂëòÂáΩÊï∞Ôºå‰ΩÜÊòØÊç¢ÊàêÊåáÂêëÂáΩÊï∞ÁöÑÊåáÈíàÊòØÂèØ‰ª•Êª¥„ÄÇ Á§∫‰æã12345struct foo_operations &#123; void (*op_a) (struct foo *, loff_t, int); void (*op_b) (struct foo *, char __user *, size_t, loff_t *); void (*op_c) (struct foo *, const char __user *, size_t, loff_t *); &#125;; ÁªßÊâø Ëøô‰∏™ÁÆÄÂçïÁÇπÔºå struct ÈáåÈù¢Â•ó struct ÔºåË≠¶ÂëäÁÜüÊÇâcËØ≠Ë®ÄÁöÑÂ∫îËØ•ÈÉΩÊ∏ÖÈô§„ÄÇ„ÄÇ„ÄÇËøôÈáåÊ≤°ÊúâÁà∂Á±ªÂ≠êÁ±ªÁöÑ‰∏•Ê†ºÂå∫ÂàÜÔºåÂÆûÈôÖ‰∏äÊòØÂÆåÂÖ®Ëá™Áî±ÁöÑ„ÄÇ Á§∫‰æã123456struct foo &#123; int a; int b; int c; struct foo_operations ops;&#125;; Â§öÊÄÅ Ëøô‰∏™ÊòØÊúÄÊúâÊÑèÊÄùÁöÑÔºåcËØ≠Ë®Ä‰∏≠‰∏•Ê†ºËßÑÂÆöÂêå‰∏Ä‰∏™.cÊñá‰ª∂/Â∑•Á®ã‰∏≠‰∏çËÉΩÂ≠òÂú®ÈáçÂêçÂáΩÊï∞Ôºå‰ΩÜÊòØcËØ≠Ë®ÄÁöÑÁ≤æÂçé-ÊåáÈíàÁªô‰∫ÜÊÄùË∑ØÔºåÂÄüÂä©ÁªìÊûÑ‰ΩìÔºåÊàëÂáΩÊï∞Âêç‰∏çÂèòÔºåÊØèÊåáÂêë‰∏çÂêåÁöÑÁªìÊûÑ‰ΩìÂèòÈáèÂ∞±Ë°å‰∫Ü„ÄÇ„ÄÇ„ÄÇËôΩÁÑ∂ËøòÊòØÂæàÈ∫ªÁÉ¶„ÄÇ„ÄÇ Á§∫‰æã123456struct foo a;a-&gt;ops = ops1;a-&gt;ops-&gt;op_a(a);//ÂàáÊç¢a-&gt;ops = ops2;a-&gt;ops-&gt;op_a(a); ÈìæË°® ÂÜÖÊ†∏ÂÜÖÂ§ßÈáèËøêÁî®ÈìæË°®ÔºåÂºÄÂßã‰∏çÊ∏ÖÊ•öÁúüÊòØÂ§¥Êôï„ÄÇ„ÄÇ Á§∫‰æã 123 struct list_head &#123;struct list_head *next, *prev; &#125;; ‰∏Ä‰∏™ÊåáÂêëËá™Ë∫´ÁöÑÁªìÊûÑ‰ΩìÔºåÂåÖÂê´‰∏ã‰∏Ä‰∏™‰∏éËá™Ë∫´ÁöÑÊåáÈíà„ÄÇ‰ΩøÁî® 1234struct A_LIST &#123; data_t data; struct list_head *list;&#125;; offsetofÂÆè 1#define offsetof(type, member) (size_t)&amp;(((type*)0)-&gt;member) offsetofÊòØÁî®Êù•Âà§Êñ≠ÁªìÊûÑ‰Ωì‰∏≠ÊàêÂëòÁöÑÂÅèÁßª‰ΩçÁΩÆ containerofÂÆè 123#define container_of(ptr, type, member) (&#123; \ const typeof( ((type *)0)-&gt;member ) *__mptr = (ptr); \ (type *)( (char *)__mptr - offsetof(type,member) );&#125;) Ê†πÊçÆ‰∏Ä‰∏™ÁªìÊûÑ‰ΩìÂèòÈáè‰∏≠ÁöÑ‰∏Ä‰∏™ÂüüÊàêÂëòÂèòÈáèÁöÑÊåáÈíàÊù•Ëé∑ÂèñÊåáÂêëÊï¥‰∏™ÁªìÊûÑ‰ΩìÂèòÈáèÁöÑÊåáÈíà..ÈìæË°®ÂÖÉÁ¥†Â∏∏Áî®]]></content>
      <categories>
        <category>LinuxÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>cËØ≠Ë®Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚Äî‰πêËÅîÁΩë‰∏ä‰º†Êï∞ÊçÆ TCPÈïøËøûÊé•ÊÄªÁªì]]></title>
    <url>%2F2017%2F06%2F11%2FAndroid%E7%AC%94%E8%AE%B0-%E4%B9%90%E8%81%94%E7%BD%91%E4%B8%8A%E4%BC%A0%E6%95%B0%E6%8D%AE%20TCP%E9%95%BF%E8%BF%9E%E6%8E%A5%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã ‰πêËÅîÁΩë ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ ÊØïËÆæ‰∏≠ÁöÑ‰πêËÅîÁΩëÈÉ®ÂàÜ,ËÆ∞ÂΩï‰ª•‰æõÂ§ç‰π† ÂºÄÊ∫êÂú®github‰∏ä https://github.com/Jasper-1024/HbuLeWei ÊúÄÁªàÊïàÊûú ‰ΩøÁî®okhttp‰∏ä‰º†Êï∞ÊçÆ„ÄÇ TcpÈïøËøûÊé•ÂÆûÁé∞ÊñπÂêëÊéßÂà∂ ‰ª•‰ª£Á†Å‰∏∫‰∏ª Áõ∏ÂÖ≥ÊïôÁ®ã okhttpÂÖ•Èó® http://blog.csdn.net/biezhihua/article/details/50603624 ‰πêËÅîÁΩë https://www.lewei50.com/dev/doc/176https://www.lewei50.com/dev/doc/155 TcpÈïøËøûÊé• http://ls15114843569.blog.51cto.com/11015399/1767195 ÁÆÄÊòì‰∏ä‰º† http://ls15114843569.blog.51cto.com/11015399/1767195 ‰∏ä‰º†Êï∞ÊçÆ API‰ªãÁªç https://www.lewei50.com/dev/apiinfo/3 APIÊµãËØï https://www.lewei50.com/dev/apitest/3 Âú∞ÂùÄÔºöhttp://www.lewei50.com/api/v1/gateway/updatesensors/‰Ω†ÁöÑÁΩëÂÖ≥Âè∑ POSTÊñπÂºè ÈúÄË¶ÅÈÖçÁΩÆheaderÂ§¥ Userkey Êï∞ÊçÆÂèëÈÄÅ/ËøîÂõûÊñπÂºèJSON 12345678910[ &#123; "Name":"T1", "Value":"1" &#125;, &#123; "Name":"01H1", "Value":"96.2" &#125;] ËøîÂõûÊ†ºÂºè 1234&#123; "Successful": true, "Message": null&#125; okhttp POST ‰º†ÊÑüÂô®Êï∞ÊçÆ ËøôÈáå‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÈùôÊÄÅÂÜÖÈÉ®Á±ª„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 //ËøîÂõûÊï∞ÊçÆÂ§ÑÁêÜ public okhttp3.Callback callback = new okhttp3.Callback() &#123; @Override public void onResponse(Call call, Response response) throws IOException &#123; //ËøîÂõûÊúçÂä°Âô®ÂÜÖÂÆπ String responsedata = response.body().string(); LogUtil.d("okHttp", responsedata); &#125; @Override public void onFailure(Call call, IOException e) &#123; //ÂºÇÂ∏∏Â§ÑÁêÜ LogUtil.d("okHttp", "POSTÈîôËØØ"); &#125; &#125;;//ÂÜÖÈÉ®Á±ª public static class Http &#123; public static final MediaType MEDIA_TYPE_MARKDOWN = MediaType.parse("text/x-markdown; charset=utf-8");//POSTÊï∞ÊçÆÔºåÊåáÂÆöÊé•Êî∂ÂõûÊéâ public static void postData(String sensor_name, String sensor_data, okhttp3.Callback callback) &#123; OkHttpClient client = new OkHttpClient(); final String value = "[" + " &#123;" + " \"Name\":\"" + sensor_name + "\"," + " \"Value\":\"" + sensor_data + "\"" + " &#125;" + "]"; RequestBody requestBody = new RequestBody() &#123; @Override public MediaType contentType() &#123; return MEDIA_TYPE_MARKDOWN; &#125; @Override public void writeTo(BufferedSink sink) throws IOException &#123; sink.write(value.getBytes()); &#125; &#125;; Request request = new Request.Builder() .url("http://www.lewei50.com/api/V1/gateway/UpdateSensors/01") .header("userkey", "‰Ω†ÁöÑuserkey") .post(requestBody) .build(); client.newCall(request).enqueue(callback); &#125; &#125; ÂÆûÈôÖ‰ΩøÁî® ÊîæÂú®‰∏Ä‰∏™ÂêéÂè∞ÊúçÂä°ÂÜÖÔºåË∞ÉÁî®Áõ∏ÂΩìÁÆÄÂçï1Http.postData("PM2.5", "‰Ω†ÁöÑÊï∞ÊçÆËΩ¨‰∏∫String", callback); TcpÈïøËøûÊé•ÔºåËøúÁ®ãÊéßÂà∂ È¶ñÂÖàÂèÇËÄÉ‰πêËÅîÁΩëÂèçÂêëÊéßÂà∂ÊïôÁ®ãÔºåÊñ∞Âª∫‰∏Ä‰∏™ÊéßÂà∂Âô®ÔºåËøôÈáå‰ª•ÂºÄÂÖ≥‰∏∫‰æã„ÄÇ ÂéüÁêÜÊòØ‰∏éÊúçÂä°Âô®‰øùÊåÅ‰∏Ä‰∏™TCPÈïøËøûÊé•Ôºå‰∏çÂà∞40sÂà∑Êñ∞‰∏ÄÊ¨°Ôºå‰ª•Ê≠§‰øùÊåÅÈÄöÈÅìÔºå‰∏éË¢´ÊéßÂà∂ÊÆµÈÄö‰ø°ÔºåÂèëÈÄÅÊéßÂà∂‰ø°ÊÅØ„ÄÇ TcpÈïøËøûÊé•ÂèÇËÄÉ‰∫Ü@Â¢®ËøπÊµÅÈü∂ÁöÑAndroidÂü∫‰∫éTcpÂçèËÆÆÁöÑSocketÈïøÈìæÊé•Â∞ÅË£Ö Âú∞ÂùÄ tcp.lewei50.comÁ´ØÂè£Âè∑ 9960ÂøÉË∑≥ÂåÖÈó¥Èöî 1min‰ª•ÂÜÖ ÂèëÈÄÅ/Êé•Êî∂Êï∞ÊçÆÊ†ºÂºè JsonÊú¨Âú∞ÂèëÈÄÅÊï∞ÊçÆÊ†ºÂºè 123456789&#123; "method": "update", "gatewayNo": "‰Ω†ÁöÑÁΩëÂÖ≥Âè∑", "userkey": "‰Ω†ÁöÑuserkey"&#125;&amp;^! ÊúçÂä°Âô®ÂèëÈÄÅÊéßÂà∂ÂëΩ‰ª§Ê†ºÂºèÔºåÊï∞ÊçÆÂ§ÑÁêÜÊó∂ÈúÄË¶ÅÂéªÊéâÂ≠óÁ¨¶‰∏≤ÊúÄÂêéÁöÑ&amp;^! 12345678910111213141516&#123;"method":"send","gatewayNo":"01","userkey":"6d16ddb3c58c4e448a7e15e7acxxxxxx","f":" updateSensor","p1":"D1","p2":"1"&#125;&amp;^! Êú¨Âú∞ÂìçÂ∫îÊéßÂà∂ÂëΩ‰ª§ÂêéËøîÂõûÊï∞ÊçÆÊ†ºÂºè 12345678910111213141516171819&#123;"method":"response","result":&#123; "successful":true, "message":"ok!", "data":[&#123; "id":"D1", "value":"1" &#125;, &#125;&amp;^! TCPËøûÊé•Á±ª 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166public class TcpSocketHelper &#123; private String mTag = "TcpSocketHelper"; private Socket socket; private boolean _connect; private ReceiveThread mReceiveThread; private boolean receiveStop; private Date lastKeepAliveOkTime; private OnRecivedListener mRecivedListener; //Âú∞ÂùÄ private String mIpAddr = "http://tcp.lewei50.com"; //Á´ØÂè£ private int mPort = 9960; /** * ÂºÄÂêØÈìæÊé•socket * @param ipAddr * @param port */ public void startConnect(String ipAddr, int port)&#123; LogUtil.d(mTag, "ÂáÜÂ§áÈìæÊé•..."); this.mIpAddr = ipAddr; this.mPort = port; InetAddress serverAddr; try &#123; socket = new Socket(ipAddr, port); LogUtil.d(mTag, "ÂáÜÂ§áÈìæÊé•..."); _connect = true; mReceiveThread = new ReceiveThread(); receiveStop = false; mReceiveThread.start(); LogUtil.d(mTag, "ÈìæÊé•ÊàêÂäü..."); &#125; catch (Exception e) &#123; LogUtil.d(mTag, "ÈìæÊé•Âá∫Èîô..." + e.getMessage()); e.printStackTrace(); &#125; &#125; /** * ÂÖ≥Èó≠ÈìæÊé• */ public void closeConnect()&#123; if (socket != null)&#123; try &#123; socket.close(); socket = null; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125; /** * ‰øùÊåÅÂøÉË∑≥ */ public void KeepAlive() &#123; // Âà§Êñ≠socketÊòØÂê¶Â∑≤Êñ≠ÂºÄ,Êñ≠ÂºÄÂ∞±ÈáçËøû if (lastKeepAliveOkTime != null) &#123; LogUtil.d(mTag, "‰∏äÊ¨°ÂøÉË∑≥ÊàêÂäüÊó∂Èó¥:"+ DateFormat.format("yyyy-MM-dd HH:mm:ss", lastKeepAliveOkTime)); Date now = Calendar.getInstance().getTime(); long between = (now.getTime() - lastKeepAliveOkTime.getTime());// ÂæóÂà∞‰∏§ËÄÖÁöÑÊØ´ÁßíÊï∞ if (between &gt; 60 * 1000) &#123; LogUtil.d(mTag, "ÂøÉË∑≥ÂºÇÂ∏∏Ë∂ÖËøá40,ÈáçÊñ∞ËøûÊé•:"); lastKeepAliveOkTime = null; socket = null; &#125; &#125; else &#123; lastKeepAliveOkTime = Calendar.getInstance().getTime(); &#125; if (!checkIsAlive()) &#123; LogUtil.d(mTag, "ÈìæÊé•Â∑≤Êñ≠ÂºÄ,ÈáçÊñ∞ËøûÊé•."); startConnect(mIpAddr, mPort); &#125; &#125; /** * Ê≠§ÊñπÊ≥ïÊòØÊ£ÄÊµãÊòØÂê¶ËøûÊé• * @return */ public boolean checkIsAlive() &#123; if (socket == null||!socket.isConnected()) return false; return true; &#125; /** * ÂèëÈÄÅÊï∞ÊçÆÁöÑÊñπÊ≥ï * @param msg */ public void sendmessage(String msg) &#123; boolean isAlive = checkIsAlive(); if (!isAlive) return; LogUtil.d(mTag, "ÂáÜÂ§áÂèëÈÄÅÊ∂àÊÅØ:" + msg); try &#123; if (socket != null &amp;&amp; socket.isConnected()) &#123; if (!socket.isOutputShutdown()) &#123; //2.ÂæóÂà∞socketËØªÂÜôÊµÅ OutputStream os=socket.getOutputStream(); //true:ÊòØÂê¶Ëá™Âä®flush PrintWriter outStream=new PrintWriter(os, true); outStream.print(msg); outStream.flush(); &#125; &#125; LogUtil.d(mTag, "ÂèëÈÄÅÊàêÂäü!"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; /** * ËÆæÁΩÆÊé•Êî∂Êï∞ÊçÆÁõëÂê¨Âô® * @param mRecivedListener */ public void setmRecivedListener(OnRecivedListener mRecivedListener) &#123; this.mRecivedListener = mRecivedListener; &#125; /** * Êï∞ÊçÆÊé•Êî∂Á∫øÁ®ã */ class ReceiveThread extends Thread&#123; @Override public void run() &#123; while (true) &#123; try &#123; sleep(2000); // Âà§Êñ≠ Socket ÊòØÂê¶Â§Ñ‰∫éËøûÊé•Áä∂ÊÄÅ if (socket != null &amp;&amp; socket.isConnected()) &#123; // ÂÆ¢Êà∑Á´ØÊé•Êî∂ÊúçÂä°Âô®Á´ØÁöÑÂìçÂ∫îÔºåËØªÂèñÊúçÂä°Âô®Á´ØÂêëÂÆ¢Êà∑Á´ØÁöÑËæìÂÖ•ÊµÅ InputStream isRead = socket.getInputStream(); // ÁºìÂÜ≤Âå∫ byte[] buffer = new byte[isRead.available()]; // ËØªÂèñÁºìÂÜ≤Âå∫ isRead.read(buffer); // ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ String responseInfo = new String(buffer); // Êó•Âøó‰∏≠ËæìÂá∫ if(responseInfo != null&amp;&amp;!responseInfo.equals(""))&#123; LogUtil.d("TcpManager", "ËøîÂõûÔºö"+responseInfo); mRecivedListener.onRecived(responseInfo); &#125; lastKeepAliveOkTime = Calendar.getInstance().getTime(); KeepAlive(); continue; &#125; else &#123; if (socket != null) LogUtil.d(mTag, "ÈìæÊé•Áä∂ÊÄÅ:" + socket.isConnected()); &#125; &#125; catch (Exception e) &#123; LogUtil.d(mTag, "ÁõëÂê¨Âá∫Èîô:" + e.toString()); e.printStackTrace(); &#125; &#125; &#125; &#125;&#125; ‰ΩøÁî®,ÂåÖË£ÖÂú®‰∏Ä‰∏™ÂêéÂè∞service‰∏≠ÔºåÂú®service‰∏≠ÂÆûÁé∞TcpSocketHelperÁöÑonRecivedÊñπÊ≥ï 1234567891011 //tcpËøîÂõû‰ø°ÊÅØ @Override public void onRecived(String data) &#123; LogUtil.d(&quot;okHttpService&quot;, data); //Â§ÑÁêÜÊúçÂä°Âô®ÂèëÂõûÁöÑÊï∞ÊçÆ &#125;TcpSocketHelper tcpSocketHelper = new TcpSocketHelper();tcpSocketHelper.startConnect(&quot;tcp.lewei50.com&quot;, 9960);//ËÆæÁΩÆÁõëÂê¨tcpSocketHelper.setmRecivedListener(this); ÂèëÈÄÅÂøÉË∑≥ÂåÖ12345678String value = " &#123;" + " \"method\":\"update\"," + " \"gatewayNo\":\"01\"," + " \"userkey\":\"‰Ω†ÁöÑuserkey\"" + " &#125;&amp;^!"; //ÂèëÈÄÅÊï∞ÊçÆ tcpSocketHelper.sendmessage(value); Â§ÑÁêÜÊï∞ÊçÆ Âú®serviceÁöÑonRecived‰∏≠ Êú¨Âú∞Â§ÑÁêÜÂÆåÊØïÂêéÔºåÂêëÊúçÂä°Âô®ËøîÂõûË¢´ÊéßÂà∂Âô®Áä∂ÊÄÅ 123String value5 = "&#123;\"method\":\"response\",\"result\":&#123;\"successful\":true,\"message\":\"ok!\",\"data\":[&#123;\"id\":\"D1\",\"value \":\"1\"&#125;]&#125;&#125;&amp;^! "; tcpSocketHelper.sendmessage(value6);]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>ÊØïËÆæ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞-Ëá™Áî®MVPÊ°ÜÊû∂]]></title>
    <url>%2F2017%2F05%2F08%2FAndroid%E7%AC%94%E8%AE%B0-%E8%87%AA%E7%94%A8MVP%E6%A1%86%E6%9E%B6%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã ÁΩëÁªú ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ ËΩ¨ÁúºÂàöÁî®‰∏äÊâãÁöÑMVPÂèà‰∏çÁ¨¶ÂêàÈúÄÊ±Ç‰∫ÜÔºåËøòÊòØÊÄªÁªì‰∏Ä‰∏ãÔºåÁªßÁª≠MVVMÂêß„ÄÇ Ëµ∑ ‰∏ªË¶ÅÂÜÖÂÆπÊòØËΩ¨ËΩΩÔºåÊê≠Âª∫Â∞èÂ∑•Á®ãÂ∫îËØ•Ë∂≥Â§ü‰∫Ü„ÄÇAndroid mvp Êû∂ÊûÑÁöÑËá™Ëø∞Â¶Ç‰ΩïÊõ¥È´òÊïàÁöÑ‰ΩøÁî®MVP‰ª•ÂèäÂÆòÊñπMVPÊû∂ÊûÑËß£Êûê Ê°ÜÊû∂ÂºÄÊ∫êÂú®GitHub Âú∞ÂùÄÁÇπÊàëÁõ¥Ëææ Â•ΩÔºåÊàë‰ª¨ÂºÄÂßãÂêßÔºÅ MVC MVP MVVM ÁúÅÁï•200Ë°åÔºåËØ¶ÊÉÖÁúãAndroid AppÁöÑËÆæËÆ°Êû∂ÊûÑÔºöMVC,MVP,MVVM‰∏éÊû∂ÊûÑÁªèÈ™åË∞à ÂÜçÁ¥ØËµòÂ±û‰∫éÊéâ‰π¶Ë¢ã‰∫ÜÔºå‰ΩúËÄÖÂÜôÁöÑÊòØÂæàÁî®ÂøÉÔºåÊÅ©ÔºåMVVM‰πüÊúâ„ÄÇ Ê°ÜÊû∂ËØ¶Ëß£ Êï¥‰∏™Ê°ÜÊû∂Êà™Âõæ Êï¥‰ΩìÂ±ÇÊ¨°ÊØîËæÉÊòéÁ°Æ‰∫ÜÔºåBaseClass ÈáåÂ≠òÊîæÂü∫Á±ªÔºåModelÂ±ÇÂ≠òÊîæÊï∞ÊçÆÂ≠òÂÇ®ÊúâÂÖ≥Á±ª„ÄÅPresenterÂ±ÇÂ≠òÊîæÈÄªËæë‰ª£Á†Å„ÄÅViewÂ±ÇÂ≠òÊîæActivity„ÄÅframentÁ≠â„ÄÇ Ëøô‰∏™Ê°ÜÊû∂ÊòØÁî±MVPÂú®Android‰∏≠Â∫îÁî®Â≠òÂú®ÁöÑÈóÆÈ¢òËÄåÊê≠Âª∫ÁöÑÔºåÂü∫Á±ª‰∏≠‰ª£Á†Å‰πüÁî±Ê≠§ËÄåÊù•„ÄÇ ÈóÆÈ¢ò presenter‰∏ÄÁõ¥ÊåÅÊúâActivityÂØπË±°ÂØºËá¥ÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢ò ‰ΩøÁî®mvpÁöÑÊó∂ÂÄôÔºåpresenter‰ºöÊåÅÊúâviewÔºåÂ¶ÇÊûúpresenterÊúâÂêéÂè∞ÂºÇÊ≠•ÁöÑÈïøÊó∂Èó¥ÁöÑÂä®‰ΩúÔºåÊØîÂ¶ÇÁΩëÁªúËØ∑Ê±ÇÔºåËøôÊó∂Â¶ÇÊûúËøîÂõûÈÄÄÂá∫‰∫ÜActivityÔºåÂêéÂè∞ÂºÇÊ≠•ÁöÑÂä®‰Ωú‰∏ç‰ºöÁ´ãÂç≥ÂÅúÊ≠¢ÔºåËøôÈáåÂ∞±‰ºöÊúâÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈöêÊÇ£„ÄÇ ÈúÄË¶Å‰∏Ä‰∏™ÈîÄÊØÅviewÁöÑÊñπÊ≥ïÔºåËøôÈáåÊòØÂú®Âü∫Á±ª‰∏≠ÂÆåÊàêÁöÑ„ÄÇ presenterÁªëÂÆöÂíåËß£ÁªëÁπÅÁêê ‰∏ÄËà¨‰∏Ä‰∏™presenterÂØπÂ∫î‰∏Ä‰∏™ActivityÔºå‰∏ÄËà¨Â∫îÁî®ÂÜÖÂ≠òÂú®Â§ö‰∏™ActiivityÔºåÁªëÂÆö‰∏éËß£ÁªëÁõ∏ÂΩìÁπÅÁêê„ÄÇ Áªü‰∏ÄÂú® Basepresenter ‰∏é BaseActivity‰∏≠ËøõË°åÔºåÂêåÊó∂Ëß£ÂÜ≥ÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢òÔºåËøòÊúâÂÖ∂‰ªñÂ∏∏Áî®ÂÜÖÂÆπ‰∏ÄÂπ∂Ê∑ªÂä†„ÄÇ presenter ‰∏é Model ÁöÑÈÄö‰ø°ÈóÆÈ¢ò„ÄÇ presenterÂ∑≤Áªè‰∏éViewÂ±Ç Âº∫ËÄ¶Âêà‰∫ÜÔºåÊ°ÜÊû∂‰∏≠ÈúÄË¶ÅËß£ËÄ¶presenter ‰∏é Model Ôºå‰ΩøÁî®ÂºÇÊ≠•ÈÄö‰ø°„ÄÇHandleÁ≠âÈÉΩÂ§™Â§çÊùÇ‰∫Ü„ÄÇ„ÄÇ„ÄÇ ÂºÄÂßãÊ≤°Êúâ‰ªÄ‰πàÂ•ΩÁöÑËß£ÂÜ≥ÂäûÊ≥ïÔºåÁõ¥Âà∞ÈÅáÂà∞‰∫ÜEventBusÔºåÂΩìÁÑ∂EventBus‰πü‰∏çÊòØ‰∏áËÉΩËß£ÂÜ≥ÊñπÊ°àÔºåË∑®ËøõÁ®ãÔºåËøòÊòØË¶ÅÂè¶ËæüËπäÂæÑÔºå‰∏çËøáEventBusË∂≥Â§üËá™Â∑±ÂÜôÁùÄÂÆå‰∫Ü„ÄÇËøòÊúâRxjavaÔºåÊÅ©ÔºåËøòÂú®Áé©ÁùÄÔºåÊ≤°ÊêûÂ§™ÊáÇ„ÄÇ ‰ª£Á†Å BasePresenter123456789101112 public abstract class BasePresenter&lt;Viewinterface&gt; &#123; //‰º†ÂÖ•Ê≥õÂûã public Viewinterface mView; //ÁªëÂÆö public void attach(Viewinterface mView) &#123; this.mView = mView; &#125; //Ëß£ÁªëÔºåÈò≤Ê≠¢view‰∏∫Á©∫ÊòØÂÜÖÂ≠òÊ≥ÑÊºè public void dettach() &#123; mView = null; &#125;&#125; BaseActivity1234567891011121314151617181920212223242526272829303132 public abstract class BaseActivity &lt;Viewinterface,mPresenter extends BasePresenter&lt;Viewinterface&gt;&gt;extends AppCompatActivity &#123; //Ëé∑ÂèñPresenterÂØπË±° public mPresenter mpresenter; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); //PresenterÂÆû‰æãÂåñ mpresenter = initPresenter(); //ÊâìÂç∞ÂΩìÂâçactivity LogUtil.d("Activity", getClass().getSimpleName()+"onCreate"); &#125; @Override protected void onResume() &#123; //ÈáçÊñ∞Âà∑Êñ∞Êó∂ÈáçÊñ∞ÁªëÂÆöview mpresenter.attach((Viewinterface) this); super.onResume(); LogUtil.d("Activity", getClass().getSimpleName()+"onResume"); &#125; @Override protected void onDestroy() &#123; //Ëß£ÁªëpresenterÊåÅÊúâÁöÑview mpresenter.dettach(); super.onDestroy(); LogUtil.d("Activity", getClass().getSimpleName()+"onDestroy"); &#125; public abstract mPresenter initPresenter();&#125; Presenter12 public interface Presenter &#123;&#125; mPresenter12345678 public class mPresenter extends BasePresenter&lt;Viewif&gt; implements Presenter &#123; private Model mModel; public mPresenter(Viewif view) &#123; this.attach(view); this.mModel = new mModel(); &#125;&#125; BaseView 123 public interface BaseView&lt;T&gt; &#123;&#125; Viewif 123 public interface Viewif extends BaseView &#123;&#125; MainActivity12345678910111213141516 public class MainActivity extends BaseActivity&lt;Viewif, mPresenter&gt; implements Viewif&#123; Presenter presenter; //PresenterÂàùÂßãÂåñ public mPresenter initPresenter() &#123; return new mPresenter(this); &#125; @Override protected void onCreate(Bundle savedInstanceState) &#123; //presenterÂàùÂßãÂåñ presenter = mpresenter; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); &#125;&#125; LogUtil123456789101112131415161718192021222324252627282930313233343536373839 public class LogUtil &#123; public static final int VERBOSE = 1;//Âï∞Âó¶ÔºåÁ≠âÁ∫ßÊúÄ‰ΩéÁöÑ public static final int DEBUG = 2;//Ë∞ÉËØï public static final int INFO = 3;//‰ø°ÊÅØ public static final int WARN = 4;//Ë≠¶Âëä public static final int ERROR = 5;//ÈîôËØØ public static final int NOTHING = 6;//‰ªÄ‰πà‰πü‰∏çÊâìÂç∞Âá∫Êù• public static final int level = VERBOSE;//LEVEL:Ê†áÂáÜ public static void v(String tag, String msg) &#123; if (level &lt;= VERBOSE) &#123;//Â¶ÇÊûúÂ§ß‰∫éÊàñËÄÖÁ≠â‰∫éÂÆö‰πâÁöÑÊ†áÂáÜÂ∞±ÊâìÂç∞Âá∫Êù• Log.v(tag, msg); &#125; &#125; public static void d(String tag, String msg) &#123; if (level &lt;= DEBUG) &#123; Log.d(tag, msg); &#125; &#125; public static void i(String tag, String msg) &#123; if (level &lt;= INFO) &#123; Log.i(tag, msg); &#125; &#125; public static void w(String tag, String msg) &#123; if (level &lt;= WARN) &#123; Log.w(tag, msg); &#125; &#125; public static void e(String tag, String msg) &#123; if (level &lt;= ERROR) &#123; Log.e(tag, msg); &#125; &#125;&#125;]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîËìùÁâô‰∏≤Âè£(BlueTooth+EventBus)]]></title>
    <url>%2F2017%2F04%2F17%2FAndroid%E7%AC%94%E8%AE%B0-%E8%93%9D%E7%89%99%E4%B8%B2%E5%8F%A3%E4%B8%80%E7%A7%8D%E6%96%B9%E6%A1%88BlueTooth%2BEventBus%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ ÊØïËÆæ‰∏≠ÁöÑËìùÁâôÈÉ®ÂàÜ,ËÆ∞ÂΩï‰ª•‰æõÂ§ç‰π† Ê¶ÇËø∞ÊúÄÁªàÊïàÊûú AndroidÂ∫îÁî® ‰∏é Hc-05 ËìùÁâôÊ®°ÂùóËøûÊé•,ÂçïÁâáÊú∫‰∏é Android Á´Ø ÂèØ‰ª•ÈÄöËøá‰∏≤Âè£Ê≠£Â∏∏Êî∂ÂèëÊï∞ÊçÆ. È¢ÑÁïôË∂≥Â§üÁÅµÊ¥ªÁöÑÊé•Âè£, Android Â∫îÁî®‰∏≠ÂèØ‰ª•Âú®‰ªªÊÑè‰ΩçÁΩÆËé∑ÂèñÂà∞ËìùÁâôÊï∞ÊçÆ ActivityÂàáÊç¢Êó∂,ËìùÁâôËøûÊé•‰∏çÊñ≠ÂºÄ. Áî®Âà∞ÁöÑÂºÄÊ∫êÂ∫ì/Áü•ËØÜÁÇπËµÑÊñô ÁÆÄ‰ªã/Êù•Ê∫ê ËìùÁâô:Android API ÊåáÂçó https://developer.android.com/guide/topics/connectivity/bluetooth.html EventBus:EventBus-GitHub ÊòØ‰∏Ä‰∏™AndroidÁ´Ø‰ºòÂåñÁöÑpublish/subscribeÊ∂àÊÅØÊÄªÁ∫ø,Áî®Êù•Êõø‰ª£ Intent „ÄÅ Handler „ÄÅ Broadcast Á≠âÂú® Actvity „ÄÅ Fragment „ÄÅ Service Á≠âÁªÑ‰ª∂‰πãÈó¥‰º†ÈÄí‰ø°ÊÅØ . EventBus ÂèØ‰ª•‰º†ÈÄí‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂØπË±°,ÁÆÄÂçïÈ´òÊïà, Ê≥®ÊÑè EventBus Âè™ËÉΩÂú®Â§öÁ∫øÁ®ã‰πãÈó¥‰º†ÈÄíÊ∂àÊÅØ,Êó†Ê≥ïÂú®‰∏çÂêåËøõÁ®ã‰πãÈó¥‰º†ÈÄíÊ∂àÊÅØ ,EventBus 3.0 ‰ª•ÂêéËøõ‰∏ÄÊ≠•ÁÆÄÂåñ‰∫Ü‰º†ÈÄíÊñπÂºè,ÁúüÁöÑÊòØÂæàÂÄºÂæóÂ≠¶‰π†ÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÂ∫ì! ÂèÇËÄÉËµÑÊñôÂ¶Ç‰∏ã: EventBus 3.0ÂàùÊé¢: ÂÖ•Èó®‰ΩøÁî®ÂèäÂÖ∂‰ΩøÁî® ÂÆåÂÖ®Ëß£Êûê EventBus3(3.0.0)Ê∫êÁ†ÅËß£Êûê Âü∫Á°ÄÈÉ®ÂàÜ ËìùÁâô ‰∏é EventBus Âü∫Á°ÄÈÉ®ÂàÜ BlueTooth Â§áÊ≥® : ËøôÈáå‰ΩøÁî®ÁöÑÊòØ ‰º†ÁªüËìùÁâô Âç≥ ËìùÁâô4.0‰ª•ÂâçÁâàÊú¨, ËÄå‰∏çÊòØ ËìùÁâô4.0 ( ble‰ΩéÂäüËÄóËìùÁâô)Âèä‰ª•ÂêéÁâàÊú¨ Android ÂØπ Bluetooth ÂÅö‰∫ÜÂæàÂ•ΩÁöÑÂ∞ÅË£Ö,Êàë‰ª¨ÂèØ‰ª•ÊØîËæÉËΩªÊùæÁöÑÂú® Android Bluetooth API ‰∏äËøõË°åÂºÄÂèë. Android‰∏≠ÊâÄÊúâËìùÁâôAPIÂùáÊù•Ëá™ android.bluetooth ÂåÖ BlueToothÂü∫Á°Ä BluetoothAdapter Êú¨Âú∞ËìùÁâôÈÄÇÈÖçÂô®BluetoothAdapter ÊòØÊâÄÊúâËìùÁâô‰∫§‰∫íÁöÑÂÖ•Âè£ÁÇπ, Âú®ÂàùÂßãÂåñËìùÁâôÂèäËìùÁâôÈÖçÂØπÈò∂ÊÆµ‰ΩøÁî®1.ÂèëÁé∞ÂÖ∂‰ªñËìùÁâôËÆæÂ§á2.Êü•ËØ¢ÁªëÂÆöÔºàÈÖçÂØπÔºâËÆæÂ§áÁöÑÂàóË°®3.‰ΩøÁî®Â∑≤Áü•ÁöÑ MAC Âú∞ÂùÄÂÆû‰æãÂåñ BluetoothDevice4.ÂàõÂª∫ BluetoothServerSocket ‰æ¶Âê¨Êù•Ëá™ÂÖ∂‰ªñËÆæÂ§áÁöÑÈÄö‰ø°„ÄÇ BluetoothDevice ËøúÁ®ãËìùÁâôËÆæÂ§áÂê´ÊúâËØ•ËÆæÂ§áÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇËÆæÂ§áÁöÑÂêçÁß∞„ÄÅÂú∞ÂùÄ„ÄÅÁ±ªÂíåÁªëÂÆöÁä∂ÊÄÅÁ≠â„ÄÇ BluetoothSocket ËìùÁâôÂ•óÊé•Â≠óÊé•Âè£Ôºà‰∏é TCP Socket Áõ∏‰ººÔºâ‰∏é BluetoothDevice ÈÖçÂêàÂª∫Á´ãËøúÁ®ãËøûÊé•,ÂÖÅËÆ∏Â∫îÁî®ÈÄöËøá InputStream Âíå OutputStream ‰∏éÂÖ∂‰ªñËìùÁâôËÆæÂ§á‰∫§Êç¢Êï∞ÊçÆ. ÂàùÂßãÂåñËìùÁâô Â£∞ÊòéËìùÁâôÊùÉÈôêAndroid Â∫îÁî®‰ΩøÁî®ËìùÁâôÂâçÈÉΩÈúÄË¶ÅÂ£∞ÊòéËìùÁâôÊùÉÈôê‰∏ÄËà¨Âè™ÈúÄË¶Å BLUETOOTH ÊùÉÈôêÂç≥ÂèØ,‰ΩÜÊòØËÄÉËôëÂà∞‰πãÂêéÊúâÊõ¥Â§öÁöÑÈúÄÊ±Ç,ÈúÄË¶ÅÊõ¥ÊîπÁ≥ªÁªüËìùÁâôËÆæÁΩÆ,Áî±Ê≠§ÈúÄË¶Å BLUETOOTHADMIN ÊùÉÈôê‰πü‰∏ÄËµ∑Â£∞Êòé 12345&lt;manifest ... &gt;&lt;uses-permission android:name="android.permission.BLUETOOTH" /&gt;&lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN" /&gt;...&lt;/manifest&gt; ËìùÁâôËÆæÂ§áÂèØÁî®ÊÄß Ëé∑Âèñ BluetoothAdapterËé∑Âèñ BluetoothAdapterÔºåÈúÄË¶ÅÈùôÊÄÅ getDefaultAdapter() ÊñπÊ≥ï„ÄÇgetDefaultAdapter() ‰ºöËøîÂõû‰∏Ä‰∏™Ë°®Á§∫ËÆæÂ§áËá™Ë∫´ÁöÑËìùÁâôÈÄÇÈÖçÂô®ÁöÑ BluetoothAdapter ËÆæÂ§á‰∏çÊîØÊåÅËìùÁâô ÂàôËøîÂõû null 1234BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();if (mBluetoothAdapter == null) &#123; // ËìùÁâô‰∏çÂèØÁî®Êìç‰Ωú&#125; ÂºÄÂêØËìùÁâôBluetoothAdapter ÁöÑ .isEnabled() ÂèØ‰ª•Âà§Êñ≠Á≥ªÁªüËìùÁâôÊòØÂê¶ÂºÄÂêØ.Ê≤°ÊúâÂºÄÂêØÊó∂ startActivityForResult() ÂèëÈÄÅÂåÖÂê´ ACTION_REQUEST_ENABLE ÁöÑ Intent ËØ∑Ê±ÇÁ≥ªÁªüÂºÄÂêØËìùÁâô,Âπ∂Âú® onActivityResult() ËøîÂõûÁöÑÊï∞ÊçÆ‰∏≠ RESULT_CANCELED Ë°®Á§∫ÂºÄÂêØÂ§±Ë¥• RESULT_OK Ë°®Á§∫ÂºÄÂêØÊàêÂäü,ËøôÈáåÊàë‰ª¨Âè™Ê£ÄÊµãÂºÄÂêØÂ§±Ë¥•ÊÉÖÂÜµ,Âπ∂ÊèêÁ§∫Áî®Êà∑ 1234567891011121314if (!mBluetoothAdapter.isEnabled()) &#123; Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE); startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);&#125; protected void onActivityResult(int requestCode, int resultCode, Intent data) &#123; if (requestCode == REQUEST_ENABLE_BT &amp;&amp; resultCode == RESULT_CANCELED) &#123; Toast.makeText(MyApplication.getContext(),R.string.Bluetooth_openfail, Toast.LENGTH_SHORT).show(); &#125; BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter(); if (mBluetoothAdapter == null) &#123; //ËÆæÂ§á‰∏çÊîØÊåÅËìùÁâôÊó∂Â§ÑÁêÜ &#125; &#125; Êü•ËØ¢Â∑≤ÈÖçÂØπÁöÑËÆæÂ§áË∞ÉÁî® getBondedDevices(),ËøîÂõûÂ∑≤ÈÖçÂØπËÆæÂ§áÁöÑ‰∏ÄÁªÑ BluetoothDevice.‰πãÂêé‰ΩøÁî®forÂæ™ÁéØÈÅçÂéÜ 123456789Set&lt;BluetoothDevice&gt; pairedDevices = mBluetoothAdapter.getBondedDevices();if (pairedDevices.size() &gt; 0) &#123; //ÈáçÊñ∞Âä†ËΩΩbluetoothDeviceList bluetoothDeviceList.clear(); //BluetoothDeviceÂàóË°®Âæ™ÁéØ for (BluetoothDevice device : pairedDevices) &#123; bluetoothDeviceList.add(device); &#125; &#125; Êâ´ÊèèËÆæÂ§áÊü•ÊâæËÆæÂ§áÊòØÈùûÂ∏∏ËÄóË¥πÁ≥ªÁªüËµÑÊ∫êÁöÑ‰∫ãÈ°πÔºåÈúÄË¶ÅÂÆâÊéíÂú®Â≠êÁ∫øÁ®ã‰∏≠ÊâßË°åÔºåËøôÈáåÊ≤°ÊúâÁî®Âà∞ÔºåÁî±ÈúÄË¶ÅËØ∑ÂèÇËÄÉGoogleÂÆòÊñπËìùÁâôÊïôÁ®ã ËøûÊé•ËÆæÂ§áËìùÁâôÂàÜ‰∏ª‰ªéÊú∫ÔºåÈìæÊé•‰∏∫ÊúçÂä°Âô®/ÂÆ¢Êà∑Á´Ø„ÄÇËøôÈáå‰ΩøÁî®ÁöÑÊòØËøûÊé•‰∏∫ÂÆ¢Êà∑Á´Ø„ÄÇ È¶ñÂÖàËé∑ÂèñËøúÁ®ãËÆæÂ§áÁöÑ BluetoothDevice ÂØπË±°ÔºåÂç≥Âú®ÈÄâÊã©ËÆæÂ§áÈò∂ÊÆµÁöÑBluetoothDevice Ë∞ÉÁî® createRfcommSocketToServiceRecord(UUID) Ëé∑Âèñ BluetoothSocketÔºåUUIDÈÄöÁî®ÂîØ‰∏ÄËØÜÂà´Á†Å Âú®ËìùÁâô‰∏≠ÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÊ≤°ÊúâÂæàÂ•ΩÁöÑËß£Èáä„ÄÇËøôÈáåÁöÑÂÄºÂèñÁöÑÊòØ&quot;00001101-0000-1000-8000-00805F9B34FB&quot; Ë∞ÉÁî® connect() ÂèëËµ∑ËøûÊé•,ÈòªÂ°ûË∞ÉÁî®ÔºåÈúÄË¶ÅÂú®Â≠êÁ∫øÁ®ã‰∏≠ÊâßË°å„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051//ËìùÁâôËøûÊé•Â≠êÁ∫øÁ®ãprivate class ConnectThread extends Thread &#123; private final BluetoothSocket mmSocket; //Ëß£ÊûêÂáΩÊï∞ ConnectThread(BluetoothDevice bluetoothDevice) &#123; // ‰ΩøÁî®‰∏Ä‰∏™‰∏≠Èó¥ÂèòÈáè tmp // mmSocket Á±ªÂûãÊòØ final BluetoothSocket tmp = null; // Ëé∑Âèñ BluetoothSocket try &#123; // MY_UUID is the app's UUID string, also used by the server code tmp = bluetoothDevice.createRfcommSocketToServiceRecord(UUID.fromString(MyApplication.MY_UUID)); &#125; catch (IOException ignored) &#123; &#125; //ËµãÂÄºÁªô mmSocket mmSocket = tmp; &#125; public void run() &#123; // ÂÖ≥Èó≠ËìùÁâôÊâ´Êèè MyApplication.getBluetoothAdapter().cancelDiscovery(); try &#123; // ÈÄöËøá socket ËøûÊé•Âà∞ËÆæÂ§á. connect() ‰ºö‰∏ÄÁõ¥ÊâßË°åÁõ¥Âà∞ÊàêÂäüËøûÊé•ÊàñËÄÖÊäõÂá∫ÂºÇÂ∏∏ mmSocket.connect(); &#125; catch (IOException connectException) &#123; //Êó†Ê≥ïËøûÊé•Âà∞ËìùÁâô,ÂÖ≥Èó≠ËøûÊé•Âπ∂ÈÄÄÂá∫ try &#123; mmSocket.close(); &#125; //Ê≤°ÊúâÊ≠£Â∏∏ÂÖ≥Èó≠ catch (IOException ignored) &#123; &#125; return; &#125; // Do work to manage the connection (in a separate thread) mConnectedThread = new ConnectedThread(mmSocket); mConnectedThread.start(); &#125; /** * ÂÖ≥Èó≠ËìùÁâôËøûÊé• */ void cancel() &#123; try &#123; mmSocket.close(); &#125; catch (IOException ignored) &#123; &#125; &#125;&#125; ÁÆ°ÁêÜËøûÊé•Ëé∑ÂèñBluetoothSocketËé∑Âèñ InputStream Âíå OutputStreamÔºå getInputStream() Âíå getOutputStream() Êù•Â§ÑÁêÜÊï∞ÊçÆ‰º†Ëæì„ÄÇread(byte[]) Âíå write(byte[]) ËØªÂèñÊï∞ÊçÆÂπ∂ÂÜôÂÖ•Âà∞ÊµÅÂºè‰º†Ëæì„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162private class ConnectedThread extends Thread &#123; //BluetoothSocket private final BluetoothSocket mmSocket; //ËæìÂÖ•ÊµÅ private final InputStream mmInStream; //ËæìÂá∫ÊµÅ private final OutputStream mmOutStream; ConnectedThread(BluetoothSocket socket) &#123; //‰º†ÂÖ•BluetoothSocketÔºåÂÆû‰æãÂåñmmSocket mmSocket = socket; //ËæìÂÖ•/ËæìÂá∫ÊµÅ ‰∏≠Èó¥ÂèòÈáè InputStream tmpIn = null; OutputStream tmpOut = null; // ËæìÂÖ•ËæìÂá∫ÊµÅÂÆû‰æãÂåñ try &#123; tmpIn = socket.getInputStream(); tmpOut = socket.getOutputStream(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; mmInStream = tmpIn; mmOutStream = tmpOut; &#125; public void run() &#123; byte[] buffer = new byte[1024]; int bytes; // ËøûÊé•ÊàêÂäüÊó∂ while (true) &#123; try &#123; // Âú®InputStreamËØªÊï∞ÊçÆ bytes = mmInStream.read(); //ÂèëÈÄÅÊï∞ÊçÆ Events.bluetooth_Recycle bluetooth_recycle = new Events.bluetooth_Recycle(); bluetooth_recycle.s = bytes; bluetooth_recycle.bytes = String.valueOf((char) bytes); EventBus.getDefault().post(bluetooth_recycle); &#125; catch (IOException e) &#123; break; &#125; &#125; &#125; //ÂÜôÊñπÊ≥ï void write(byte[] bytes) &#123; try &#123; mmOutStream.write(bytes); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; //ÂÖ≥Èó≠ÊµÅËøûÊé• void cancel() &#123; try &#123; mmSocket.close(); &#125; catch (IOException e) &#123; &#125; &#125; &#125; EventBus Áõ¥Êé•ÊîæÈìæÊé•‰∫Ü http://www.jianshu.com/p/a040955194fchttp://www.jianshu.com/p/acfe78296bb5http://www.ff50.net/view/40565212977623506063.html Ê≠£Êñá ËìùÁâôËøûÊé•Â≠êÁ∫øÁ®ã 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950 private class ConnectThread extends Thread &#123; private final BluetoothSocket mmSocket; //Ëß£ÊûêÂáΩÊï∞ ConnectThread(BluetoothDevice bluetoothDevice) &#123; // ‰ΩøÁî®‰∏Ä‰∏™‰∏≠Èó¥ÂèòÈáè tmp // mmSocket Á±ªÂûãÊòØ final BluetoothSocket tmp = null; // Ëé∑Âèñ BluetoothSocket try &#123; // MY_UUID is the app's UUID string, also used by the server code tmp = bluetoothDevice.createRfcommSocketToServiceRecord(UUID.fromString(MyApplication.MY_UUID)); &#125; catch (IOException ignored) &#123; &#125; //ËµãÂÄºÁªô mmSocket mmSocket = tmp; &#125; public void run() &#123; // ÂÖ≥Èó≠ËìùÁâôÊâ´Êèè MyApplication.getBluetoothAdapter().cancelDiscovery(); try &#123; // ÈÄöËøá socket ËøûÊé•Âà∞ËÆæÂ§á. connect() ‰ºö‰∏ÄÁõ¥ÊâßË°åÁõ¥Âà∞ÊàêÂäüËøûÊé•ÊàñËÄÖÊäõÂá∫ÂºÇÂ∏∏ mmSocket.connect(); &#125; catch (IOException connectException) &#123; //Êó†Ê≥ïËøûÊé•Âà∞ËìùÁâô,ÂÖ≥Èó≠ËøûÊé•Âπ∂ÈÄÄÂá∫ try &#123; mmSocket.close(); &#125; //Ê≤°ÊúâÊ≠£Â∏∏ÂÖ≥Èó≠ catch (IOException ignored) &#123; &#125; return; &#125; // Do work to manage the connection (in a separate thread) mConnectedThread = new ConnectedThread(mmSocket); mConnectedThread.start(); &#125; /** * ÂÖ≥Èó≠ËìùÁâôËøûÊé• */ void cancel() &#123; try &#123; mmSocket.close(); &#125; catch (IOException ignored) &#123; &#125; &#125;&#125; ÁÆ°ÁêÜËøûÊé•Â≠êÁ∫øÁ®ã 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263 //ÁÆ°ÁêÜËøûÊé•Â≠êÁ∫øÁ®ãprivate class ConnectedThread extends Thread &#123; //BluetoothSocket private final BluetoothSocket mmSocket; //ËæìÂÖ•ÊµÅ private final InputStream mmInStream; //ËæìÂá∫ÊµÅ private final OutputStream mmOutStream; ConnectedThread(BluetoothSocket socket) &#123; //‰º†ÂÖ•BluetoothSocketÔºåÂÆû‰æãÂåñmmSocket mmSocket = socket; //ËæìÂÖ•/ËæìÂá∫ÊµÅ ‰∏≠Èó¥ÂèòÈáè InputStream tmpIn = null; OutputStream tmpOut = null; // ËæìÂÖ•ËæìÂá∫ÊµÅÂÆû‰æãÂåñ try &#123; tmpIn = socket.getInputStream(); tmpOut = socket.getOutputStream(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; mmInStream = tmpIn; mmOutStream = tmpOut; &#125; public void run() &#123; byte[] buffer = new byte[1024]; int bytes; // ËøûÊé•ÊàêÂäüÊó∂ while (true) &#123; try &#123; // Âú®InputStreamËØªÊï∞ÊçÆ bytes = mmInStream.read(); //ÂèëÈÄÅÊï∞ÊçÆ Events.bluetooth_Recycle bluetooth_recycle = new Events.bluetooth_Recycle(); bluetooth_recycle.s = bytes; bluetooth_recycle.bytes = String.valueOf((char) bytes); EventBus.getDefault().post(bluetooth_recycle); &#125; catch (IOException e) &#123; break; &#125; &#125; &#125; //ÂÜôÊñπÊ≥ï void write(byte[] bytes) &#123; try &#123; mmOutStream.write(bytes); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; //ÂÖ≥Èó≠ÊµÅËøûÊé• void cancel() &#123; try &#123; mmSocket.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125; ËøûÊé•ËìùÁâô123456789//ËøûÊé•Á∫øÁ®ãprivate ConnectThread mConnectThread;//ÁÆ°ÁêÜËøûÊé•ËøõÁ®ãprivate ConnectedThread mConnectedThread;//ÂàõÂª∫ËøûÊé•Â≠êÁ∫øÁ®ãmConnectThread = new ConnectThread(bluetoothDevice);//ÂêØÂä®ËøûÊé•Â≠êÁ∫øÁ®ãmConnectThread.start(); ÂêëËìùÁâôÂÜôÂÖ•Êï∞ÊçÆ1234567 //ÂèëÈÄÅÊï∞ÊçÆString, ‰∏ªÁ∫øÁ®ã ‰ºòÂÖàÁ∫ß4 ÈùûÁ≤òÊÄß‰∫ã‰ª∂@Subscribe(threadMode = ThreadMode.MAIN, priority = 4, sticky = false)public void onEvent(Events.bluetooth_Send bluetoothSend) &#123; String bytes = bluetoothSend.bytes; mConnectedThread.write(bytes.getBytes()); LogUtil.d(Tag, "onEvent:Send" + bluetoothSend.bytes);&#125; Êé•Êî∂Êï∞ÊçÆÂ§ÑÁêÜ123456 //Êï∞ÊçÆËΩ¨Êç¢ ÂêéÂè∞ËøõÁ®ã ‰ºòÂÖàÁ∫ß3 ÈùûÁ≤òÊÄß‰∫ã‰ª∂@Subscribe(threadMode = ThreadMode.BACKGROUND, priority = 3, sticky = false)public void onEvent(Events.bluetooth_Transformers bluetoothTransformers) &#123; int bytes = bluetoothTransformers.bytes; //Â§ÑÁêÜÊï∞ÊçÆ&#125;]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
        <tag>ÊØïËÆæ</tag>
        <tag>BlueTooth</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÔºà‰∏âÔºâ‚Äî‚ÄîVPSÂÆâÂÖ®Âä†Âõ∫]]></title>
    <url>%2F2017%2F04%2F08%2FVPS%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%95%99%E7%A8%8B3%2F</url>
    <content type="text"><![CDATA[1234Êõ¥Êñ∞2017.04.08 VPSÊó•Â∏∏‰∏Ä‰∫õÂÆâÂÖ®Êé™ÊñΩ2017.08.22 Êõ¥Êñ∞ÂÆâÂÖ®Êé™ÊñΩÔºåËØªËÄÖÂèçÈ¶àÔºåÊ≤°ÊúâdebianÁöÑÔºåËøôÈáåÂä†‰∏ä„ÄÇ2017.10.30 Á∫†Ê≠£ÈîôËØØ,ÊéíÁâà. ÂØºËØ≠ÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÁ≥ªÂàóÔºåÂæà‰πÖÊ≤°ÊúâÊõ¥Êñ∞Êñ∞ÂÜÖÂÆπ‰∫Ü„ÄÇÊõ¥Êñ∞Â∏∏Áî®ÂÆâÂÖ®Êé™ÊñΩÔºåËá≥Â∞ë‰øùËØÅÔºå‰∏ç‰ºöË¢´ËΩªÊòìÁöÑÂΩì‰ΩúËÇâÈ∏°„ÄÇÈÉΩÊòØ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂÆâÂÖ®Êé™ÊñΩ„ÄÇ Á≥ªÁªüÁéØÂ¢ÉÔºöCentOS/debian 7 SSH Êúâ‰∏§ÁßçÊñπÊ°à ÂΩªÂ∫ïÂÖ≥Èó≠SSHÁôªÈôÜÔºåÊîπ‰∏∫ÂØÜÈí•ÁôªÈôÜÔºåÂÆâÂÖ®ÊÄßÊúÄÈ´òÔºå‰ΩÜÈÖçÁΩÆËæÉ‰∏∫Â§çÊùÇ ‰øÆÊîπSSHÁôªÈôÜÁ´ØÂè£ÔºåÂêåÊó∂ÂºÄÊîæÈªòËÆ§Á´ØÂè£ÔºåÂ∞ÜÁàÜÁ†¥ ssh ÂØÜÁ†ÅÁöÑ IP Â∞ÅÂÅúÂØÜÈí•ÁôªÈôÜ ‰∏ªË¶ÅÊ≠•È™§Âú®ËøôÈáå,ÊúâÊó∂Èó¥ÂÜçÊõ¥Êñ∞ https://ttt.tt/104/ ‰øÆÊîπÁ´ØÂè£ CentOS ÂëΩ‰ª§ Â¶Ç‰∏ãÔºå‰ª•‰∏ãÊòØÂ∞Ü SSH Á´ØÂè£Êîπ‰∏∫ 999 Á´ØÂè£ 1sed -i &apos;s/#Port 22/Port 999/g&apos; /etc/ssh/sshd_config debianÈúÄË¶ÅÊâìÂºÄ/etc/ssh/sshdconfig Êñá‰ª∂Ôºå‰øÆÊîπÂÖ∂‰∏≠ÁöÑportÂêéÈù¢ÁöÑÊï∞Â≠ó, 1nano /etc/ssh/sshd_config ‰øÆÊîπÂÖ∂‰∏≠ÁöÑportÂêéÈù¢ÁöÑÊï∞Â≠óÔºå‰∏∫‰Ω†Ë¶ÅsshÁôªÈôÜÁöÑÁ´ØÂè£Ôºåcltrl + x‰øùÂ≠òÔºåÂõûËΩ¶ÈÄÄÂá∫„ÄÇ fail2ban fail2ban ÊòØ Linux ‰∏äÁöÑ‰∏Ä‰∏™ËëóÂêçÁöÑÂÖ•‰æµ‰øùÊä§ÁöÑÂºÄÊ∫êÊ°ÜÊû∂ÔºåÂÆÉ‰ºöÁõëÊéßÂ§ö‰∏™Á≥ªÁªüÁöÑÊó•ÂøóÊñá‰ª∂ÔºåÂπ∂Ê†πÊçÆÊ£ÄÊµãÂà∞ÁöÑ‰ªª‰ΩïÂèØÁñëÁöÑË°å‰∏∫Ëá™Âä®Ëß¶Âèë‰∏çÂêåÁöÑÈò≤Âæ°Âä®‰Ωú„ÄÇÂ∞ÜÂ∞ùËØïÁàÜÁ†¥ ssh ÂØÜÁ†ÅÁöÑ IP Â∞ÅÂÅúÔºåÈªòËÆ§10ÂàÜÈíü„ÄÇ ËØ¶ÁªÜÈÖçÁΩÆÂÆâË£ÖÊñπÊ≥ïÂú®Â¶Ç‰∏ãÁΩëÂùÄÔºåËøôÈáå‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆÂç≥ÂèØ„ÄÇ https://linux.cn/article-5067-1.html ÂÆâË£Ö fail2banCentOS ÈúÄË¶ÅÊèêÂâç ËÆæÁΩÆ EPEL ‰ªìÂ∫ì ‰ª• root Áî®Êà∑ÁôªÈôÜÔºåÈùû root Áî®Êà∑ÈúÄË¶Å ÂëΩ‰ª§Ââç Â¢ûÂä† sudo ÂÆâË£ÖÂëΩ‰ª§ 1234//CentOSyum install fail2ban//Debian / ubuntuapt-get install fail2ban ÂÖ∂‰ªñÂëΩ‰ª§ ÈáçÂêØ 1service fail2ban restart È™åËØÅÁä∂ÊÄÅ 1fail2ban-client ping ËøîÂõû 1Server replied: pong ËÆæÁΩÆÂºÄÊú∫Ëá™ÂêØÂä®Ôºàdebian‰∏çÁî®ÂâçÈù¢È™åËØÅÂÆåÊàêÔºåÂ∑≤Âä†ÂÖ•ÂºÄÊú∫ÂêØÂä®Ôºâ 1234// CentOS/RHEL 6chkconfig fail2ban on// CentOS/RHEL 7systemctl enable fail2ban Á¶ÅÁî®LinuxÂ§ö‰ΩôÁ´ØÂè£ ÂÖ≥Èó≠Â§ö‰ΩôÁ´ØÂè£ÊòØÊ∞∏ËøúÊ≠£Á°ÆÁöÑÈÄâÊã©ÔºÅÂè™Áïô‰∏ãÂ∏∏Áî®Á´ØÂè£ Âíå SSRÁ´ØÂè£ ÈÖçÁΩÆ iptables Ë≠¶Âëä iptables ÈÖçÁΩÆ‰∏çÊòØ‰∏ÄËà¨ÁöÑÂ§çÊùÇÔºåË∞®ÊÖéÊìç‰Ωú Ê∏ÖÁ©∫ÈªòËÆ§ËßÑÂàô 1iptables -F ÂÖÅËÆ∏22Á´ØÂè£ÔºåÁªôÊö¥ÂäõÁ†¥Ëß£ÁïôÁÇπÁ©∫Èó¥ //doge 12iptables -A INPUT -p tcp --dport 22 -j ACCEPTiptables -A OUTPUT -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT ÂÖÅËÆ∏53Á´ØÂè£ udp Ôºå‰∏ÄËà¨Áî®ÂÅöDNSÊúçÂä°Âô®ÔºåÂ¶ÇÊûú‰Ω†‰∏çÈúÄË¶ÅÂàôÂøΩÁï•Ê≠§Êù° 12iptables -A OUTPUT -p udp --dport 53 -j ACCEPTiptables -A INPUT -p udp --sport 53 -j ACCEPT ÂÖÅËÆ∏Êú¨Êú∫ËÆøÈóÆÊú¨Êú∫ 12iptables -A INPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPTiptables -A OUTPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT ÂÖÅËÆ∏ÁúüÊ≠£ SSH Á´ØÂè£ 12iptables -A INPUT -p tcp -s 0/0 --dport 999 -j ACCEPTiptables -A OUTPUT -p tcp --sport 999 -m state --state ESTABLISHED -j ACCEPT ÂÖÅËÆ∏ 80 443 Á´ØÂè£Ôºåhttp Âíå https 1234iptables -A INPUT -p tcp -s 0/0 --dport 80 -j ACCEPTiptables -A OUTPUT -p tcp --sport 80 -m state --state ESTABLISHED -j ACCEPTiptables -A INPUT -p tcp -s 0/0 --dport 443 -j ACCEPTiptables -A OUTPUT -p tcp --sport 443 -m state --state ESTABLISHED -j ACCEPT ÂÖÅËÆ∏ SSRÁ´ØÂè£ ‰ª•888 xxx ‰∏∫‰æã ‰Ω†ÊúâÂá†‰∏™Á´ØÂè£ÔºåÂ∞±Ê∑ªÂä†Âá†‰∏™ 12345iptables -A INPUT -p tcp -s 0/0 --dport 888 -j ACCEPTiptables -A OUTPUT -p tcp --sport 888 -m state --state ESTABLISHED -j ACCEPTiptables -A INPUT -p tcp -s 0/0 --dport xxx -j ACCEPTiptables -A OUTPUT -p tcp --sport xxx -m state --state ESTABLISHED -j ACCEPT CentOS ‰øùÂ≠òÈÖçÁΩÆ 123iptables-save &gt; /etc/sysconfig/iptables``` ÈáçËΩΩ iptables iptables -L 12 * debian 7 ‰øùÂ≠òÈÖçÁΩÆ iptables-save &gt; /etc/iptables-rulesip6tables-save &gt; /etc/ip6tables-rules 1ÈöèÂêé‰øÆÊîπ/etc/network/interfacesÊñá‰ª∂ÔºåÊúÄÂêéÂä†ÂÖ• pre-up iptables-restore &lt; /etc/iptables-rulespre-up ip6tables-restore &lt; /etc/ip6tables-rules 1234 ÈáçÂêØÊâßË°å`iptables -L`ÔºåÁúãÂà∞ÈÖçÁΩÆÂ∑≤ÁîüÊïà„ÄÇ## ÂÆâË£Ö CSF Èò≤ÁÅ´Â¢ô* ÂëΩ‰ª§ rm -fv csf.tgzwget http://download.configserver.com/csf.tgztar -xzf csf.tgzcd csfsh install.sh//‰ΩøÁî®‰∏ãËæπÁöÑÂëΩ‰ª§Êù•È™åËØÅcsfÊ≠£Á°ÆÂÆâË£ÖÂπ∂Â∑≤ÁªèËøêË°åperl /usr/local/csf/bin/csftest.pl 1234567891011## autoban Ë°•‰∏ÅÔºà8.22ÔºâÊé®Ëçê* Êù•Ëá™ssÂéü‰ΩúËÄÖ@clowwindy ÁöÑË°•‰∏ÅÔºåbanÊéâÈÇ£‰∫õÂ∞ùËØïÁ†¥ËØëssÂØÜÁ†ÅÁöÑipÔºåÂú®Ê≠§ÂØπÂéü‰ΩúËÄÖË°®Á§∫Êï¨ÊÑèÔºÅ* ÂéüÁêÜÊòØÂêå‰∏Ä‰∏™ipÂá∫Áé∞3Ê¨°‰ª•‰∏äÂ∞ùËØïÁ†¥ËØëssÂØÜÁ†Å‰ºöË¢´Ê∞∏‰πÖbanÊéâÔºåssr‰πüÂèØÁî®* ÊµãËØïÂè™Âú®debian 7‰∏äËøõË°åÔºåÈúÄË¶ÅpythonÁéØÂ¢ÉÔºå‰ΩÜÊòØÈÄöËøáÁßãÊ∞¥ÈÄ∏ÂÜ∞ËÑöÊú¨ÂÆâË£Össr Â∑≤ÁªèÂÆâË£ÖÂ•Ω‰∫ÜpythonÁéØÂ¢É„ÄÇ* ‰ª•‰∏ãÂÜÖÂÆπÂèÇËÄÉ &gt;https://plus.google.com/104980438521301094845/posts/9zypCffhdZu---* ‰∏ãËΩΩËÑöÊú¨ wget https://raw.githubusercontent.com/Jasper-1024/shadowsocksr/manyuser/utils/autoban.py 12 * ssrËøêË°å python autoban.py &lt; /var/log/shadowsocksr.log 1234 Êü•ÁúãÂì™‰∫õipËØïÂõæËøûÊé•Á†¥Ëß£ssrÂØÜÁ†Å„ÄÇÂéüÁâàssÂ∞ÜlogÊñá‰ª∂Ë∑ØÂæÑÊõøÊç¢Âç≥ÂèØ„ÄÇ * Ëá™Âä®ban ip ÁºñËæë/etc/init.d/rc.localÔºåÂä†ÂÖ• python /root/autoban.py &lt; /var/log/shadowsocksr.log nohup tail -F /var/log/shadowsocksr.log | python /root/autoban.py &gt;log 2&gt;log &amp;```‰øùÂ≠òÈÄÄÂá∫Âç≥ÂèØ„ÄÇ]]></content>
      <categories>
        <category>ÁßëÂ≠¶‰∏äÁΩë</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>VPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîRxjava2]]></title>
    <url>%2F2017%2F03%2F07%2FAndroid%E7%AC%94%E8%AE%B0%E2%80%94Rxjava2%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ãÁªôÂàùÂ≠¶ËÄÖÁöÑRxJava2.0ÊïôÁ®ã(demo‰ª£Á†ÅÊù•Ê∫ê) http://www.jianshu.com/u/c50b715ccaeb ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 Âú®GradleÈÖçÁΩÆ:12compile &apos;io.reactivex.rxjava2:rxjava:2.0.1&apos;compile &apos;io.reactivex.rxjava2:rxandroid:2.0.1&apos; ËßÇÂØüËÄÖÊ®°Âºè Âú®Eventbus‰∏≠‰∫¶Ê∂âÂèä‰∫ÜÁõ∏ÂÖ≥Ê¶ÇÂøµ,ÊØîËæÉÁÆÄÂçï.ÂåÖÊã¨Observable(Ë¢´ËßÇÂØüËÄÖ)„ÄÅObserver(ËßÇÂØüËÄÖ)„ÄÅsubscribe().‰∫ã‰ª∂Áî±Observable(Ë¢´ËßÇÂØüËÄÖ)ÂºÄÂßãÂèëÂá∫,ÈÄöËøásubscribe()ÊúÄÁªàË¢´‰º†ÈÄíÂà∞Observer(ËßÇÂØüËÄÖ).ËÄåÊï¥‰∏™ËøáÁ®ã‰∏≠‰Ω†ÊòØÁ´ôÂú®Observer(ËßÇÂØüËÄÖ)ÁöÑ‰ΩçÁΩÆ,‰πüÂ∞±ÊòØ‰∫ã‰ª∂ÁöÑÊú´Â∞æ,ËßÇÂØüObservable(Ë¢´ËßÇÂØüËÄÖ). ‰∏äÂõæ demo 123456789101112131415161718192021222324252627Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; emitter.onNext(1); emitter.onComplete(); &#125; &#125;).subscribe(new Observer&lt;Integer&gt;() &#123; @Override public void onSubscribe(Disposable d) &#123; Log.d(TAG, &quot;subscribe&quot;); &#125; @Override public void onNext(Integer value) &#123; Log.d(TAG, &quot;&quot; + value); &#125; @Override public void onError(Throwable e) &#123; Log.d(TAG, &quot;error&quot;); &#125; @Override public void onComplete() &#123; Log.d(TAG, &quot;complete&quot;); &#125; &#125;); ‰∫ã‰ª∂Áî±emitter.onNext(1);ÂºÄÂßã,ÊúÄÁªàË¢´public void onNext(Integer value)Áõ∏Â∫î.Ë¢´ËßÇÂØüËÄÖ‰∫ã‰ª∂ÂèëÈÄÅÁªìÊùüË∞ÉÁî®emitter.onComplete();,ÂêåÊó∂ËßÇÂØüËÄÖÊúÄÁªà‰ª•public void onComplete()Áõ∏Â∫î. * note: ‰∏ä‰∏ãÊ∏∏‰ª•.subscribeÂª∫Á´ãËøûÊé•Âêé,‰∫ã‰ª∂Êâç‰ºöÂºÄÂßãÂèëÈÄÅ.Observable(Ë¢´ËßÇÂØüËÄÖ) Observer(ËßÇÂØüËÄÖ) ObservableEmitterObservableEmitterÔºö EmitterÊÑè‰∏∫ÂèëÂ∞ÑÂô®,‰∫ã‰ª∂ÂèëÈÄÅ.onNext(T value)„ÄÅonComplete()ÂíåonError(Throwable error)ÂàÜÂà´ÂØπÂ∫înext‰∫ã‰ª∂„ÄÅcomplete‰∫ã‰ª∂Âíåerror‰∫ã‰ª∂„ÄÇ Observer‰∏≠onNext(Integer value)„ÄÅonError(Throwable e)„ÄÅonComplete()ÂØπÂ∫îÊé•Âèónext‰∫ã‰ª∂„ÄÅcomplete‰∫ã‰ª∂Âíåerror‰∫ã‰ª∂ Ë¢´ËßÇÂØüËÄÖÂèëÈÄÅcomplete‰∫ã‰ª∂Âíåerror‰∫ã‰ª∂Âêé,ËßÇÂØüËÄÖÊé•ÂèóÂêé‰∏çÂÜçÁªßÁª≠ÂìçÂ∫î‰∫ã‰ª∂,Âç≥‰ΩøË¢´ËßÇÂØüËÄÖËøòÂú®ÂèëÈÄÅ‰∫ã‰ª∂.complete‰∫ã‰ª∂Âíåerror‰∫ã‰ª∂‰∫íÊñ•. Âú®Observer‰∏≠,Ë∞ÉÁî®Disposable.dispose(),ÂàáÊñ≠ÁÆ°ÈÅì.Ë¢´ËßÇÂØüËÄÖÁªßÁª≠ÂèëÈÄÅ,‰ΩÜËßÇÂØüËÄÖ‰∏çÂÜçÂìçÂ∫î. subscribe Âª∫Á´ãObservable(Ë¢´ËßÇÂØüËÄÖ) Observer(ËßÇÂØüËÄÖ)‰πãÈó¥ÁöÑÁÆ°ÈÅì.ÊúâÂ§ö‰∏™ÈáçËΩΩ. ÈáçËΩΩ 1234567891011public final Disposable subscribe() &#123;&#125;public final Disposable subscribe(Consumer&lt;? super T&gt; onNext) &#123;&#125;public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) &#123;&#125; public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete) &#123;&#125;public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete, Consumer&lt;? super Disposable&gt; onSubscribe) &#123;&#125;public final void subscribe(Observer&lt;? super T&gt; observer) &#123;&#125; ÈáçËΩΩËØ¥Êòé ‰∏çÂ∏¶ÂèÇÊï∞ : ËßÇÂØüËÄÖ‰∏çÂÖ≥ÂøÉ‰ªª‰Ωï‰∫ã‰ª∂(ÊúâÂçµÁî®üòµ) Âè™Â∏¶onNext : ËßÇÂØüËÄÖÂè™ÂìçÂ∫înext‰∫ã‰ª∂. ÂÖ∂‰ªñÁ±ª‰ºº‚Ä¶.ÊºîÁªéÊé®ÁêÜ‚Ä¶. ÊúÄÂêé‰∏Ä‰∏™ÊòØ‰º†ÂÖ•ÂÆåÊï¥ÁöÑObserverÂØπË±°.(demoÂ∞±ÊòØüôÉ) Êìç‰ΩúÁ¨¶ Âü∫‰∫éRxjavaÁöÑËßÇÂØüËÄÖÊ®°ÂºèÂèØ‰ª•ÊãÜÂàÜÂ§ßÂ§öÊï∞ÁöÑ‰∏öÂä°ÈÄªËæë,Âç≥‰ΩøÂÜçÂ¢ûÂä†ÂæàÂ§öÂäüËÉΩÊï¥‰Ωì‰πü‰∏ç‰ºöËøá‰∫éÊ∑∑‰π±. ‰ΩÜRxjavaÁöÑÂº∫Â§ßÂπ∂‰∏çÂ±ÄÈôêÂú®ÊãÜÂàÜÈÄªËæë.Áî±Ë¢´ËßÇÂØüËÄÖÂà∞ËßÇÂØüËÄÖÁöÑÊï¥‰∏™‰∫ã‰ª∂‰º†ÈÄíËøáÁ®ã,Âü∫‰∫éRxjavaÊàë‰ª¨ÂèØ‰ª•‰ªªÊÑèÊãÜÂàÜ ÂêàÂπ∂ ËΩ¨Êç¢ ‰∫ã‰ª∂„ÄÅÂàáÊç¢Á∫øÁ®ãÁ≠â. * note: Êìç‰ΩúÁ¨¶Êê≠ÈÖç Lambda Ë°®ËææÂºèÈ£üÁî®Êõ¥‰Ω≥ ü§£ÂàõÂª∫ ‰∫ßÁîüÂπ∂ÂèëÈÄÅ Obserable ‰∫ã‰ª∂. ‰ªÖÂ∏∏Áî®,ËØ¶ÁªÜÂú® RxJava 2.x ‰ΩøÁî®ËØ¶Ëß£(‰∫å) ÂàõÂª∫Êìç‰ΩúÁ¨¶ .creat ÂâçÈù¢demo‰∏≠Â∑≤ÁªèÂÆûÈôÖ‰ΩøÁî®Ëøá‰∫Ü Áî®‰∫é‰∫ßÁîü‰∏Ä‰∏™ Obserable Ë¢´ËßÇÂØüËÄÖÂØπË±°,demoÂ¶Ç‰∏äÊâÄÁ§∫. .just ÂØπ‰∫éÁÆÄÂçïÁöÑÂá†‰∏™Êï∞ÊçÆ,Áõ¥Êé•‰ΩøÁî®justÂèëÈÄÅÂç≥ÂèØ,Êó†ÈúÄÂàõÂª∫ Obserable ÂØπË±°.justÊúÄÂ§öÂèØ‰ª•Êé•Êî∂ 10 ‰∏™ÂèÇÊï∞. demo 12Observable.just(&quot;test&quot;,&quot;test2&quot;) .subscribe(str -&gt; Log.i(&quot;tag&quot;, str)); Áõ∏ÂΩì‰∫éÈ°∫Â∫èË∞ÉÁî®onNext(‚Äútest‚Äù)ÂíåonNext(‚Äútest2‚Äù)ÔºåÊúÄÂêéË∞ÉÁî®onCompleteÊñπÊ≥ï„ÄÇ .fromArray ÂäüËÉΩ‰∏éjustÁ±ª‰ºº‰ΩÜfromArrayÊù•Êé•Êî∂‰ªªÊÑèÈïøÂ∫¶ÁöÑÊï∞ÊçÆÊï∞ÁªÑ,‰πüÂèØ‰ª•Áõ¥Êé•‰º†ÂÖ•Êï∞ÁªÑfromArray(new int[]{1, 2, 3}) demo 12Observable.fromArray(1, 2, 3, 4, 5) .subscribe(integer -&gt; Log.i(&quot;tag&quot;, String.valueOf(integer))); fromArray‰∏çÊîØÊåÅÁõ¥Êé•‰º†ÂÖ•listËøõÔºålist‰ºöË¢´ÂΩì‰Ωú‰∏Ä‰∏™Êï¥‰ΩìÂèëÈÄÅ. .fromIterable ÂäüËÉΩ‰∏éfromArrayÁ±ª‰ºº,‰ΩÜÊòØÂèØ‰ª•Êé•Êî∂ list Á±ªÂûã,ÈÅçÂéÜÂèØËø≠‰ª£Êï∞ÊçÆÈõÜÂêà. demo12345678List&lt;String&gt; list = new ArrayList&lt;&gt;();list.add(&quot;a&quot;);list.add(&quot;b&quot;);list.add(&quot;c&quot;);Flowable.fromIterable(list).subscribe( s -&gt; Log.i(&quot;tag&quot;, s)); .timer ÊåáÂÆö‰∏ÄÊÆµÊó∂Èó¥Èó¥ÈöîÂêéÂèëÈÄÅÊï∞ÊçÆ(‰∏ÄÊ¨°ÊÄß),‰∏çÂ§™Â∏∏Áî®. Á∫øÁ®ãÂàáÊç¢ ÈªòËÆ§‰∫ã‰ª∂‰º†ÈÄíÁöÑÂèåÊñπÂú®Âêå‰∏ÄÁ∫øÁ®ãÂ∑•‰Ωú. demo 12345observable.subscribeOn(Schedulers.newThread()) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .observeOn(Schedulers.io()) .subscribe(consumer); ÊñπÊ≥ï: .subscribeOn() : ÊåáÂÆöË¢´ËßÇÂØüËÄÖÂèëÈÄÅ‰∫ã‰ª∂Á∫øÁ®ã,‰ªÖÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®Êó∂ÊúâÊïà! .observeOn() : ÊåáÂÆöËßÇÂØüËÄÖ/ÊµÅÂèòÊç¢(ÂØπÂèëÈÄÅÁöÑ‰∫ã‰ª∂Â§ÑÁêÜüññ)Á∫øÁ®ã,Â§öÊ¨°Ë∞ÉÁî®,Â§öÊ¨°ÂàáÊç¢ÊúâÊïà ÂèÇÊï∞: Schedulers.io() : ÈÄÇÁî®‰∫éioÂØÜÈõÜÂûãÊìç‰Ωú,ÁΩëÁªúÈÄö‰ø°„ÄÅÁ£ÅÁõòÊìç‰ΩúÁ≠â. Schedulers.computation() : CPUÂØÜÈõÜÊìç‰Ωú,ÈúÄË¶ÅÂ§ßÈáèCPUËÆ°ÁÆóÁöÑÊìç‰Ωú. Schedulers.newThread() : ÂàõÂª∫Êñ∞Á∫øÁ®ã. AndroidSchedulers.mainThread() : Android‰∏ªÁ∫øÁ®ã,ÈÄöÂ∏∏‰∏∫Êõ¥Êñ∞UIÁ≠â. ËøáÊª§ ÂØπ Obserable ‰∫ã‰ª∂Á≠õÈÄâ. ‰ªÖÂ∏∏Áî®,ËØ¶ÁªÜÂú®RxJava 2.x ‰ΩøÁî®ËØ¶Ëß£(‰∏â) ËøáÊª§Êìç‰ΩúÁ¨¶ .filter Âü∫Êú¨ËøáÊª§Êìç‰ΩúÁ¨¶,ÊåâÁÖß‰ªªÊÑèËá™ÂÆöËßÑÂàôËøáÊª§. ÁªÑÂêàËΩ¨Êç¢.map Â§ÑÁêÜÂâçÂêé‰∫ã‰ª∂Êï∞Èáè‰πãÊØî1:1,‰∫ã‰ª∂ÂèòÊç¢ÂâçÂêéÈ°∫Â∫è‰∏çÂèò map‰ΩúÁî®ÊòØÂØπObservableÂèëÈÄÅÁöÑÊØè‰∏Ä‰∏™‰∫ã‰ª∂,Â∫îÁî®Â§ÑÁêÜÂèòÊç¢ÂáΩÊï∞,ÂÜçÁªßÁª≠ÂÉè‰∏ãÊ∏∏ÂèëÈÄÅ.‰∏≠Èó¥ËøáÁ®ãÂèØ‰ª•ËΩ¨Êç¢‰∫ã‰ª∂Á±ªÂûã„ÄÅÊîπÂèò‰∫ã‰ª∂ÂÜÖÂÆπÁ≠âÁ≠â.Âè™ÈúÄË¶ÅÂèòÊç¢ÂêéÁöÑ‰∫ã‰ª∂Á±ªÂûã‰∏é‰∏ãÊ∏∏Êé•Êî∂ÁöÑÁ±ªÂûãÂåπÈÖçÂç≥ÂèØ. demo 123456789101112131415161718Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; emitter.onNext(1); emitter.onNext(2); emitter.onNext(3); &#125; &#125;).map(new Function&lt;Integer, String&gt;() &#123; @Override public String apply(Integer integer) throws Exception &#123; return &quot;This is result &quot; + integer; &#125; &#125;).subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(String s) throws Exception &#123; Log.d(TAG, s); &#125; &#125;); ËøôÈáåÊòØÊääintÁ±ªÂûãËΩ¨Êç¢‰∏∫‰∫ÜstringÁ±ªÂûã,‰∏éËßÇÂØüËÄÖÊé•Êî∂ÁöÑÁ±ªÂûãÂåπÈÖçÂç≥ÂèØ. .flatMap Â§ÑÁêÜÂâçÂêé‰∫ã‰ª∂Êï∞Èáè‰πãÊØî 1:n,‰∫ã‰ª∂ÂèòÊç¢ÂâçÂêéÈ°∫Â∫è‰∏ç‰øùËØÅ flatMap,ÈÄö‰øóÁÇπÂ∞±ÊòØÊääObservableÂèëÈÄÅÁöÑ‰∫ã‰ª∂ÊãÜÊï£ÂèòÊç¢ÂÜç,ÁªßÁª≠ÂÉè‰∏ãÊ∏∏ÂèëÈÄÅ.1‰∏™Observable‰∫ã‰ª∂ÂèØÊãÜÊàê‰ªªÊÑè‰∏™.Âè™ÈúÄË¶ÅÂèòÊç¢ÂêéÁöÑ‰∫ã‰ª∂Á±ªÂûã‰∏é‰∏ãÊ∏∏Êé•Êî∂ÁöÑÁ±ªÂûãÂåπÈÖçÂç≥ÂèØ. demo 12345678910111213141516171819202122Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; emitter.onNext(1); emitter.onNext(2); emitter.onNext(3); &#125; &#125;).flatMap(new Function&lt;Integer, ObservableSource&lt;String&gt;&gt;() &#123; @Override public ObservableSource&lt;String&gt; apply(Integer integer) throws Exception &#123; final List&lt;String&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 3; i++) &#123; list.add(&quot;I am value &quot; + integer); &#125; return Observable.fromIterable(list).delay(10,TimeUnit.MILLISECONDS); &#125; &#125;).subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(String s) throws Exception &#123; Log.d(TAG, s); &#125; &#125;); ËøôÈáåÊòØflatMapÊää‰∏Ä‰∏™intÁ±ªÂûã‰∫ã‰ª∂ÊãÜÊàê‰∫Ü3‰∏™StringÁ±ªÂûã,ËøêË°åÁªìÊûúÁúã,ÊúÄÁªà‰∫ã‰ª∂Âà∞ËææÈ°∫Â∫è‰∏éonNext(1);onNext(2);ÁöÑÂèëÈÄÅÈ°∫Â∫èÊó†ÂÖ≥ .concatMap Â§ÑÁêÜÂâçÂêé‰∫ã‰ª∂Êï∞Èáè‰πãÊØî 1:n,‰∫ã‰ª∂ÂèòÊç¢ÂâçÂêéÈ°∫Â∫èÊåâÈ°∫Â∫è ‰∏éflatMap‰ΩúÁî®Áõ∏Âêå,Âè™ÊòØ‰øùËØÅ‰∫Ü‰∫ã‰ª∂‰∏•Ê†ºÊåâÈ°∫Â∫èËææÂà∞‰∏ãÊ∏∏. demo Â∞±‰∏ç‰∏ä‰∫Ü,Áõ¥Êé•ÊõøÊç¢flatMapÁöÑ‰ΩçÁΩÆÂ∞±Â•Ω. .zip Â§ÑÁêÜÂâçÂêé‰∫ã‰ª∂Êï∞Èáè‰πãÊØî n:1,‰∫ã‰ª∂ÂèòÊç¢ÂâçÂêéÈ°∫Â∫è‰∏•Ê†ºÊåâÈ°∫Â∫è zip.ÊúÄÂ∏∏ËßÅÁöÑÂéãÁº©Êñá‰ª∂Ê†ºÂºè,Âú®ËøôÈáå‰πüÊòØÁ±ª‰ººÁöÑÊÑèÊÄù,zipÂèØ‰ª•‰∏•Ê†ºÊåâÁÖßÈ°∫Â∫èÂêàÂπ∂Â§ö‰∏™ ‰∏çÂêåÁ±ªÂûã ObservableÂèëÈÄÅÁöÑ‰∫ã‰ª∂.ÊÄªÁöÑÂèëÈÄÅ‰∫ã‰ª∂Êï∞Èáè‰∏é‰∏äÊ∏∏ObservableÂèëÈÄÅÊúÄÂ∞ëÁöÑÈÇ£‰∏™Êï∞ÈáèÁõ∏Âêå. demo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869Observable&lt;Integer&gt; observable1 = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; Log.d(TAG, &quot;emit 1&quot;); emitter.onNext(1); Thread.sleep(1000); Log.d(TAG, &quot;emit 2&quot;); emitter.onNext(2); Thread.sleep(1000); Log.d(TAG, &quot;emit 3&quot;); emitter.onNext(3); Thread.sleep(1000); Log.d(TAG, &quot;emit 4&quot;); emitter.onNext(4); Thread.sleep(1000); Log.d(TAG, &quot;emit complete1&quot;); emitter.onComplete(); &#125; &#125;).subscribeOn(Schedulers.io()); Observable&lt;String&gt; observable2 = Observable.create(new ObservableOnSubscribe&lt;String&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;String&gt; emitter) throws Exception &#123; Log.d(TAG, &quot;emit A&quot;); emitter.onNext(&quot;A&quot;); Thread.sleep(1000); Log.d(TAG, &quot;emit B&quot;); emitter.onNext(&quot;B&quot;); Thread.sleep(1000); Log.d(TAG, &quot;emit C&quot;); emitter.onNext(&quot;C&quot;); Thread.sleep(1000); Log.d(TAG, &quot;emit complete2&quot;); emitter.onComplete(); &#125; &#125;).subscribeOn(Schedulers.io()); Observable.zip(observable1, observable2, new BiFunction&lt;Integer, String, String&gt;() &#123; @Override public String apply(Integer integer, String s) throws Exception &#123; return integer + s; &#125; &#125;).subscribe(new Observer&lt;String&gt;() &#123; @Override public void onSubscribe(Disposable d) &#123; Log.d(TAG, &quot;onSubscribe&quot;); &#125; @Override public void onNext(String value) &#123; Log.d(TAG, &quot;onNext: &quot; + value); &#125; @Override public void onError(Throwable e) &#123; Log.d(TAG, &quot;onError&quot;); &#125; @Override public void onComplete() &#123; Log.d(TAG, &quot;onComplete&quot;); &#125; &#125;); ËøôÈáå‰∏§‰∏™‰∫ã‰ª∂ÂèëÈÄÅÂú®Âêå‰∏ÄÁ∫øÁ®ã‰∏≠.ÂΩì‰∏§‰∏™‰∫ã‰ª∂ÂèëÈÄÅ‰∏çÂÜçÂêå‰∏ÄÁ∫øÁ®ãÊó∂,ÊÉÖÂÜµÁ±ª‰ºº,‰∏çËøáÂΩìÂºÇÊ≠•Êó∂,Êï∞ÈáèËæÉÂ∞ëÁöÑ‰∫ã‰ª∂ÂèëÈÄÅÂÆåÊàê,ÂèëÈÄÅComplete‰∫ã‰ª∂Âêé,ÈÄöÈÅìÈöèÂç≥Ë¢´ÂàáÊñ≠. .Concat Â§ÑÁêÜÂâçÂêé‰∫ã‰ª∂Êï∞Èáè‰πãÊØî n:1,‰∫ã‰ª∂ÂèòÊç¢ÂâçÂêéÈ°∫Â∫è‰∏•Ê†ºÊåâÈ°∫Â∫è Concat,ÂèØ‰ª•‰∏•Ê†ºÊåâÁÖßÈ°∫Â∫èÂêàÂπ∂ Áõ∏ÂêåÁ±ªÂûã ObservableÂèëÈÄÅÁöÑ‰∫ã‰ª∂. Backpressure * Ë¢´ÁøªËØë‰∏∫ËÉåÂéã‚Ä¶(Â¶ÇÊ≠§Êñá‰∏çËææÊÑèÁöÑÁõ¥ËØë,ËÉΩÂøç?ÂæÄ‰∏ãÈÉΩÊòØÂõ†‰∏∫ÂéüÊñá..üòà) ÂÖ∂ÂÆûÊ¶ÇÂøµÊúâÂ§üÁÆÄÂçï:Â∞ÜÊï¥‰∏™‰∫ã‰ª∂‰∫ßÁîü/‰º†ÈÄí/Â§ÑÁêÜÁöÑËøáÁ®ãÊÉ≥Ë±°‰∏∫‰∏ÄÊù°Ê≤≥ÊµÅÁî±‰∏äËÄå‰∏ã, Backpressure ÊåáÁöÑÊòØ‰∏äÊ∏∏‰∫ßÁîüÁöÑ‰∫ã‰ª∂Â§™Âø´,ËøúËøúË∂ÖËøá‰∫Ü‰∏ãÊ∏∏ÁöÑÂ§ÑÁêÜÈÄüÂ∫¶,‰ª•Ëá≥‰∫éÁºìÂÜ≤Âå∫Ê∫¢Âá∫.‰∏äÊ∏∏Êù•‰∫ÜÊ¥™Ê∞¥,‰∏ãÊ∏∏ÂæÑÊµÅÈáè‰∏çÂ§ü,‰ª•Ëá≥‰∫é‰∏≠Èó¥Ê≤≥ÈÅìË∑®Ëøá‰∫ÜÂ†§Â≤∏,Ê∫¢Âá∫. FlowableÂü∫Á°Ä Rxjava 1.x‰∏≠ÈúÄË¶ÅËá™Ë°åÈÄöËøáÊìç‰ΩúÁ¨¶Â§ÑÁêÜ,Âà∞‰∫Ü2.0‰∏≠,ÂàôÊúâ‰∫Ü‰∏ìÈó®ÂØπ‰ªòÂèëÊ¥™Ê∞¥‰∏äÊ∏∏ÁöÑË¢´ËßÇÂØüËÄÖ- Flowable .Êàë‰ª¨Â∏∏Áî®ÁöÑ observable Âú®2.x‰∏≠‰∏ÄËà¨Áî®‰∫é‰∏çÊ∂âÂèä Backpressure ÁöÑÊÉÖÂÜµ.ËÄåÂØπÂ∫î‰∏é observable ÁöÑ Observer ,Êîπ‰∏∫‰∫Ü Subscriber . demo 12345678910111213141516171819202122232425262728293031323334353637383940Flowable&lt;Integer&gt; upstream = Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(FlowableEmitter&lt;Integer&gt; emitter) throws Exception &#123; Log.d(TAG, &quot;emit 1&quot;); emitter.onNext(1); Log.d(TAG, &quot;emit 2&quot;); emitter.onNext(2); Log.d(TAG, &quot;emit 3&quot;); emitter.onNext(3); Log.d(TAG, &quot;emit complete&quot;); emitter.onComplete(); &#125; &#125;, BackpressureStrategy.ERROR); //Â¢ûÂä†‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞ Subscriber&lt;Integer&gt; downstream = new Subscriber&lt;Integer&gt;() &#123; @Override public void onSubscribe(Subscription s) &#123; Log.d(TAG, &quot;onSubscribe&quot;); s.request(Long.MAX_VALUE); //Ê≥®ÊÑèËøôÂè•‰ª£Á†Å &#125; @Override public void onNext(Integer integer) &#123; Log.d(TAG, &quot;onNext: &quot; + integer); &#125; @Override public void onError(Throwable t) &#123; Log.w(TAG, &quot;onError: &quot;, t); &#125; @Override public void onComplete() &#123; Log.d(TAG, &quot;onComplete&quot;); &#125; &#125;; upstream.subscribe(downstream); Ê≥®ÊÑè‰∏§‰∏™Âú∞Êñπ FlowableÂàõÂª∫Êó∂ÊØî observable Â§ö‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞.(ÂèÇÊï∞‰ΩúÁî®‰∏ãËäÇËØ¥Êòé) Subscriber‰∏≠Ë∞ÉÁî®‰∫Ü s.request . Flowable ‰∏é Observable ÊúÄÂ§ßÁöÑ‰∏çÂêåÂ∞±ÊòØ FlowableÂÜçÊ¨°ÂèëÈÄÅ‰∫ã‰ª∂ÈúÄË¶ÅÁ≠âÂæÖ Subscriber ‰∏≠Ë∞ÉÁî® .request .request() ÂÆûË¥®‰∏äÊòØ‰∏ãÊ∏∏ÂëäÁü•‰∏äÊ∏∏Ëá™Â∑±ÁöÑÂ§ÑÁêÜËÉΩÂäõ,‰ΩøÂæó‰∏äÊ∏∏Ê†πÊçÆ‰∏ãÊ∏∏Â§ÑÁêÜËÉΩÂäõÂèëÈÄÅ‰∫ã‰ª∂.Â§öÊ¨°Ë∞ÉÁî®,‰∏äÊ∏∏Ë°®Á§∫Â§ÑÁêÜËÉΩÂäõÁöÑÊï∞Â≠ó‰ºöÂè†Âä†,‰∏äÊ∏∏ÊØèÂèëÈÄÅ‰∏Ä‰∏™‰∫ã‰ª∂,ËØ•Êï∞Â≠óÂáè‰∏Ä,Âà∞0ÊäõÂá∫ÂºÇÂ∏∏ ‰∏ä‰∏ãÊ∏∏Âú®Âêå‰∏ÄÁ∫øÁ®ãÊó∂,‰∏ãÊ∏∏Ê≤°ÊúâÊàñÊ≤°ÊúâÂèäÊó∂Ë∞ÉÁî® .request ,‰∏äÊ∏∏‰ºöÊäõÂá∫ÂºÇÂ∏∏ ÂºÇÊ≠•Á∫øÁ®ãÊó∂,‰∏ãÊ∏∏Âç≥‰ΩøÊ≤°ÊúâË∞ÉÁî® .request ‰ºöÊúâ128‰∏™‰∫ã‰ª∂ÁöÑÁºìÂ≠òÂå∫.‰∏äÊ∏∏ÂèØÁªßÁª≠ÂèëÂá∫‰∫ã‰ª∂,ÁºìÂ≠òÂå∫Ë∂ÖÂá∫128‰∏™‰∫ã‰ª∂Âêé,ÊäõÂá∫ÂºÇÂ∏∏. FlowableÊãìÂ±ï* ËøôÈáåÂØπ Flowable Â§öÁöÑÂèÇÊï∞ËøõË°åËØ¥Êòé. ÂèÇÊï∞ BackpressureStrategy.BUFFER : ÈªòËÆ§ÁºìÂ≠òÂå∫128,Ëøô‰∏™ÂèÇÊï∞ÊûÅÂ§ßÊãìÂ±ï‰∫ÜÁºìÂ≠òÂå∫,‰ΩøÂæó Flowable Ë°®Áé∞‰∏é Observable Â∑Æ‰∏çÂ§ö. BackpressureStrategy.DROP : 128ÁºìÂ≠òÂå∫Êª°‰∫Ü,Â∞±‰∏¢ÂºÉ‰∏äÊ∏∏‰∫ã‰ª∂,Áõ¥Âà∞‰∏ãÊ∏∏Â§ÑÁêÜ‰∫Ü‰∏Ä‰∏™‰∫ã‰ª∂,ÁºìÂ≠òÂå∫ -1 ,ÂÜçÂÖÅËÆ∏Â≠òÂÖ•Êñ∞ÁöÑ‰∏äÊ∏∏‰∫ã‰ª∂. BackpressureStrategy.LATEST : Ê∞∏Ëøú‰øùÂ≠òÊúÄÂêéËææÂà∞ÁöÑ128‰∏™‰∏äÊ∏∏‰∫ã‰ª∂,‰∏äÊ∏∏ÊúâÊñ∞ÁöÑ‰∫ã‰ª∂Âà∞ËææÊª°ËΩΩÁöÑÁºìÂ≠òÂå∫Êó∂,‰∏¢ÂºÉÁ¨¨‰∏Ä‰∏™Â≠òÂÖ•ÁºìÂ≠òÂå∫ÁöÑ‰∏äÊ∏∏‰∫ã‰ª∂. ÂØπ‰∫é‰∏çÊòØÁî±Êàë‰ª¨ÁºñÂÜôÁöÑ Flowable ‰πüÂèØ‰ª•ÈÄöËøá interval Êìç‰ΩúÁ¨¶Êù•Âä†Â∑•. 12Flowable.interval(1, TimeUnit.MICROSECONDS) .onBackpressureDrop() //Âä†‰∏ä Backpressure Á≠ñÁï• ÂØπÂ∫î‰∏äÊñá,ÊåáÂÆöÂèÇÊï∞Êúâ3,ÊÑèÊÄùÂêå‰∏ä. onBackpressureBuffer() onBackpressureDrop() onBackpressureLatest()]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚Äî‰ªøÁªøËâ≤ÂÆàÊä§ÂóúÁù°Ê®°ÂºèÈÄöÁü•]]></title>
    <url>%2F2017%2F03%2F07%2FAndroid%E7%AC%94%E8%AE%B0%E2%80%94%E4%BB%BF%E7%BB%BF%E8%89%B2%E5%AE%88%E6%8A%A4%E5%97%9C%E7%9D%A1%E6%A8%A1%E5%BC%8F%E9%80%9A%E7%9F%A5%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) Android Training Notifying the User Android API ÈÄöÁü• „ÄêAndroid„ÄëÁä∂ÊÄÅÊ†èÈÄöÁü•Notification„ÄÅNotificationManagerËØ¶Ëß£ ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ OneTapDozeÈÅáÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™ÈöæÈ¢òÔºåÈ°∫Â∏¶ËÆ∞ÂΩïAndroid ÈÄöÁü•Áõ∏ÂÖ≥ÂÜÖÂÆπ ÊúÄÁªàÊïàÊûú ÁªøËâ≤ÂÆàÊä§ËøõÂÖ•dozeÊ®°ÂºèÂêéÔºå‰ºöÂú®ÈÄöÁü•Ê†èÂàõÂª∫‰∏Ä‰∏™ËÆ°Êó∂ÈÄöÁü• Â¶Ç‰∏ãÂõæ ÈÄÄÂá∫dozeÊ®°ÂºèÂêéÔºå‰ºöÊåáÁ§∫ËøõÂÖ•dozeÂíåÈÄÄÂá∫dozeÁöÑÊó∂Èó¥ÊÆµ„ÄÇ Êàë‰ª¨Ë¶Å‰ªøÁÖßÁöÑÊ†∑ÂºèÂ∞±ÊòØËøôÊ†∑ÔºåËøõÂÖ•ÈÄÄÂá∫dozeÔºåÂØπÂ∫îÂàõÂª∫ÈÄöÁü•ÁöÑ‰ª£Á†ÅÈÉΩÂú®dozeÊ®°ÂºèÊîπÂèòÁöÑBroadcast‰∏≠„ÄÇ Âü∫Á°ÄÈÉ®ÂàÜÂàõÂª∫ÈÄöÁü• Ë°åÊñáÂâçÔºöAndroidÊØèÊ¨°ÁâàÊú¨Âá†‰πéÈÉΩ‰ºöÊúâÈÄöÁü•APIÁöÑÊîπÂä®Ôºå‰∏çÂêåÁâàÊú¨‰πãÈó¥ÈÄöÁü•ÂÖºÂÆπÊÄßÂæàÊòØÈóÆÈ¢òÔºå‰∏∫Ê≠§Êàë‰ª¨‰ΩøÁî®support_v7 Â∫ì‰∏≠ÁöÑNotificationCompat.Builder‰ª£ÊõøNotification.Builder‰∫åËÄÖ‰ΩøÁî®ÊñπÂºèÁõ∏Âêå Ê∂âÂèäÂà∞ÁöÑ‰∏§‰∏™Á±ª NotificationManager Notification (supportÂ∫ì‰∏≠ÂØπÂ∫îNotificationCompat) NotificationManager Áä∂ÊÄÅÊ†èÈÄöÁü•ÁöÑÁÆ°ÁêÜÁ±ªÔºåË¥üË¥£ÂèëÈÄöÁü•„ÄÅÊ∏ÖÈô§ÈÄöÁü•Á≠â NotificationManager ÊòØ‰∏Ä‰∏™Á≥ªÁªüServiceÔºåÂøÖÈ°ªÈÄöËøá getSystemService()ÊñπÊ≥ïÊù•Ëé∑Âèñ Notification ÂÖ∑‰ΩìÁöÑÁä∂ÊÄÅÊ†èÈÄöÁü•ÂØπË±°ÔºåÂèØ‰ª•ËÆæÁΩÆicon„ÄÅÊñáÂ≠ó„ÄÅÊèêÁ§∫Â£∞Èü≥„ÄÅÊåØÂä®Á≠âÂèÇÊï∞ ‰∏Ä‰∏™BuilderÂØπË±°Ëá≥Â∞ëÂåÖÂê´‰∏â‰∏™ÊñπÈù¢ ‰∏Ä‰∏™Â∞èÂõæÊ†áÔºåÈÄöËøásetSmallIcon()ÊñπÊ≥ïËÆæÁΩÆ„ÄÇ ÈÄöÁü•Ê†áÈ¢òÔºåÈÄöËøásetContentTitle()ÊñπÊ≥ïËÆæÁΩÆ„ÄÇ ËØ¶ÁªÜÊñáÊú¨ÔºåÈÄöËøásetContentText()ÊñπÊ≥ïËÆæÁΩÆ„ÄÇ ÁÆÄÂçïÁ§∫‰æã ÂàõÂª∫ÈÄöÁü•ÊûÑÂª∫Âô® ‰ª£Á†Å 123456Notification notification = new NotificationCompat.Builder(this) .setContentTitle("ËøôÊòØÈÄöÁü•Ê†áÈ¢ò") .setContentText("ËøôÊòØÈÄöÁü•ÂÜÖÂÆπ") //ËøôÈáå‰ΩøÁî®ÁöÑÊòØÂ∫îÁî®ÂõæÊ†áÔºå‰∏ÄËà¨Ê≤°‰∫∫Ëøô‰πàÂπ≤ÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÊñπ‰æø .setSmallIcon(R.mipmap.ic_launcher) .build(); ÂèëÂ∏ÉÈÄöÁü• Ëé∑ÂæóNotificationManagerÁöÑÂÆû‰æã ‰ΩøÁî®notify()ÊñπÊ≥ïÂèëÂ∏ÉÈÄöÁü•„ÄÇÂú®Ë∞ÉÁî®notify()ÊñπÊ≥ï ÊåáÂÆöÈÄöÁü•ÁöÑIDÔºå(IDÁî®‰∫éÈÄöÁü•Êõ¥Êñ∞) Âä†ËΩΩNotificationÂÆû‰æã 1234int mNotificationId = 001;NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);manager.notify(mNotificationId, notification); ÊïàÊûúÂ¶Ç‰∏ã android 7.0 / 6.0 /4.0 ÈÄöËøá Êõ¥Êñ∞ÈÄöÁü• ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑNotificationCompatÂØπË±°Ôºå‰πüÂèØ‰ª•Âú®ÂéüNotificationCompatÂØπË±°Âü∫Á°Ä‰∏ä‰øÆÊîπÔºåÊúÄÂêéÂè™Ë¶Å .notify ÊñπÊ≥ï‰∏≠ÂØπÂ∫îÂêå‰∏Ä‰∏™ mNotificationId ÔºåÁ≥ªÁªüÂ∞±‰ºöËá™Âä®Êõ¥Êñ∞Â∑≤ÊúâÈÄöÁü•Ôºå‰ª£Á†Å‰∏çÂú®Á¥ØËµò„ÄÇ Âü∫Á°ÄÈÉ®ÂàÜÂà∞Ê≠§ÔºåË∂≥Áü£ Ê≠£È¢ò ÂÆûÁé∞Êó∂Èó¥ÊÆµÁöÑÊòæÁ§∫ÔºåËÇØÂÆö‰ºö‰øùÂ≠òÁ≥ªÁªüËøõÂÖ•doze ÈÄÄÂá∫dozeÂØπÂ∫îÁöÑÊó∂Èó¥ÁÇπ„ÄÇÂÜçËÆ°ÁÆóÂá∫‰∏≠Èó¥ÁªèÂéÜÁöÑÊó∂Èó¥„ÄÇ ÊèêÂèñÁ≥ªÁªüÊó∂Èó¥ java.util.DateËøôÈáåÁî®Âà∞‰∫Üjava‰∏≠ÁöÑ Êó∂Èó¥Á±ªÂûã java.util.Datejava.util.Date ÊòØjava‰∏≠Â∏∏Áî®Êó∂Èó¥Á±ªÂûãÔºåÂèØ‰ª•Ë¢´SimpleDateFormatÊ†ºÂºèÂåñformat() ÊåáÂÆöËæìÂá∫ÁöÑÊó∂Èó¥Ê†ºÂºèÊØîÂ¶ÇÊàë‰ª¨ÈúÄË¶Å Â∞èÊó∂ÔºöÂàÜÔºöÁßíSimpleDateFormat scanf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);scanf.format(java.util.Date) Âç≥ÂèØ„ÄÇ ÊèêÂâçÂΩìÂâçÁ≥ªÁªüÊó∂Èó¥ 12java.util.Date time_after = null;time_after = new java.util.Date(System.currentTimeMillis()); ËÆ°ÁÆóÊó∂Èó¥Â∑ÆÁêÜËÆ∫‰∏äÊòØ‰∏§‰∏™Êó∂Èó¥Áõ∏ÂáèÂÜçÊ†ºÂºèÂåñËæìÂá∫Âç≥ÂèØÔºåÂèØÊÉúÊ≤°ÊàêÔºåÂéüÂõ†ËøòÊ≤°ÊâæÂà∞„ÄÇ‰∫éÊòØÂúüÂäûÊ≥ïÔºö Ë∞ÉÁî® .getTime() ÊñπÊ≥ïÔºåÂ∞Ü java.util.Date ËΩ¨Âåñ‰∏∫ÊØ´ÁßíËÆ°Êó∂(long) Âèñ‰∏§ËÄÖÂ∑ÆÂÄº ËΩ¨Âåñ‰∏∫ Êó∂Èó¥ÈïøÁü≠ Â≠óÁ¨¶‰∏≤ËøîÂõûÔºå ‰ª£Á†ÅÂ¶Ç‰∏ã123456789101112131415161718192021 size = (time_after.getTime() - time_befor.getTime()); string = scanf.format(time_befor) + "-" + scanf.format(time_after) + "="+ trform(size); String trform(long size) &#123; long day, hour, min, secone; day = size / (1000 * 60 * 60 * 24); //‰ª•Â§©Êï∞‰∏∫Âçï‰ΩçÂèñÊï¥ hour = (size / (60 * 60 * 1000) - day * 24); //‰ª•Â∞èÊó∂‰∏∫Âçï‰ΩçÂèñÊï¥ min = ((size / (60 * 1000)) - day * 24 * 60 - hour * 60); //‰ª•ÂàÜÈíü‰∏∫Âçï‰ΩçÂèñÊï¥ secone = (size / 1000 - day * 24 * 60 * 60 - hour * 60 * 60 - min * 60);if (day != 0) &#123; return day + "d" + hour + "h" + min + "m" + secone + "s"; &#125; else if (hour != 0) &#123; return hour + "h" + min + "m" + secone + "s"; &#125; else if (min != 0) &#123; return min + "m" + secone + "s"; &#125; else &#123; return secone + "s"; &#125; &#125; ÈÄöÁü•Êâ©Â±ïÂ∏ÉÂ±Ä Âú®Â¶Ç‰∏ãÂõæÁâá‰∏≠ÔºåÂèØ‰ª•ÂèëÁé∞ÔºåÈÄöÁü•Âú®ÂèëÂá∫ÂêéÔºåÂè™ÈªòËÆ§ÊòæÁ§∫ÊúÄËøë‰∏ÄÊ¨°ÁöÑÊó∂Èó¥ËÆ∞ÂΩïÔºåÂÖ∂‰ªñÊó∂Èó¥ËÆ∞ÂΩïÂèØ‰ª•Âú®Ê≠§Êù°ÈÄöÁü•‰∏ä‰∏ãÊªëÊü•Áúã„ÄÇÊòéÊòæ‰∏éÂü∫Á°ÄÈÉ®ÂàÜ‰∏çÂêå„ÄÇ Ê≠§Â§ÑÂ∫îÁî®‰∫Ü Builder.setStyle() ÊãìÂ±ïÂ∏ÉÂ±ÄÔºåÈ°æÂêçÊÄù‰πâÔºåËøôÊòØÁî®‰∫éÊãìÂ±ïÈÄöÁü•ÊòæÁ§∫ËåÉÂõ¥ ‰ΩøÁî®Êâ©Â±ïÂ∏ÉÂ±Ä ‰ΩøÁî®ÊãìÂ±ïÂ∏ÉÂ±Ä ÊûÑÂª∫‰∏Ä‰∏™ inboxStyle ÂØπË±° .addLineÊñπÊ≥ï Ê∑ªÂä† String inboxStyle Ë°å ‰ΩøÁî® Builder.setStyle( inboxStyle )Âä†ËΩΩÂà∞ÈÄöÁü• Á≠âÂæÖÈÄöÁü•ÂèëÂ∏ÉÂç≥ÂèØ„ÄÇ ÁÆÄÂçï‰æãÁ®ãÂ¶Ç‰∏ã 123456//ÂàõÂª∫ inboxStyle NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle(); //Ê∑ªÂä† String Ë°å ÔºåÂâçÊèêÊòØ ÊàëÂ∑≤ÁªèÂàõÂª∫‰∫Ü‰∏Ä‰∏™ String inboxStyle.addLine(string); // Âú®notification ËÆæÁΩÆ inboxStyle Âú®‰∏ÄÂ†Ü build ÈáåÈù¢ .setStyle(inboxStyle) Ê∏ÖÈô§ÂéüÊúâÂÜÖÂÆπÔºåÂèëÂ∏ÉÊñ∞ÁöÑ inboxStyle Âè™ÈúÄË¶Å inboxStyle = new NotificationCompat.InboxStyle(); DozeÊ®°ÂºèÊîπÂèòÂπøÊí≠* ÂØπÂ∫î ACTION_DEVICE_IDLE_MODE_CHANGED ÂùëÔºöÂè™ËÉΩÂä®ÊÄÅÊ≥®ÂÜåÔºåÈùôÊÄÅÊ≥®ÂÜåÊó†ÊïàÔºåÂÖ∑‰Ωì‰ª£Á†Å‰∏≠powermanger.ACTION_DEVICE_IDLE_MODE_CHANGED ÈúÄË¶ÅÂÆû‰æãÂåñ PowerManger ÔºåËÄå PowerManger ÂèàÊòØ‰∏é ActivityÁªëÂÆöÔºåÊâÄ‰ª•Âè™ÊúâÂ∫îÁî®‰øùÊåÅÂêéÂè∞Â≠òÊ¥ªÊó∂Êâç‰ºöËøõÂÖ•ÂπøÊí≠„ÄÇ ‰æãÁ®ãÂ¶Ç‰∏ã12345678//ÂÆû‰æãÂåñ PowerManagerPowerManager powermanger = (PowerManager) getApplicationContext().getSystemService(Context.POWER_SERVICE);//Âä®ÊÄÅÊ≥®ÂÜåÂπøÊí≠intentFilter = new IntentFilter();intentFilter.addAction(powermanger.ACTION_DEVICE_IDLE_MODE_CHANGED);//idlemodechage ÊòØ BroadcastReceiver idlemodechage = new IdleModeChange();registerReceiver(idlemodechage, intentFilter);]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîContentResolver]]></title>
    <url>%2F2017%2F01%2F19%2FAndroid%E7%AC%94%E8%AE%B0-ContentResolver%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) android6.0ËøêË°åÊó∂ÊùÉÈôêËØ¶Ëß£ ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ ÂÜÖÂÆπÊèê‰æõÂô®ÊòØÂÆâÂÖ®ÁöÑÂ∫îÁî®Èó¥ÂÖ±‰∫´Êï∞ÊçÆÈÄîÂæÑÔºåÂú®Ê≠£ÂºèËøõÂÖ•‰πãÂâçÈúÄË¶Å‰∫ÜËß£‰∏Ä‰∏ã Android Ëá™6.0‰ª•Êù•ÊùÉÈôêÁöÑÂèòÂåñ Android ÊùÉÈôêËØ¶Ëß£ ËµÑÊñôÊù•Ê∫êÔºö android6.0ËøêË°åÊó∂ÊùÉÈôêËØ¶Ëß£ Develop-API Guides-Á≥ªÁªüÊùÉÈôê Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) AndroidÊùÉÈôê‰ªãÁªç Android ÊòØ‰∏Ä‰∏™ÊùÉÈôêÂàÜÈöîÁöÑÊìç‰ΩúÁ≥ªÁªüÊØè‰∏™Â∫îÁî®Á≥ªÁªüÊ†áËØÜÔºàLinux Áî®Êà∑ ID ÂíåÁªÑ IDÔºâ‰∏çÂêå„ÄÇÁ≥ªÁªüÂêÑÈÉ®ÂàÜÊ†áËØÜ‰∫¶‰∏çÁõ∏Âêå„ÄÇLinux ÊçÆÊ≠§Â∞Ü‰∏çÂêåÁöÑÂ∫îÁî®‰ª•ÂèäÂ∫îÁî®‰∏éÁ≥ªÁªüÂàÜÈöîÂºÄÊù•„ÄÇÊõ¥ËØ¶ÁªÜÁöÑÂÆâÂÖ®ÂäüËÉΩÈÄöËøá‚ÄúÊùÉÈôê‚ÄùÊèê‰æõÔºåÊùÉÈôê ‰ºöÈôêÂà∂ÁâπÂÆöËøõÁ®ãÂèØ‰ª•ÊâßË°åÁöÑÂÖ∑‰ΩìÊìç‰ΩúÔºåÂπ∂‰∏îÊ†πÊçÆ URI ÊùÉÈôêÊéàÊùÉ‰∏¥Êó∂ËÆøÈóÆÁâπÂÆöÁöÑÊï∞ÊçÆÊÆµ ÊùÉÈôêÂ£∞ÊòéÊúÄÂ∏∏ËßÅÁöÑÊùÉÈôêÂ£∞ÊòéÂú® AndroidManifest.xml Êñá‰ª∂‰∏≠‰∏Ä‰∏™ÊàñÂ§ö‰∏™uses-permission Ê†áËÆ∞, ‰æãÂ¶Ç Â£∞ÊòéÁü≠‰ø°ÊùÉÈôê 12345&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.android.app.myapp" &gt; &lt;uses-permission android:name="android.permission.RECEIVE_SMS" /&gt; ... &lt;/manifest&gt; android 6.0 ÊùÉÈôêÊú∫Âà∂android 6.0‰πãÂâç ÊùÉÈôêÂèäÂú®ÂÆâË£ÖÁöÑÊó∂ÂÄôÔºåÊ†πÊçÆÊùÉÈôêÂ£∞Êòé‰∫ßÁîü‰∏Ä‰∏™ÊùÉÈôêÂàóË°®ÔºåÁî®Êà∑Âè™ÊúâÂú®ÂêåÊÑè‰πãÂêéÊâçËÉΩÂÆåÊàêappÁöÑÂÆâË£Ö„ÄÇandroid 6.0 ‰ª•Âêé ÂºïÂÖ•‰∫Ü ËøêË°åÊó∂ÊùÉÈôê ÂäüËÉΩÔºåÂ∫îÁî®ÊâÄÈúÄÊùÉÈôê‰∏çÂÜç‰∏ÄÊ¨°ÊÄßÂú®ÂÆâË£ÖÊó∂Áî≥ËØ∑ÔºåËÄåÊòØÂú®ËøêË°åÊó∂ÈúÄË¶ÅÁî®Âà∞ÈÇ£ÁßçÊùÉÈôêÂêëÁî®Êà∑Áî≥ËØ∑ÔºåÂêåÊó∂Áî®Êà∑‰πüÂèØ‰ª•ÈöèÊó∂ÂèñÊ∂àËØ•ÊéàÊùÉ ÊùÉÈôêÂàÜÁ±ª Normal Permissions(ÊôÆÈÄöÊùÉÈôê)‰∏çÊ∂âÂèäÁî®Êà∑ÈöêÁßÅÔºå‰∏çÈúÄË¶ÅÁî®Êà∑ËøõË°åÊéàÊùÉÁöÑÔºå‰æãÂ¶Ç ÊâãÊú∫ÈúáÂä®„ÄÅËÆøÈóÆÁΩëÁªúÁ≠â Dangerous Permission(Âç±Èô©ÊùÉÈôê)Ê∂âÂèäÂà∞Áî®Êà∑ÈöêÁßÅÁöÑÔºåÈúÄË¶ÅÁî®Êà∑ËøõË°åÊéàÊùÉÔºå‰æãÂ¶Ç ËØªÂèñsdcard„ÄÅËÆøÈóÆÈÄöËÆØÂΩïÁ≠âÂç±Èô©ÊùÉÈôêÁªÑÂ¶ÇË°®1 Â∫îÁî®ËøêË°åÊó∂Áî≥ËØ∑ÊùÉÈôêÔºàÈÄÇÁî®‰∫é Android6.0 Âèä‰ª•‰∏äÁâàÊú¨Ôºâ ÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆû‰æãÊù•ËØ¥ÊòéËøáÁ®ãÂÆû‰æãÔºö Êã®ÊâìÁîµËØù CALLPHONE ÊùÉÈôê‰∏∫‰æã ÊùÉÈôêÂ£∞Êòé1&lt;uses-permission android:name="android.permission.CALL_PHONE"/&gt; Êã®Êâì10010 ‰ª£Á†ÅÂ¶Ç‰∏ã ÊûÑÂª∫‰∏Ä‰∏™ÈöêÂºèintent ÂêØÂä®Êã®ÊâìÁîµËØù123Intent intent = new Intent(Intent.ACTION_CALL);intent.setData(Uri.parse("tel:10010"));startActivity(intent); Âú®‰∏ªÁïåÈù¢‰∏äÊ∑ªÂä†‰∏Ä‰∏™Button Âú®ÂÖ∂onClickÊñπÊ≥ï‰∏≠Êã®ÊâìÁîµËØùÔºåËøêË°åÁ®ãÂ∫è! Âú®An‚Äôd‚Äôroid 6.0 ‰ª•‰∏ãÁâàÊú¨‰∏≠ ÁîµËØùÈÉΩÂèØ‰ª•Ê≠£Â∏∏Êã®Âá∫„ÄÇAndroid 6.0 ‰ª•‰∏äÁâàÊú¨‰∏≠ ÂàôÂèØËÉΩ‰ºöÂ∫îÁî®Â¥©Ê∫É/Êó†ÂèçÂ∫îÔºåÊü•ÁúãlogcatÁöÑÊâìÂç∞Êó•ÂøóÂèØ‰ª•ÁúãÂà∞ ‚ÄúPermission Denial‚ÄùÊùÉÈôêË¢´Á¶ÅÊ≠¢ÁöÑ‰ø°ÊÅØÔºåÊé•‰∏ãÊù•Â∞ùËØï‰ΩøÁî® ËøêË°åÊó∂Áî≥ËØ∑ÊùÉÈôê Ê£ÄÊü•ÊòØÂê¶Â∑≤Ëé∑ÂæóÊéàÊùÉint checkSelfPermission(Context context, String permission)ÊñπÊ≥ï Context context contextString permission ÊùÉÈôêÂÖ∑‰ΩìÂêçÁß∞ÊâìÁîµËØùÂØπÂ∫î Manifest.permission.CALLPHONE ÊñπÊ≥ïËøîÂõû PERMISSION_GRANTED / PERMISSION_DENIED ‰æãÁ®ã12345678if(ContextCompat.checkSelfPermission(MainActivity.this,Manifest.permission.CALL_PHONE) !=PackageManager.PERMISSION_GRANTED)&#123; ;&#125;else &#123; ;&#125; Áî≥ËØ∑ÊùÉÈôêvoid ActivityCompat.requestPermissions (Activity activity, String[] permissions, int requestCode)ÊñπÊ≥ï Activity activity ActivityÂÆû‰æãString[] permissions ËØ∑Ê±ÇÊùÉÈôêÂêçint requestCode ËØ∑Ê±ÇÁ†ÅÔºåÂ§ß‰∫é0Âç≥ÂèØÔºåÂØπÂ∫îÂú®onRequestPermissionsResult ÂõûÊéâÊñπÊ≥ï‰∏≠ÁöÑrequestCode ‰æãÁ®ã 12ActivityCompat.requestPermissions(MainActivity.this,new String[]&#123;Manifest.permission.CALL_PHONE&#125;,1 ); ÊéàÊùÉÂêéÂõûÊéâÊó†ËÆ∫Áî®Êà∑ÊòØÂê¶ÊéàÊùÉÈÉΩ‰ºöËøõÂÖ•ÂõûÊéâÊñπÊ≥ïÔºåÈúÄË¶ÅÈáçÂÜôËØ•ÊñπÊ≥ï„ÄÇvoid onRequestPermissionsResult (int requestCode, String[] permissions, int[] grantResults)ÊñπÊ≥ï int requestCode Âú® requestPermissions ‰∏≠‰º†ÂÖ•ÁöÑËØ∑Ê±ÇÁ†ÅString[] permissions ËØ∑Ê±ÇÁöÑÊùÉÈôêÔºå‰∏ç‰∏∫Á©∫int[] grantResults ÊéàÊùÉÁªìÊûú Âè™Êúâ PERMISSION_GRANTED / PERMISSION_DENIED ‰∏§‰∏™ÂÄº ‰æãÁ®ã 123456789101112131415@Overridepublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) &#123; switch (requestCode) &#123; //ËØ∑Ê±ÇÁ†Å 1 case 1: //ÊéàÊùÉÁªìÊûú(int) ÁöÑ ÈïøÂ∫¶ÊòØÂê¶Â§ß‰∫é0 ‰∏é‰∏ä ÊéàÊùÉÁªìÊûúÊòØÂê¶Á≠â‰∫é PackageManager.PERMISSION_GRANTED if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; //ÊéàÊùÉÈÄöËøáÊâßË°å &#125; else &#123; //ÊéàÊùÉÊ≤°ÊúâÈÄöËøá &#125; break; default: &#125;&#125; ÂΩìÁî®Êà∑ÊãíÁªùÂêéÂÜçÊ¨°ËØ¢ÈóÆ boolean ActivityCompat.shouldShowRequestPermissionRationale(Activity activity, String permission) ÔºàÁúüÂøÉÂ§™Èïø‰∫ÜÔºâ Activity activity ActivityÂÆû‰æãString permission ÊùÉÈôêÂêçÁß∞Â∫îÁî®Á¨¨‰∏ÄÊ¨°ÈúÄË¶ÅÊéàÊùÉÊó∂,Áî®Êà∑ÊéàÊùÉÔºåËØ•ÊñπÊ≥ïËøîÂõûfalse„ÄÇÂΩìÁî®Êà∑ÊãíÁªùÊéàÊùÉ,‰∏ãÊ¨°ÈúÄË¶ÅËØ•ÊùÉÈôêÊó∂,ËØ•ÊñπÊ≥ï‰ºöËøîÂõûtrue ‰æãÁ®ã1234567 if (ActivityCompat.shouldShowRequestPermissionRationale(PermissionActivity.this,Manifest.permission.READ_CONTACTS))&#123;//Á¨¨‰∫åÊ¨°ËØ¢ÈóÆÁî®Êà∑ÊòØÂê¶ÊéàÊùÉ&#125;else&#123;//Áî®Êà∑‰æùÊóßÊãíÁªùÂêéÊìç‰Ωú&#125; ‰æãÁ®ãÊ∫êÁ†Å 123456789101112131415161718192021222324252627282930313233343536373839404142public class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); &#125; public void Button(View view)&#123; if(ContextCompat.checkSelfPermission(MainActivity.this,Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED)&#123; ActivityCompat.requestPermissions(MainActivity.this, new String[]&#123;Manifest.permission.CALL_PHONE&#125;,1 ); &#125;else &#123; call(); &#125; &#125; private void call() &#123; try &#123; Intent intent = new Intent(Intent.ACTION_CALL); intent.setData(Uri.parse("tel:10010")); startActivity(intent); &#125; catch (SecurityException e) &#123; e.printStackTrace(); &#125; &#125; @Override public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) &#123; switch (requestCode) &#123; case 1: if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; call(); &#125; else &#123; Toast.makeText(this, "You denied the permission", Toast.LENGTH_SHORT).show(); &#125; break; default: &#125; &#125; &#125; 12345&lt;Button android:onClick="Button" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Hello World!" /&gt;]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîÊï∞ÊçÆ‰øùÂ≠ò]]></title>
    <url>%2F2017%2F01%2F14%2FAndroid%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 Android ‰∏≠ÁöÑ‰∏ªË¶ÅÊï∞ÊçÆÂ≠òÂÇ® Êúâ‰∏âÁßç ‰øùÂ≠òÈîÆÂÄºÈõÜ Ë¶Å‰øùÂ≠òÁöÑÁõ∏ÂØπËæÉÂ∞èÈîÆÂÄºÈõÜÂêàÔºå‰ΩøÁî® SharedPreferences ‰øùÂ≠òÊñá‰ª∂‰ΩøÁî® Android Êñá‰ª∂Á≥ªÁªüÈÄöËøá File API ËØªÂèñÂíåÂÜôÂÖ•Êñá‰ª∂ÔºåÈÄÇÂêàÊåâÂºÄÂßãÂà∞ÁªìÊùüÁöÑÈ°∫Â∫è‰∏çË∑≥ËøáÂú∞ËØªÂèñÊàñÂÜôÂÖ•Â§ßÈáèÊï∞ÊçÆ„ÄÇ ‰æãÂ¶ÇÔºåÂõæÁâáÊñá‰ª∂ÊàñÈÄöËøáÁΩëÁªú‰∫§Êç¢ÁöÑ‰ªª‰ΩïÂÜÖÂÆπ Âú® SQL Êï∞ÊçÆÂ∫ì‰∏≠‰øùÂ≠òÊï∞ÊçÆAndroidÂÜÖÂª∫ÁöÑSQLite Êï∞ÊçÆÂ∫ìÂ≠òÂÇ®ÈáçÂ§çÊàñÁªìÊûÑÂåñÊï∞ÊçÆ PSÔºöËøôÈáåÂ¶ÇÊûúÊ≤°ÊúâÂ≠¶Ëøá SQL Êï∞ÊçÆÂ∫ì‰ΩøÁî®ÔºåÊé®ËçêLitePal AndroidÂºÄÊ∫êÊï∞ÊçÆÂ∫ìLitePal ÔºöÈÉ≠Èúñ(Á¨¨‰∏ÄË°å‰ª£Á†Å‰ΩúËÄÖ) ËØ¶ÁªÜ‰ªãÁªçÂú®ËøôÈáåÔºàÊáí‰∫∫ÂøÖÂ§áÔºâAndroidÂºÄÊ∫êÊï∞ÊçÆÂ∫ìLitePal ‰øùÂ≠òÈîÆÂÄºÈõÜ ÊÉ≥Ë¶Å‰øùÂ≠òÁöÑÁõ∏ÂØπËæÉÂ∞èÈîÆÂÄºÈõÜÂêà Ë∞ÉÁî®SharedPreferences È¶ñÂÖàÔºöËé∑ÂèñSharedPreferencesÁöÑÂè•ÊüÑÁî®Êà∑ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂÖ±‰∫´ÂèÇÊï∞Êñá‰ª∂ÊàñËÆøÈóÆ‰∏Ä‰∏™Â∑≤ÁªèÂ≠òÂú®ÁöÑÂÖ±‰∫´ÂèÇÊï∞Êñá‰ª∂„ÄÇÂÖ∑‰ΩìÈÄîÂæÑÊúâ‰∏âÊù° getSharedPreferences (String name, int mode) Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöSharedPreferencesÁöÑÂêçÁß∞ÔºåÁ¨¨‰∫å‰∏™ÔºöÂèÇÊï∞ÊåáÂÆöÊìç‰ΩúÊ®°Âºè ÈúÄË¶ÅÂàõÂª∫/ËØªÂèñ Â§ö‰∏™ÂÖ±‰∫´ÂèÇÊï∞Êñá‰ª∂Êó∂‰ΩøÁî®ÔºåÊØè‰∏™Êñá‰ª∂ÈÉΩÊã•Êúâ‰∏Ä‰∏™Ê†áËØÜÁ¨¶ÔºåÂèØ‰ª•ÈÄöËøáËøô‰∏™Ê†áËØÜÁ¨¶ÈÄöËøáËØ•ÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Ëé∑ÂæóÂÖ±‰∫´ÂèÇÊï∞ÂØπË±°„ÄÇÂèØ‰ª•ÈÄöËøáAPP‰∏≠ÁöÑ‰ªªÊÑèContextÂØπË±°Ë∞ÉÁî®ÂÆÉ„ÄÇ Á§∫‰æã12//ÊåáÂÆöSharedPreferencesÂêçÁß∞‰∏∫data Ê®°Âºè‰∏∫MODE_PRIVATEÔºöÂè™ÊúâÂΩìÂâçÁ®ãÂ∫èÊâçÊúâÊùÉÈôêËØªÂèñ/‰øÆÊîπSharedPreferences sharedPref = getSharedPreferences("data", MODE_PRIVATE); getPreferences (int mode) ÂèÇÊï∞ÔºöÊåáÂÆöÊìç‰ΩúÊ®°Âºè Âè™ÂàõÂª∫ Activity ÁöÑ‰∏Ä‰∏™SharedPreferences„ÄÇÂú®Activity ‰∏≠‰ΩøÁî®„ÄÇ ÊñπÊ≥ï‰ºöÊ£ÄÁ¥¢Â±û‰∫éËØ• Activity ÁöÑÈªòËÆ§ÂÖ±‰∫´È¶ñÈÄâÈ°πÊñá‰ª∂ÔºåÊó†ÈúÄÊèê‰æõÂêçÁß∞ Á§∫‰æã12//Ê®°ÂºèÔºöMODE_PRIVATEÔºöÂè™ÊúâÂΩìÂâçÁ®ãÂ∫èÊâçÊúâÊùÉÈôêËØªÂèñ/‰øÆÊîπSharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE); getDefaultSharedPreferences(context) ÂèÇÊï∞Ôºöcontext Ëá™Âä®‰ª•Ê°£ÊúüÂ∫îÁî®Á®ãÂ∫èÂåÖÂêç‰Ωú‰∏∫ÂâçÁºÄÂëΩÂêçSharedPreferencesÊñá‰ª∂ ÂÜôÂÖ•Êï∞ÊçÆÂà∞ÂÖ±‰∫´ÂèÇÊï∞‰∏≠ SharedPreferences Ë∞ÉÁî® edit() ÂàõÂª∫‰∏Ä‰∏™ SharedPreferences.Editor‰ΩøÁî®ËØ∏Â¶Ç putInt() Âíå putString() ÊñπÊ≥ïÂÜôÂÖ•ÁöÑÈîÆÂíåÂÄºÊúÄÂêéË∞ÉÁî®commit() ‰ª•‰øùÂ≠òÊõ¥Êîπ‰πüÂèØË∞ÉÁî®apply() ‰øùÂ≠òÊõ¥Êîπ commit() ‰∏é apply() Áõ∏Âêå/Âå∫Âà´ Áõ∏Âêå ÈÉΩÊòØÊèê‰∫§preference‰øÆÊîπÊï∞ÊçÆ Âå∫Âà´ applyÊ≤°ÊúâËøîÂõûÂÄº commitËøîÂõûbooleanË°®Êòé‰øÆÊîπÊòØÂê¶Êèê‰∫§ÊàêÂäü applyÊòØÂ∞ÜÊìç‰ΩúÊèê‰∫§Âà∞ÂÜÖÂ≠òÔºåËÄåÂêéÂºÇÊ≠•ÁúüÊ≠£Êèê‰∫§Âà∞Êñá‰ª∂ commitÊòØÂêåÊ≠•ÁöÑÊèê‰∫§Âà∞Êñá‰ª∂ Â§ö‰∏™commitÂêåÊó∂Êèê‰∫§Ôºå‰∫íÁõ∏Á≠âÂæÖÔºåÊïàÁéáËæÉ‰Ωé applyÁõ¥Êé•Ë¶ÜÁõñÔºåÊïàÁéáËæÉÈ´ò applyÊ≤°Êúâ‰ªª‰ΩïÈîôËØØÊèêÁ§∫ÔºåÂè™ÊòØÊèê‰∫§ÁöÑÂä®‰Ωú Á§∫‰æã123456//ÂàõÂª∫ .edit()SharedPreferences.Editor editor = sharedPref.edit();//ÂÜôÂÖ•Â≠óÁ¨¶‰∏≤„ÄÇkey-ÂÄº TextVieweditor.putString("TextView","hello");//‰øùÂ≠òÊõ¥Êîπeditor.commit(); ‰ªéÂÖ±‰∫´ÂèÇÊï∞‰∏≠ËØªÂèñÊï∞ÊçÆ Ëé∑ÂèñSharedPreferencesÁöÑÂè•ÊüÑÊñπÂºèÂêå‰∏ä Ë∞ÉÁî®ÊØîÂ¶ÇgetInt()ÊàñgetString()ÊñπÊ≥ïÔºåÁÑ∂Âêé‰º†ÂÖ•ÈîÆÂÄºÔºåÂ¶ÇÊûúÈîÆ‰∏çÂ≠òÂú®ÔºåÂàô‰ºöËøîÂõû‰∏Ä‰∏™ÈªòËÆ§ÂÄº Á§∫‰æã123456//Ëé∑ÂèñSharedPreferencesÁöÑÂè•ÊüÑSharedPreferences sharedPreferences = getSharedPreferences("data",MODE_PRIVATE);//ËØªÂèñÈîÆÂÄºÂØπÂ∫îÊï∞ÊçÆString text = sharedPreferences.getString("TextView","");//ÊâìÂç∞Âà∞log‰∏≠ È™åËØÅLog.d("data",text); ‰øùÂ≠òÂà∞Êñá‰ª∂ Android ËÆæÂ§áÊúâ‰∏§‰∏™Êñá‰ª∂Â≠òÂÇ®Âå∫ÂüüÔºö ÂÜÖÈÉ®Â≠òÂÇ® Âíå Â§ñÈÉ®Â≠òÂÇ®Android ËÆæÂ§áÊó©ÊúüÂÜÖÁΩÆÁöÑÈùûÊòìÂ§±ÊÄßÂÜÖÂ≠òÔºàÂÜÖÈÉ®Â≠òÂÇ®ÔºâÔºå‰ª•ÂèäÁßªÂä®Â≠òÂÇ®‰ªãË¥® ÂæÆÂûã SD Âç°Á≠âÔºàÂ§ñÈÉ®Â≠òÂÇ®Ôºâ‰ªª‰ΩïAndroidËÆæÂ§áÂßãÁªàÊúâ‰∏§‰∏™Â≠òÂÇ®Á©∫Èó¥ÔºåÂπ∂‰∏îÊó†ËÆ∫Â§ñÈÉ®Â≠òÂÇ®ËÆæÂ§áÊòØÂê¶ÂèØÁßªÂä®ÔºåAPI ÁöÑË°å‰∏∫Âùá‰∏ÄËá¥ AndroidÁöÑÊñá‰ª∂Â≠òÂÇ®ÊòØ‰ª•javaÊµÅ‰∏∫Âü∫Á°ÄÔºåÂπ∂‰ºòÂåñ‰∫Ü‰∏Ä‰∫õÊìç‰Ωú„ÄÇjavaÊµÅ‰∏çÂ±û‰∫éÊú¨ÊñáËåÉÂõ¥„ÄÇ Ê∂âÂèäjavaÊµÅÈÉ®ÂàÜÂèÇËÄÉAndroidÊñá‰ª∂IOËØ¶Ëß£ ÂÜÖÈÉ®Â≠òÂÇ®‰øùÂ≠òÂà∞ÂÜÖÈÉ®Â≠òÂÇ® Êüê‰∏ÄÂ∫îÁî®ÂØπÂÖ∂ÂÜÖÈÉ®Â≠òÂÇ® ÂßãÁªàÂÖ∑Êúâ ËøõË°åËØªÂÜôÁöÑÊùÉÈôêÔºåËÄåÊó†ÈúÄÂ£∞Êòé‰ªª‰ΩïÊùÉÈôêÔºåÂú® Android N‰πãÂâçÔºåÂÜÖÈÉ®Êñá‰ª∂ÂèØ‰ª•ÈÄöËøáÊîæÂÆΩÊùÉÈôêËÆ©ÂÖ∂‰ªñÂ∫îÁî®ËÆøÈóÆ„ÄÇ‰ΩÜÊòØÊûÅ‰∏çÊé®Ëçê‰ª•ËøôÁßçÊñπÂºèÂÖ±‰∫´Êñá‰ª∂ ÁÆÄÂçïÂÆû‰æã 123456789101112131415161718192021222324252627public void save(String inputText)&#123; //Êñ∞Âª∫‰∏Ä‰∏™FileOutputStreamÂØπË±°(Â≠óËäÇÊµÅ) FileOutputStream out = null; //Êñ∞Âª∫‰∏Ä‰∏™BufferedWriter (Â≠óÁ¨¶ÊµÅ) BufferedWriter writer = null; try&#123; //out ÂÆû‰æãÂåñ out = openFileOutput("data",Context.MODE_PRIVATE); //OutputStreamWrit Â≠óËäÇÊµÅËΩ¨Êç¢‰∏∫Â≠óÁ¨¶ÊµÅ //Â≠óÁ¨¶ÊµÅÁªëÂÆöBufferedWriter(ÁºìÂÜ≤Âå∫) writer = new BufferedWriter(new OutputStreamWriter(out)); //ÂÜôÂÖ•Âà∞Êñá‰ª∂ writer.write(inputText); &#125;catch (IOException e )&#123; e.printStackTrace(); &#125; finally &#123; try&#123; //Â¶ÇÊûúÂÜôÂÖ•ÊàêÂäü if (writer != null) &#123; //ÂÖ≥Èó≠ÊµÅ writer.close(); &#125; &#125;catch (IOException e)&#123; e.printStackTrace(); &#125; &#125; &#125; FileOutputStreamÔºö ÁªßÊâøËá™ OutputStream Áî®‰∫éÊñá‰ª∂Â§ÑÁêÜÁöÑËäÇÁÇπÊµÅ Áî®‰∫éÂÜôÂÖ•ÂéüÂßãÂ≠óËäÇÊµÅÂà∞Êñá‰ª∂ FileOutputStream openFileOutput (String name, int mode) ËøîÂõûFileOutputStreamÂØπË±° Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊñá‰ª∂Âêç Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÊìç‰ΩúÊ®°ÂºèÔºåÊúâ4ÁßçÂèñÂÄº MODEPRIVATE(ÈªòËÆ§)ÂΩìÂêå‰∏ÄÊñá‰ª∂ÂêçÂ≠òÂú®Êó∂Ë¶ÜÁõñÂéüÊñá‰ª∂ MODEAPPEND ÂΩìÂêåÂêçÊñá‰ª∂Â≠òÂú®Êó∂ÔºåÂú®ÂéüÊñá‰ª∂Êú´Â∞æËøΩÂä† ÂÖ∂‰Ωô‰∏§ÁßçÂùáÂú®android4.2Âèä‰ª•‰∏äÁâàÊú¨‰∏≠Â∫üÂºÉ OutputStreamWrit ÁªßÊâøËá™ Writer Â∞ÜÂ≠óËäÇÊµÅËΩ¨Êç¢‰∏∫Â≠óÁ¨¶ÊµÅ BufferedWriter ÁªßÊâøËá™Writer ÁªëÂÆöÂ≠óÁ¨¶ËæìÂá∫ÊµÅÔºåÊèêÈ´òÂÖ∑‰ΩìÁöÑÊµÅÂØπË±°ÁöÑÊïàÁéá .flush()ÊñπÊ≥ï ÂØπÁºìÂÜ≤Âå∫ËøõË°åÂà∑Êñ∞ÔºåËÆ©Êï∞ÊçÆÂà∞ÁõÆÁöÑÂú∞ .close();ÊñπÊ≥ï ÂÖ≥Èó≠ÁºìÂÜ≤Âå∫ÔºåÂç≥ÂÖ≥Èó≠ÁªëÂÆöÁöÑÊµÅ ‰ªéÂÜÖÈÉ®Â≠òÂÇ®ËØªÂèñÊñá‰ª∂ ÁÆÄÂçïÂÆû‰æã 123456789101112131415161718192021222324252627282930313233343536public String load()&#123; //Êñ∞Âª∫FileInputStreamÂØπË±° FileInputStream in = null; //Êñ∞Âª∫ BufferedReaderÂØπË±° BufferedReader reader = null; //Êñ∞Âª∫‰∏Ä‰∏™StringBuilder Á©∫ content = new StringBuilder(); try&#123; //FileInputStreamÂØπË±°ÂÆû‰æãÂåñ in = openFileInput("data"); //Â≠óËäÇÊµÅËΩ¨Êç¢‰∏∫Â≠óÁ¨¶ÊµÅ //ÁºìÂÜ≤ÊµÅÁªëÂÆöÂ≠óÁ¨¶ÊµÅ reader = new BufferedReader(new InputStreamReader(in)); //Á©∫ String String line = ""; //ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπÔºåÂπ∂Âà§Êñ≠ÊòØÂê¶ËØªÂèñÂÆåÊàê while((line = reader.readLine())!=null)&#123; //ËØªÂèñÂÜÖÂÆπÊ∑ªÂä†Âà∞ StringBuilder ÂØπË±°‰∏≠ content.append(line); &#125; &#125;catch (IOException e)&#123; e.printStackTrace(); &#125; finally &#123; if(reader != null)&#123; try&#123; //ÂÖ≥Èó≠ÊµÅ reader.close(); &#125;catch (IOException e)&#123; e.printStackTrace(); &#125; &#125; &#125; //Â∞ÜËØªÂèñÁªìÊûú Áî±StringBuilderËΩ¨Êç¢‰∏∫String Âπ∂ËøîÂõû return content.toString(); &#125; FileInputStream ÁªßÊâøËá™ InputStreamÔºåÁî®‰∫éÊñá‰ª∂Â§ÑÁêÜÁöÑËäÇÁÇπÊµÅ ‰ªéÊñá‰ª∂‰∏≠ËØªÂèñ FileInputStream openFileInput(String filename) ËøîÂõûFileInputStreamÂØπË±° ÂèÇÊï∞‰∏∫ ËØªÂèñÁöÑÊñá‰ª∂Âêç InputStreamRead Â∞ÜÂ≠óËäÇÊµÅËΩ¨Êç¢‰∏∫Â≠óÁ¨¶ÊµÅ BufferedReader ÁºìÂÜ≤ÊµÅ Â§ñÈÉ®Â≠òÂÇ® Âç†Âùë]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2016ÊÄªÁªì]]></title>
    <url>%2F2016%2F12%2F31%2F2016%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[2016 ÊâæÂà∞‰∫ÜÂÖ¥Ë∂£-AndroidÂºÄÂßãÊ≠£ÂºèÂ≠¶‰π†„ÄÇ Êê≠Âª∫‰∫ÜËá™Â∑±ÁöÑblogÔºåËôΩÁÑ∂Âë®Âõ¥‰∫∫Ê≤°‰∫∫ÂÖ≥Ê≥®ÔºåÊúâ‰∏ÄÁØáÊó•Â≠êÁöÑÈòÖËØªÈáèËøá‰∫Ü1‰∏áÔºåËøòÊòØÂæàÊÉäÂñúÁöÑ ÂµåÂÖ•ÂºèÂ∑•‰ΩúÊ≤°Áî®ÊâæÂà∞Êª°ÊÑèÁöÑÔºåÂè™ËÉΩËØ¥Á≠âÊò•Êãõ AndoidÁöÑÂÆû‰π†ÔºåËøôÊÆµÊó∂Èó¥Âä™ÂäõÊèêÈ´òËá™Â∑±Ôºå ÊîæÂºÉ‰∫ÜËÄÉÁ†î ÂøÉÊÉÖËµ∞Ëøá‰∫ÜÁ±ª‰ººÊäëÈÉÅÁöÑÁªèÂéÜÔºåÂØπ‰ΩìÂà∂ÁßçÁßçÂêÑÊúâÁúãÊ≥ïÔºåÊòØÂØπÊòØÈîôÔºåËÆ©Êó∂Èó¥ËßÅËØÅ 2017 Â∏åÊúõÊúâËá™Â∑±ÁöÑÊî∂ÂÖ•ÔºåÁªèÊµéÁõ∏ÂØπËá™Áî±‰∏ÄÁÇπ Ë∞à‰∏ÄÊÆµÊÅãÁà±ÔºåÈÅáÂà∞ÂêàÈÄÇÁöÑÂ•≥Â≠©Âêß AndroidÁöÑË∑Ø‰∏äÔºåÈ°∫Âà©‰∏ÄÁÇπÂêß ‰∏çÁªôËá™Â∑±ËÆæÂÆöÈôêÂà∂ÔºåËµ∞‰∏ÄÊ≠•ÂÜçËµ∞‰∏ÄÊ≠•]]></content>
      <categories>
        <category>Èöè</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Android Studio‰ºòÂåñÁºñËØëÈÄüÂ∫¶]]></title>
    <url>%2F2016%2F12%2F25%2FAndroid%20Studio%E4%BC%98%E5%8C%96%E7%BC%96%E8%AF%91%E9%80%9F%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã http://www.jianshu.com/p/1c878c10a6bb http://www.jianshu.com/p/9b8ef61b7cdb http://www.jianshu.com/p/64d9a52aebbf ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ ssdÁõòÂÆπÈáè‰∏çÂ§ü‰∫ÜÔºåÈáçË£ÖÁ≥ªÁªüÔºåÈöè‰æøÈáçÊñ∞ÂÆâË£Ö‰∫ÜAndroid Studio ËÆ∞ÂΩï‰∏ÄËæπ‰ºòÂåñËøáÁ®ã ÊúÄÈáçË¶ÅÁöÑ Êúâ‰∏Ä‰∏™ËâØÂ•ΩÁöÑÊ¢ØÂ≠ê+ÂÖ®Â±ÄÁøªÂ¢ô Â§ßÈÉ®ÂàÜAndroid StudioÂÆâË£ÖÁöÑÈóÆÈ¢ò,Â∞±Âü∫Êú¨‰∏ç‰ºöÂá∫Áé∞ ÂºÄÂêØgradleÂçïÁã¨ÁöÑÂÆàÊä§ËøõÁ®ã Âú®C:\Users.gradleÁõÆÂΩï(userÁõÆÂΩïÂç≥ÂΩìÂâçÁî®Êà∑‰∏çÂêåÁîµËÑë‰∏ÄËà¨‰∏çÂêå)‰∏ãÊñ∞Âª∫ gradle.propertiesÊñá‰ª∂Â§çÂà∂‰∏ãÈù¢ÁöÑ‰ª£Á†Å 12345org.gradle.daemon=true org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=800m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8org.gradle.parallel=true org.gradle.configureondemand=true Â∫îËØ•ÊòØÂ¢ûÂ§ß‰∫Ügradle ËøêË°åÁöÑ java ËôöÊãüÊú∫ÁöÑÂ§ßÂ∞èÔºåÊàëÁöÑÁîµËÑëÊòØ8gÂÜÖÂ≠òÔºåËøô‰∏™ÈÖçÁΩÆÊïàÊûúÊúÄÂ•Ω Êâ©Â§ßAndroid Studio ËøêË°åÂÜÖÂ≠ò ÊâæÂà∞Android StudioÂÆâË£ÖÁõÆÂΩï‰∏ãÁöÑbinÊñá‰ª∂Â§πÊâæÂà∞studio64.exe.vmoptionsÂíåstudio.exe.vmoptionsÊñá‰ª∂(64‰Ωç)studio.exe.vmoptionsÂíåstudio.exe.vmoptionsÊñá‰ª∂(32‰Ωç) ÂàÜÂà´ÁºñËæëÊñá‰ª∂,ÊîπÂä®3‰∏™Âú∞ÊñπÂ¶Ç‰∏ã 123-Xms1024m-Xmx2048m-XX:MaxPermSize=800m Android Studio ËÆæÁΩÆ Command-line Option‰∏çÂ°´ gradle Á¶ªÁ∫øÊ®°ÂºèÂãæÈÄâOffice WorkÔºåÊàëËøôÈáåÊµãËØïÊòØÈÄüÂ∫¶Âü∫Êú¨‰∏çÂèòÔºå‰ΩÜÊòØÁΩë‰∏äÊúâ‰∫∫ÊµãËØïÊòØÊïàÊûúÁõ∏Â∑ÆÂæàÂ§öÔºåÂéüÂõ†‰∏çÊòéÔºåÂèØËÉΩÊòØÁΩëÁªú‰∏ÄÁõ¥ÂÖ®Â±ÄÁøªÂ¢ôÁöÑÂÖ≥Á≥ª]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîBroadcastÂπøÊí≠]]></title>
    <url>%2F2016%2F12%2F23%2FAndroid%E7%AC%94%E8%AE%B0-Broadcast%E5%B9%BF%E6%92%AD%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 BroadcastReceiverÂü∫Á°Ä È¶ñÂÖàÁ•≠Âá∫ÂÆòÊñπÊñáÊ°£Âèä‰∏≠ÊñáÁøªËØë https://developer.android.com/reference/android/content/BroadcastReceiver.htmlhttp://www.jianshu.com/p/1b56172b0c77 BroadcastReceiverÊ¶ÇËø∞ @Âà´Ë∑ØÂØªÂøÜAndroid‰∏≠ÁöÑÂõõÂ§ßÁªÑ‰ª∂ÊòØ Activity„ÄÅService„ÄÅBroadcastÂíåContent Provider„ÄÇËÄåIntentÊòØ‰∏Ä‰∏™ÂØπÂä®‰ΩúÂíåË°å‰∏∫ÁöÑÊäΩË±°ÊèèËø∞ÔºåË¥üË¥£ÁªÑ‰ª∂‰πãÈó¥Á®ãÂ∫è‰πãÈó¥ËøõË°åÊ∂àÊÅØ‰º†ÈÄí„ÄÇÈÇ£‰πàBroadcast ReceiverÁªÑ‰ª∂Â∞±Êèê‰æõ‰∫Ü‰∏ÄÁßçÊääIntent‰Ωú‰∏∫‰∏Ä‰∏™Ê∂àÊÅØÂπøÊí≠Âá∫ÂéªÔºåÁî±ÊâÄÊúâÂØπÂÖ∂ÊÑüÂÖ¥Ë∂£ÁöÑÁ®ãÂ∫èÂØπÂÖ∂‰ΩúÂá∫ÂèçÂ∫îÁöÑÊú∫Âà∂„ÄÇ @zuolongsnail‰∏ìÊ†è ÂπøÊí≠Êé•Êî∂Âô®ÊòØ‰∏Ä‰∏™‰∏ìÊ≥®‰∫éÊé•Êî∂ÂπøÊí≠ÈÄöÁü•‰ø°ÊÅØÔºåÂπ∂ÂÅöÂá∫ÂØπÂ∫îÂ§ÑÁêÜÁöÑÁªÑ‰ª∂„ÄÇÂæàÂ§öÂπøÊí≠ÊòØÊ∫êËá™‰∫éÁ≥ªÁªü‰ª£Á†ÅÁöÑ‚îÄ‚îÄÊØîÂ¶ÇÔºåÈÄöÁü•Êó∂Âå∫ÊîπÂèò„ÄÅÁîµÊ±†ÁîµÈáè‰Ωé„ÄÅÊãçÊëÑ‰∫Ü‰∏ÄÂº†ÁÖßÁâáÊàñËÄÖÁî®Êà∑ÊîπÂèò‰∫ÜËØ≠Ë®ÄÈÄâÈ°π„ÄÇÂ∫îÁî®Á®ãÂ∫è‰πüÂèØ‰ª•ËøõË°åÂπøÊí≠‚îÄ‚îÄÊØîÂ¶ÇËØ¥ÔºåÈÄöÁü•ÂÖ∂ÂÆÉÂ∫îÁî®Á®ãÂ∫è‰∏Ä‰∫õÊï∞ÊçÆ‰∏ãËΩΩÂÆåÊàêÂπ∂Â§Ñ‰∫éÂèØÁî®Áä∂ÊÄÅ„ÄÇ Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•Êã•Êúâ‰ªªÊÑèÊï∞ÈáèÁöÑÂπøÊí≠Êé•Êî∂Âô®‰ª•ÂØπÊâÄÊúâÂÆÉÊÑüÂÖ¥Ë∂£ÁöÑÈÄöÁü•‰ø°ÊÅØ‰∫à‰ª•ÂìçÂ∫î„ÄÇÊâÄÊúâÁöÑÊé•Êî∂Âô®ÂùáÁªßÊâøËá™BroadcastReceiverÂü∫Á±ª„ÄÇ ÂπøÊí≠Êé•Êî∂Âô®Ê≤°ÊúâÁî®Êà∑ÁïåÈù¢„ÄÇÁÑ∂ËÄåÔºåÂÆÉ‰ª¨ÂèØ‰ª•ÂêØÂä®‰∏Ä‰∏™activityÊù•ÂìçÂ∫îÂÆÉ‰ª¨Êî∂Âà∞ÁöÑ‰ø°ÊÅØÔºåÊàñËÄÖÁî®NotificationManagerÊù•ÈÄöÁü•Áî®Êà∑„ÄÇÈÄöÁü•ÂèØ‰ª•Áî®ÂæàÂ§öÁßçÊñπÂºèÊù•Âê∏ÂºïÁî®Êà∑ÁöÑÊ≥®ÊÑèÂäõ‚îÄ‚îÄÈó™Âä®ËÉåÁÅØ„ÄÅÈúáÂä®„ÄÅÊí≠ÊîæÂ£∞Èü≥Á≠âÁ≠â„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÊòØÂú®Áä∂ÊÄÅÊ†è‰∏äÊîæ‰∏Ä‰∏™ÊåÅ‰πÖÁöÑÂõæÊ†áÔºåÁî®Êà∑ÂèØ‰ª•ÊâìÂºÄÂÆÉÂπ∂Ëé∑ÂèñÊ∂àÊÅØ„ÄÇ ÂπøÊí≠ÂàÜÁ±ª Ëß¶ÂèëÂπøÊí≠ÂèëÁîüÁöÑ‰∫ã‰ª∂ÂàÜÁ±ªÊúâ‰∏§Áßç AndroidÁ≥ªÁªüÂπøÊí≠‰∫ã‰ª∂ Áî±androidËÆæÂ§áÁä∂ÊÄÅÂèòÂåñËÄåËß¶ÂèëÁöÑÁ≥ªÁªüÂπøÊí≠Â¶ÇÔºö Intent.ACTION_POWER_CONNECTED; //Êèí‰∏äÂ§ñÈÉ®ÁîµÊ∫êÊó∂ÂèëÂá∫ÁöÑÂπøÊí≠ Intent.ACTION_SCREEN_ON; //Â±èÂπïË¢´ÊâìÂºÄ‰πãÂêéÁöÑÂπøÊí≠ ACTION_TIME_CHANGED//Á≥ªÁªüÊó∂Èó¥ÊîπÂèòËÄåËß¶ÂèëÁöÑÂπøÊí≠ Ëá™ÂÆö‰πâÁöÑÂπøÊí≠‰∫ã‰ª∂ Ëøô‰∏™ÊØîËæÉÂ•ΩÁêÜËß£‰∫ÜÔºåÊØîÂ¶ÇqqÂΩìÊàë‰ª¨ÂÜçÂè¶Â§ñ‰∏ÄÂè∞ÊâãÊú∫‰∏äÁôªÈôÜÊó∂ÔºåÊâãÂ§¥ÁöÑËøô‰∏™ÊâãÊú∫qqÂ∞±‰ºöËá™Âä®‰∏ãÁ∫ø„ÄÇËÖæËÆØÁöÑÊúçÂä°Âô®ÈÄöËøáÂêéÂè∞ÊúçÂä°ÂêØÁî®‰∫ÜËá™ÂÆö‰πâÂπøÊí≠Êù•ÁªàÁªìÊ≠£Âú®ËøêË°åÁöÑActivityÔºåËØ¶ÊÉÖ‰πãÂêé‰ºöÊúâ‰æãÁ®ãÔºå‰∏çÂÜçÁ¥ØËµò„ÄÇ ËÉΩÂ§üË¢´Êé•Êî∂ÁöÑÂπøÊí≠Á±ªÂûã ÊôÆÈÄöÂπøÊí≠ÔºàNormal broadcastsÔºâÔºö ÔºàÁî± Context.sendBroadcastÂèëÂá∫ÔºâÂºÇÊ≠•ÂèëÂá∫„ÄÇÊâÄÊúâÂπøÊí≠Êé•Êî∂Âô®ÈÉΩÂèØ‰ª•Âú®Âêå‰∏ÄÊó∂Èó¥Êé•Êî∂ÂπøÊí≠„ÄÇÂπøÊí≠Êé•Êî∂ËÄÖÊó†Ê≥ïÊé•Êî∂ÂπøÊí≠ÁöÑÂ§ÑÁêÜÁªìÊûúÊàñËÄÖÈòªÊñ≠ÂπøÊí≠ÁöÑ‰º†ÈÄí„ÄÇ ÊúâÂ∫èÂπøÊí≠ÔºàOrdered broadcastsÔºâÔºö ÔºàÁî± Context.sendOrderedBroadcastÂèëÂá∫ÔºâÊØèÊ¨°Âè™ÂèëÈÄÅÁªô‰∏Ä‰∏™ÂπøÊí≠Êé•Êî∂Âô®„ÄÇÂΩìÊØè‰∏™ÂπøÊí≠Êé•Êî∂Âô®‰æùÊ¨°ÊâßË°åÊó∂ÔºåÂÆÉÂèØ‰ª•Âêë‰∏ã‰∏Ä‰∏™ÂπøÊí≠Êé•Êî∂Âô®‰º†Êí≠ÁªìÊûúÔºåÊàñËÄÖÈòªÊñ≠ËØ•ÂπøÊí≠Ôºå‰ΩøÂæóËØ•ÂπøÊí≠‰∏çËÉΩË¢´‰∏ã‰∏Ä‰∏™ÂπøÊí≠Êé•Êî∂Âô®Êé•Êî∂Âà∞„ÄÇ ÈÄö‰øóËß£ÈáäÔºö ÊôÆÈÄöÂπøÊí≠Â∞±Áõ∏ÂΩì‰∫éÂ∞èÂå∫/ÊùëÂßî‰ºöÁöÑÂ§ßÂñáÂè≠ÔºåÊúâ‰∫ãÂèëÁîüÔºàËß¶ÂèëÂπøÊí≠ÔºâÈÄöÁü•ÊâÄÊúâÁöÑ‰∫∫ÔºàÂπøÊí≠Êé•Êî∂Âô®ÔºâÔºåÂÖ®ÂäüÁéáÁöÑÂ§ßÂñäÂ§ßÂè´Á°Æ‰øùÊâÄÊúâ‰∫∫ÔºàÂπøÊí≠Êé•Êî∂Âô®ÔºâÈÉΩËÉΩÂê¨Âà∞„ÄÇËÄåÊúâ‰∫∫ÔºàÂπøÊí≠Êé•Êî∂Âô®ÔºâÂú®Áù°ËßâË¢´ÂêµÈÜí‰ΩÜÊòØÂèàÊ≤°ÂäûÊ≥ïÁ†∏‰∫ÜÈÇ£‰∏™Â§ßÂñáÂè≠ÔºåÂè™ËÉΩÁªßÁª≠Âê¨ÁùÄÔºàÊó†Ê≥ïÊé•Êî∂ÂπøÊí≠ÁöÑÂ§ÑÁêÜÁªìÊûúÊàñËÄÖÈòªÊñ≠ÂπøÊí≠ÁöÑ‰º†ÈÄíÔºâ„ÄÇ ÊúâÂ∫èÂπøÊí≠ Â∞±Áõ∏ÂΩì‰∫éÈó¥Ë∞çÊú∫ÂÖ≥ÁöÑÁªùÂØÜÊ∂àÊÅØ‰º†ÈÄí„ÄÇÁªùÂØÜÂà∞ÊâãÔºàËß¶ÂèëÂπøÊí≠ÔºâÈó¥Ë∞çÁßòÂØÜÊ±áÊÄªÁªô‰∏äÁ∫øAÔºàÂπøÊí≠Êé•Êî∂Âô®AÔºâ„ÄÇÊú¨Êù• ‰∏äÁ∫øÔºàÂπøÊí≠Êé•Êî∂Âô®AÔºâÂ∫îËØ• Âê¨ÂèñÂÆåÊØïÈáçÊñ∞Êï¥ÁêÜÊÉÖÂêëÈ¶ñÈïøBÔºàÂπøÊí≠Êé•Êî∂Âô®BÔºâÊä•ÂëäÔºàÂêëÂπøÊí≠Êé•Êî∂Âô®B‰º†Êí≠ ÂπøÊí≠Êé•Êî∂Âô®A‰øÆÊîπÁöÑÁªìÊûúÔºâ,‰ΩÜÊòØAË¢´Êî∂‰π∞ÔºåÂ∞ÜÊÉÖÊä•ÈöêÂåø‰∫ÜÔºåÊ≤°ÊúâÂêëÈ¶ñÈïøBÊ±áÊä•ÔºàÂπøÊí≠Êé•Êî∂Âô®AÈòªÊñ≠ËØ•ÂπøÊí≠Ôºå‰ΩøÂæóËØ•ÂπøÊí≠‰∏çËÉΩË¢´‰∏ã‰∏Ä‰∏™ÂπøÊí≠Êé•Êî∂Âô®BÊé•Êî∂Âà∞Ôºâ„ÄÇÔºàPSÁªìÂ±ÄÈ¶ñÈïøBÈîôËØØÂ∏¶‰∫∫ÁÇ∏‰∫ÜÊùëÂßî‰ºöÔºåËØ•Áù°ËßâÁöÑ‰∫∫Áªà‰∫éÂèØ‰ª•ÂÆâÁîüÁù°Ëßâ‰∫ÜÔºÅÔºâ ÂπøÊí≠‰∫ã‰ª∂Ê≥®ÂÜåÊúâ‰∏§Áßç ÈùôÊÄÅÊ≥®ÂÜåÔºåÂ∞±ÊòØÂú®AndroidManifest.xmlÊñá‰ª∂‰∏≠ÂÆö‰πâÔºåÊ≥®ÂÜåÁöÑÂπøÊí≠Êé•Êî∂Âô®ÂøÖÈ°ªË¶ÅÁªßÊâøBroadcastReceiver. Âä®ÊÄÅÊ≥®ÂÜåÔºåÊòØÂú®Á®ãÂ∫è‰∏≠‰ΩøÁî®Context.registerReceiverÊ≥®ÂÜåÔºåÊ≥®ÂÜåÁöÑÂπøÊí≠Êé•Êî∂Âô®Áõ∏ÂΩì‰∫é‰∏Ä‰∏™ÂåøÂêçÁ±ª„ÄÇ‰∏§ÁßçÊñπÂºèÈÉΩÈúÄË¶ÅIntentFIlter„ÄÇ ‰æãÁ®ãËßÅ‰∏ãËäÇ„ÄÇ Âä®ÊÄÅÊ≥®ÂÜåÔºàÂú®‰ª£Á†Å‰∏≠Ê≥®ÂÜåÔºâ Âú®‰ª£Á†Å‰∏≠ÈÄöËøáregisterReceiver()Ê≥®ÂÜå„ÄÇappÂÖ≥Èó≠Âêé,ËØ•Êé•Êî∂Âô®‰πü‰ºöÈöè‰πãÈîÄÊØÅ„ÄÇ È¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™ÂÜÖÈÉ®Â≠êÁ±ªNetworkChangeReceiverÁªßÊâøËá™ BroadcastReceiver 12345678class NetworkChangeReceiver extends BroadcastReceiver &#123;@Override//ÈáçÂÜôonReceiveÔºåÊé•Êî∂Âà∞ÂπøÊí≠ÂêéÊèêÁ§∫Ê∂àÊÅØ public void onReceive(Context context, Intent intent) &#123; Toast.makeText(context, "network is availableÁΩëÁªúÂ∑≤ÂèòÂåñ", Toast.LENGTH_SHORT).show(); &#125; &#125; Âú®onCreate()ÊñπÊ≥ï‰∏≠ÂàõÂª∫IntentFilterÂÆû‰æãÂíåNetworkChangeReceiverÂÆû‰æã„ÄÇÂπ∂Âú®IntentFilterÂÆû‰æã‰∏≠Ê∑ªÂä†ÁΩëÁªúÂèòÂåñÊó∂Á≥ªÁªüÂπøÊí≠ÂØπÂ∫îÂÄº„ÄÇÈöèÂêé‰º†ÂÖ•registerReceiver()‰∏≠Ê≥®ÂÜå„ÄÇ 123456789101112 protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); //ÂàõÂª∫IntentFilterÂÆû‰æã intentFilter = new IntentFilter(); //Ê∑ªÂä†ÂØπÂ∫îÁ≥ªÁªüÂπøÊí≠ intentFilter.addAction("android.net.conn.CONNECTIVITY_CHANGE"); //Ê∑ªÂä†NetworkChangeReceiverÂÆû‰æã networkChangeReceiver = new NetworkChangeReceiver(); //Âä®ÊÄÅÊ≥®ÂÜå registerReceiver(networkChangeReceiver, intentFilter);&#125; Âä®ÊÄÅÊ≥®ÂÜåÁöÑÂπøÊí≠Êé•Êî∂Âô®ÊúÄÂêéË¶ÅÂèñÊ∂àÊ≥®ÂÜå„ÄÇÂú®onDestroy()ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®unregisterReceiver()ÈîÄÊØÅÂä®ÊÄÅÊ≥®ÂÜåÁöÑÂπøÊí≠Êé•Êî∂Âô®„ÄÇ 1234 protected void onDestroy()&#123; super.onDestroy(); unregisterReceiver(networkChangeReceiver);&#125; ÊúÄÂêéË¶ÅÂú®AndroidMainfest.xml‰∏≠Â£∞ÊòéÊü•ËØ¢Á≥ªÁªüÁΩëÁªúÁä∂ÊÄÅÁöÑÊùÉÈôê„ÄÇ 1&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt; ËøêË°åÊïàÊûúÂ¶ÇÂ¶ÇÊâÄÁ§∫ÔºàÊ®°ÊãüÂô®Ôºâ ÈùôÊÄÅÊ≥®ÂÜåÔºàxml‰∏≠Ê≥®ÂÜåÔºâ Áõ¥Êé•Âú®Manifest.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÂπøÊí≠Êé•Êî∂ËÄÖ ‰æãÁ®ã‰∏∫‰∫ÜÊñπ‰æøÂêåÊ†∑‰ª•android.net.conn.CONNECTIVITY_CHANGE‰∏∫‰æãÔºå‰∏éÂä®ÊÄÅÊ≥®ÂÜåÁõ∏Âêå„ÄÇ‰∏ç‰ΩøÁî®ÂÜÖÈÉ®Â≠êÁ±ªÔºàÁ¨¨‰∏ÄË°å‰ª£Á†ÅÔºâ Êñ∞Âª∫ÂêçÁß∞‰∏∫BootCompleteReceiverÁöÑjava class ‰ª£Á†ÅÂ¶Ç‰∏ã 123456 public class BootCompleteReceiver extends BroadcastReceiver &#123; @Override public void onReceive(Context context, Intent intent)&#123; Toast.makeText(context, "ÁΩëÁªúÊîπÂèò", Toast.LENGTH_SHORT).show(); &#125;&#125; Âú®AndroidManifest.xmlÊñá‰ª∂‰∏≠Ê≥®ÂÜåÂπøÊí≠Êé•Êî∂Âô® ‰ª£Á†ÅÂ¶Ç‰∏ã 12345&lt;receiver android:name=".BootCompleteReceiver"&gt; &lt;intent-filter&gt; &lt;action android:name="android.net.conn.CONNECTIVITY_CHANGE"/&gt; &lt;/intent-filter&gt;&lt;/receiver&gt; Âú®AndroidManifest.xml‰∏≠Â£∞ÊòéÊùÉÈôê 12&lt;uses-permission android:name="android.permission.INTERNET"&gt;&lt;/uses-permission&gt;&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"&gt;&lt;/uses-permission&gt; ‰ΩøÁî®ÂÜÖÈÉ®Â≠êÁ±ªÔºàÂú®Activity‰∏≠ÂÆö‰πâÔºâ Âú®ËøôÊôïÂúà‰∫Ü‰∏Ä‰∏ãÂçàÔºåÊâæ‰∏çÂá∫ÊØõÁóÖ„ÄÇÁúã‰π¶Â§ö‰ªîÁªÜÂêßÔºå‰π¶‰∏äËØ¥‰∫Ü‰∏çÁî®ÂÜÖÈÉ®Â≠êÁ±ª„ÄÇËØ¶ÁªÜËµÑÊñôÂú®ËøôÈáå http://blog.csdn.net/chdjj/article/details/19496567 Ê∏ÖÂçïÊñá‰ª∂Ê≥®ÂÜåÂπøÊí≠Êé•Êî∂ËÄÖÊó∂ÔºåÂπøÊí≠Êé•Êî∂ËÄÖÁöÑÂêçÂ≠óÊ†ºÂºèÈúÄË¶ÅÊ≥®ÊÑèÂõ†‰∏∫ÊòØÂÜÖÈÉ®Á±ªÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®ÂÜÖÈÉ®Á±ªÊâÄÂú®ÁöÑÁ±ª‰∏éÂÜÖÈÉ®Á±ª‰πãÈó¥Âä†‰∏ä$Á¨¶Âè∑(Ëøô‰∏ÄÁÇπÂú®AndroidStudio‰∏≠ËæìÂÖ•Êó∂ÊúâÊèêÁ§∫) ÂÜÖÈÉ®Á±ªÂú®Â£∞ÊòéÊó∂‰∏ÄÂÆöË¶ÅÂÜôÊàêÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºàclassÂÖ≥ÈîÆÂ≠óÂâçÂä†‰∏ästaticÔºâ„ÄÇÂê¶Âàô‰ºöÊäõÂá∫ÂºÇÂ∏∏ÔºàÂπøÊí≠ÂèëÁîüÊó∂ÔºåÂ∫îÁî®ÂÅúÊ≠¢ËøêË°åÔºâ Âú®MainActivity‰∏≠Êñ∞Âª∫Â≠êÁ±ª 123456 public static class BootCompleteReceiver extends BroadcastReceiver &#123; @Override public void onReceive(Context context, Intent intent)&#123; Toast.makeText(context, "Boot complete", Toast.LENGTH_SHORT).show(); &#125;&#125; Âú®AndroidManifest.xml‰∏≠Ê≥®ÂÜåÂπøÊí≠Êé•Êî∂Âô® 12345&lt;receiver android:name=".MainActivity$BootCompleteReceiver"&gt; &lt;intent-filter&gt; &lt;action android:name="android.net.conn.CONNECTIVITY_CHANGE"/&gt; &lt;/intent-filter&gt;&lt;/receiver&gt; Âú®AndroidManifest.xml‰∏≠Â£∞ÊòéÊùÉÈôê 12&lt;uses-permission android:name="android.permission.INTERNET"&gt;&lt;/uses-permission&gt;&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"&gt;&lt;/uses-permission&gt; ËøêË°åÊïàÊûúÂêåÂä®ÊÄÅÊ≥®ÂÜå ‰ΩøÁî®ÂπøÊí≠Êé•Êî∂Âô®Ê≥®ÊÑè‰∫ãÈ°π Âú®onReceive()ÊñπÊ≥ï‰∏≠‰∏çÂÆúÊ∑ªÂä†ËøáÂ§öÈÄªËæë/ËÄóÊó∂Êìç‰ΩúÔºåÂπøÊí≠Êé•Êî∂Âô®Ê≤°ÊúâÂ§öÁ∫øÁ®ãÔºå‰∏ÄÊó¶Êó∂Èó¥ËøáÈïøÔºåÁ®ãÂ∫èÂ∞±‰ºöÊä•Èîô„ÄÇ ÂπøÊí≠Êé•Êî∂Âô®‰∏ÄËà¨‰∏∫ÂêØÂä®ÂÖ∂‰ªñÁªÑ‰ª∂‰ΩúÁî®„ÄÇ ÂèëÈÄÅÊ†áÂáÜÂπøÊí≠ ÂèëÈÄÅÊ†áÂáÜÂπøÊí≠‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅÊ≥®ÂÜå‰∏Ä‰∏™‰Ωú‰∏∫ÁõÆÊ†áÁöÑÂπøÊí≠Êé•Êî∂Âô®„ÄÇÔºàËøáÁ®ãÁï•ÔºåÂè™‰∏ä‰ª£Á†ÅÔºâ Êñ∞Âª∫MyBroadcastReceiver.class 1234567 public class MyBroadcastReceiver extends BroadcastReceiver&#123; @Override public void onReceive(Context context, Intent intent) &#123; Toast.makeText(context,"MyBroadcastReceiver",Toast.LENGTH_SHORT).show(); &#125;&#125; Âú®Xml‰∏≠Ê≥®ÂÜåÔºàÈùôÊÄÅÔºâ 12345&lt;receiver android:name=".MyBroadcastReceiver"&gt; &lt;intent-filter&gt; &lt;action android:name="com.example.broadcasttest.MyBroad"/&gt; &lt;/intent-filter&gt;&lt;/receiver&gt; xml‰∏≠Ê≥®ÂÜå‰∏Ä‰∏™Button 12345&lt;Button android:layout_width="wrap_content" android:layout_height="wrap_content" android:onClick="SendBroad" android:text="SendBroad" /&gt; MainActivity‰∏≠Êñ∞Âª∫ SendBroad()ÂáΩÊï∞ È¶ñÂÖàÊûÑÂª∫‰∏Ä‰∏™ IntentÂØπË±°ÔºåÂ∞ÜËá™ÂÆö‰πâÁöÑÂπøÊí≠ÂÄºÂ°´ÂÖ•„ÄÇÂÜçË∞ÉÁî®sendBroadcastÊñπÊ≥ïÂ∞ÜÂπøÊí≠ÂèëÈÄÅÂá∫Âéª„ÄÇ 12345 public void SendBroad(View view)&#123; Intent intent = new Intent("com.example.broadcasttest.MyBroad"); sendBroadcast(intent);&#125; ÂèëÈÄÅÁöÑÊòØÊ†áÂáÜÂπøÊí≠„ÄÇËøêË°åÊïàÊûúÂ¶Ç‰∏ãÂõæ„ÄÇ ÂèëÈÄÅÊúâÂ∫èÂπøÊí≠ È¶ñÂÖàÊñ∞Âª∫‰∏Ä‰∏™Broad2 ÁöÑÂ∑•Á®ã„ÄÇÂêåÊ†∑Êé•Êî∂BroadÂèëÈÄÅÁöÑÂπøÊí≠„ÄÇ ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567 public class AnotherBroadcast extends BroadcastReceiver &#123; @Override public void onReceive(Context context, Intent intent) &#123; Toast.makeText(context," AnotherBroadcast",Toast.LENGTH_SHORT).show(); &#125;&#125; 12345&lt;receiver android:name=".AnotherBroadcast"&gt; &lt;intent-filter android:priority="10"&gt; &lt;action android:name="com.example.broadcasttest.MyBroad"/&gt; &lt;/intent-filter&gt; &lt;/receiver&gt; ÊµãËØïÊïàÊûúÔºöÂΩìÊëÅ‰∏ãÂèëÈÄÅÂπøÊí≠ÊåâÈíÆÂêéÔºåÂºπÂá∫‰∏§‰∏™ÊèêÁ§∫„ÄÇ ‰øÆÊîπBroadÈ°πÁõÆ‰∏≠onClickÂØπÂ∫î‰∫ã‰ª∂„ÄÇÂ∞ÜsendBroadcast(ÔºâÊîπ‰∏∫sendOrderedBroadcast();ÂèëÈÄÅÊúâÂ∫èÂπøÊí≠„ÄÇ 12345 public void SendBroad(View view)&#123; Intent intent = new Intent("com.example.broadcasttest.MyBroad"); sendOrderedBroadcast(intent,null);&#125; ÊïàÊûú‰∏éÂèëÈÄÅÊ†áÂáÜÂπøÊí≠Áõ∏ÂêåÔºàËøòÊú™ÂÆö‰πâ‰ºòÂÖàÁ∫ß/Êà™Êñ≠Á≠âÔºâ ÂÆö‰πâ‰ºòÂÖàÁ∫ßÔºåÂÜçBroadÁöÑAndroidMainfest.xml‰∏≠‰øÆÊîπÊ≥®ÂÜåÁöÑÂπøÊí≠Ê∑ªÂä†android:priority=‚Äù100‚Äù‰ºòÂÖàÁ∫ß100 12345&lt;receiver android:name=".MyBroadcastReceiver"&gt; &lt;intent-filter android:priority="100"&gt; &lt;action android:name="com.example.broadcasttest.MyBroad"/&gt; &lt;/intent-filter&gt;&lt;/receiver&gt; Âú®Broad2ÁöÑAndroidMainfest.xml‰∏≠Ê∑ªÂä†android:priority=‚Äù10‚Äù‰ºòÂÖàÁ∫ß10 12345&lt;receiver android:name=".AnotherBroadcast"&gt; &lt;intent-filter android:priority="10"&gt; &lt;action android:name="com.example.broadcasttest.MyBroad"/&gt; &lt;/intent-filter&gt;&lt;/receiver&gt; ÂèëÈÄÅÂπøÊí≠ÂêéMyBroadcastReceiverÊúÄÂÖàÊî∂Âà∞ÂπøÊí≠„ÄÇ Êà™Êñ≠ÂπøÊí≠„ÄÇÊúâÂ∫èÂπøÊí≠‰∏≠Ââç‰∏Ä‰∏™ÂπøÊí≠Êé•Êî∂Âô®ÂèØ‰ª•Êà™Êñ≠ÂπøÊí≠‰º†Êí≠„ÄÇÊ∑ªÂä† abortBroadcast();Âç≥ÂèØ„ÄÇ 12345678 public class MyBroadcastReceiver extends BroadcastReceiver&#123; @Override public void onReceive(Context context, Intent intent) &#123; Toast.makeText(context,"MyBroadcastReceiver",Toast.LENGTH_SHORT).show(); abortBroadcast(); &#125;&#125; ÂÜçÊ¨°ÁÇπÂáªÊåâÈíÆÂèëÈÄÅÂπøÊí≠ÔºåÂè™ÊúâMyBroadcastReceiverÂèØ‰ª•Êé•Êî∂Âà∞ÂèëÈÄÅÁöÑÂπøÊí≠„ÄÇ Êú¨Âú∞ÂπøÊí≠ Âè™Âú®appÂ∫îÁî®ÂÜÖÈÉ®‰º†ÈÄíÁöÑÂπøÊí≠„ÄÇÊ≥®ÂÜåËøáÁ®ãÁ±ª‰ºº‰∫éÂä®ÊÄÅÊ≥®ÂÜå„ÄÇ ÂÆö‰πâ‰∏Ä‰∏™ÂÜÖÈÉ®Á±ªLocalReceiverÁªßÊâøËá™BroadcastReceiver 123456 public static class LocalReceiver extends BroadcastReceiver&#123; @Override public void onReceive(Context context, Intent intent)&#123; Toast.makeText(context, "received local broadcast", Toast.LENGTH_SHORT).show(); &#125;&#125; È¶ñÂÖàÂú®onCreate()ÊñπÊ≥ï‰∏≠ÈÄöËøálocalBroadcastManager.getInstanÂæóÂà∞‰∏Ä‰∏™LocalBroadcastManagerÁöÑÂÆû‰æãÔºåÂÜçÂàõÂª∫IntentFilterÂÆû‰æãÂíåLocalReceiverÂÆû‰æã„ÄÇÂπ∂Âú®IntentFilterÂÆû‰æã‰∏≠Ê∑ªÂä†ÂπøÊí≠„ÄÇÈöèÂêé‰º†ÂÖ•localBroadcastManager.registerReceiver()‰∏≠Ê≥®ÂÜåÊú¨Âú∞ÂπøÊí≠„ÄÇ 123456789101112131415161718private IntentFilter intentFilter;private LocalReceiver localReceiver;private LocalBroadcastManager localBroadcastManager;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar); localBroadcastManager = localBroadcastManager.getInstance(this); intentFilter = new IntentFilter(); intentFilter.addAction("com.example.broadcasttest.LOCAL_BROADCAST"); localReceiver = new LocalReceiver(); localBroadcastManager.registerReceiver(localReceiver, intentFilter); &#125; Âú®ActivityÁöÑonDestroy()‰∏≠ÈîÄÊØÅÊ≥®ÂÜå„ÄÇ 12345@Overrideprotected void onDestroy()&#123; super.onDestroy(); localBroadcastManager.unregisterReceiver(localReceiver);&#125; Âú®ButtonÂØπÂ∫îÁöÑÂáΩÊï∞‰∏≠Ë∞ÉÁî®localBroadcastManager.sendBroadcastÂèëÈÄÅÊú¨Âú∞ÂπøÊí≠„ÄÇ 12345 public void SendBroad(View view)&#123; Intent intent = new Intent("com.example.broadcasttest.LOCAL_BROADCAST"); localBroadcastManager.sendBroadcast(intent);&#125; ÊïàÊûúÂü∫Êú¨Âêå‰∏äÔºå‰∏çÂä†Á¥ØËµò„ÄÇ‰∏çËøáÂú®Broad2‰∏≠ÊòØÊÄéÊ†∑ÈÉΩÊêú‰∏çÂà∞ÂπøÊí≠‰∫Ü„ÄÇ Êú¨Âú∞ÂπøÊí≠ÁâπÁÇπ ÊòéÁ°ÆÂπøÊí≠Âè™Âú®Â∫îÁî®ÂÜÖÈÉ®Ôºå‰º†ÈÄíÊï∞ÊçÆÊó†ÈúÄÊãÖÂøÉÊ≥ÑÂØÜ„ÄÇ ÂÖ∂‰ªñÁ®ãÂ∫èÂπøÊí≠Êó†Ê≥ïÂèëÈÄÅËá≥Á®ãÂ∫èÂÜÖÈÉ®„ÄÇ Êú¨Âú∞ÂπøÊí≠ÊØîÂÖ®Â±ÄÂπøÊí≠Êõ¥‰∏∫È´òÊïà„ÄÇ]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîFragments]]></title>
    <url>%2F2016%2F12%2F18%2FAndroid%E7%AC%94%E8%AE%B0-Fragments%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) AndroidÂÆòÊñπÊñáÊ°£‰πãApp ComponentsÔºàFragmentsÔºâ ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ FragmentsÁöÑËâ∫ÊúØ‰πãÊóÖ FragmentsÁÆÄ‰ªã Fragment‚ÄîÁâáÊÆµ ÊòØAndroid Âú® Android 3.0ÔºàAPI 11 Á∫ßÔºâ‰∏≠ÂºïÂÖ•‰∫ÜÔºå‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÁªôÂ§ßÂ±èÂπïÔºàÂ¶ÇÂπ≥ÊùøÁîµËÑëÔºâ‰∏äÊõ¥Âä†Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑ UI ËÆæËÆ°Êèê‰æõÊîØÊåÅ„ÄÇ ÂèØ‰ª•Â∞ÜÂ§ö‰∏™ÁâáÊÆµÁªÑÂêàÂú®‰∏Ä‰∏™ Activity ‰∏≠Êù•ÊûÑÂª∫Â§öÁ™óÊ†º UIÔºå‰ª•ÂèäÂú®Â§ö‰∏™ Activity ‰∏≠ÈáçÂ§ç‰ΩøÁî®Êüê‰∏™ÁâáÊÆµ„ÄÇÂèØ‰ª•Â∞ÜÁâáÊÆµËßÜ‰∏∫ Activity ÁöÑÊ®°ÂùóÂåñÁªÑÊàêÈÉ®ÂàÜÔºåÂÆÉÂÖ∑ÊúâËá™Â∑±ÁöÑÁîüÂëΩÂë®ÊúüÔºåËÉΩÊé•Êî∂Ëá™Â∑±ÁöÑËæìÂÖ•‰∫ã‰ª∂ÔºåÂèØ‰ª•Âú® Activity ËøêË°åÊó∂Ê∑ªÂä†ÊàñÂà†Èô§ÁâáÊÆµÔºàÁ±ª‰ºº‰∫é‰∏çÂêå Activity ‰∏≠ÈáçÂ§ç‰ΩøÁî®ÁöÑ‚ÄúÂ≠ê Activity‚ÄùÔºâ GoogleÂÆòÊñπÊñáÊ°£(‰∏≠Êñá) ÂàõÂª∫Fragments fragmentÂàõÂª∫ËøáÁ®ã‰∏éActivityÁ±ª‰ºº„ÄÇ ÂàõÂª∫FragmentÔºåÈúÄË¶ÅÁªßÊâø‰∏Ä‰∏™FragmentÁ±ªÔºåÂπ∂ÂÆûÁé∞FragmentÁöÑÁîüÂëΩÂë®ÊúüÂõûË∞ÉÊñπÊ≥ïÔºåÂ¶ÇonCreate(), onStart(), onPause(), onStop()Á≠â ‰∏ÄËà¨Êù•ËØ¥ÔºåÂú®Fragment‰∏≠Â∫îËá≥Â∞ëÈáçÂÜô‰ª•‰∏ãËøô‰∫õÁîüÂëΩÂë®ÊúüÊñπÊ≥ïÂøÖÈ°ªÈáçÂÜôÁöÑÊó∂onCreateView()ÊñπÊ≥ï. onCreate()ÔºöÂàõÂª∫FragmentÂÆû‰æãÊó∂ÔºåÁ≥ªÁªüÂõûË∞ÉÁöÑÊñπÊ≥ï„ÄÇÂú®ËØ•ÊñπÊ≥ï‰∏≠ÔºåÂØπ‰∏Ä‰∫õÂøÖË¶ÅÁöÑÁªÑ‰ª∂ËøõË°åÂàùÂßãÂåñ onCreateView()ÔºöFragment‰∏äÁªòÂà∂UIÊó∂ÔºåÂõûÊéâËØ•ÊñπÊ≥ï„ÄÇËøîÂõû‰∏Ä‰∏™ViewÂØπË±°ÔºåË°®Á§∫FragmentÁöÑÊ†πËßÜÂõæÔºõËã•Fragment‰∏çÈúÄË¶ÅÁªëÂÆöÁ§∫ÂõæÔºåÂèØ‰ª•ËøîÂõûnull onPause()ÔºöÂΩìÁî®Êà∑Á¶ªÂºÄFragmentÊó∂ÂõûË∞É„ÄÇÂú®ËØ•ÊñπÊ≥ï‰∏≠ÔºåÂØπFragmentÁöÑÊï∞ÊçÆ‰ø°ÊÅØÂÅöÊåÅ‰πÖÂåñÁöÑ‰øùÂ≠òÂ∑•‰Ωú ÂàõÂª∫‰∏Ä‰∏™FragmentÁ±ª Êñ∞Âª∫first_fragme ÁªßÊâøËá™Fragment Android Studio‰∏≠ ÂØπÂ∫îFragment ÂåÖÊúâ‰∏§‰∏™ÔºåÈÄâÊã©support-v4 _(Ëøô‰∏™ÁâàÊú¨ÂèØ‰ª•ÂÜçAndroidÁâàÊú¨‰∏≠‰øùÊåÅFragmentÁâπÊÄß‰∏ÄËá¥) FragmentÂπ∂Èùû‰∏ÄÂÆöË¶ÅÁªëÂÆö‰∏Ä‰∏™Â∏ÉÂ±ÄÊñá‰ª∂Ôºå‰∏ãÈù¢‰ºöÊèêÂà∞„ÄÇ 1234567public class FirstFragment extends Fragment &#123; @Override public View onCreateView (LayoutInflater inflater, ViewGroup container, Bundle saveInstanceState)&#123; View view = inflater.inflate(R.layout.fragment_firest,container,false); return view; &#125;&#125; ‰∏éÊ≠§ÂØπÂ∫îÁöÑfragmentfirestÂ∏ÉÂ±ÄÊñá‰ª∂ LinearLayoutÂä†‰∏Ä‰∏™ButtonÔºåËÉåÊôØÈ¢úËâ≤ËÆæÁΩÆ‰∏∫‰∫ÜÈùõËìùËâ≤„ÄÇ onCreateView()ÊñπÊ≥ï ViewGroupÊù•Ëá™ÂÆø‰∏ªActivityÂÆπÂô®Â∏ÉÂ±ÄÔºåFragmentÁöÑÂ∏ÉÂ±ÄÂ∞ÜÂÖ∂‰Ωú‰∏∫Ê†πËßÜÂõæÊèíÂÖ•Ëá≥ËØ•ËßÜÂõæ‰∏≠„ÄÇ BundleÁî®‰∫éÂõû‰º†‰πãÂâçÂç†ÊçÆËØ•‰ΩçÁΩÆÁöÑFragmentÂÆû‰æãÊâÄ‰øùÂ≠òÁöÑBundle‰ø°ÊÅØÔºåÂΩìËØ•FragmentÁöÑÊñ∞ÂÆû‰æãÂ§Ñ‰∫éresumeÁä∂ÊÄÅÊó∂ÔºåËØ•ÂèÇÊï∞Ë¢´Âõû‰º† inflate() ÊñπÊ≥ï ÂèÇÊï∞1ÔºàintÔºâÔºöÈúÄË¶ÅÁªëÂÆöÁöÑLayoutÁöÑËµÑÊ∫êIDÔºõ ÂèÇÊï∞2ÔºàViewGroupÔºâÔºöÁªëÂÆöÁöÑLayoutÂ∏ÉÂ±ÄÁöÑÁà∂ËßÜÂõæÔºõ ÂèÇÊï∞3ÔºàbooleanÔºâÔºöÊòØÂê¶ÈúÄË¶ÅÂ∞ÜÂèÇÊï∞1ÁöÑLayoutËµÑÊ∫ê‰æùÈôÑ‰∫éÔºåÂèÇÊï∞2ÁöÑViewGroup‰∏äÔºåfalseÔºåË°®Á§∫‰∏ç‰æùÈôÑ„ÄÇÔºàÁ≥ªÁªüÂ∑≤ÁªèÈªòËÆ§Â∞ÜLayoutÊèíÂÖ•Ëá≥ViewGroup‰∏≠ÔºåËã•‰∏∫trueÔºåÂ∞ÜÊ∑ªÂä†‰∏ÄÂ±ÇÂÜó‰ΩôÁöÑËßÜÂõæ Âú®XMLÂ∞ÜfragmentÊ∑ªÂä†Âà∞activity Âú®activity_main.xml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†Å„ÄÇË∑üÊ∑ªÂä†‰∏Ä‰∏™layoutÊ≤°ÊúâÂ§™Â§ßÂå∫Âà´„ÄÇ 123456&lt;fragment android:id="@+id/left_fragment" android:name="ljy.com.fragmenttest.fragment_firest" android:layout_width="0dp" android:layout_height="match_parent" android:layout_weight="1"/&gt; Ëá≥Ê≠§‰∏Ä‰∏™fragmentÊ∑ªÂä†ÂÆåÊØï„ÄÇ‰∏∫‰∫ÜÂØπÊØîÔºåÂÜçÊñ∞Âª∫‰∏Ä‰∏™second_fragmentÔºåËÉåÊôØÈ¢úËâ≤‰∏çÂêåÔºå‰∏§ËÄÖÂêåÊó∂Ê∑ªÂä†Ëøõactivity_main‰∏≠„ÄÇ ‰∏ÄËà¨Êù•ËØ¥ÂøÖÈ°ª‰∏∫fragmentËÆæÂÆöÂîØ‰∏ÄÁöÑË∫´‰ªΩÊ†áËØÜÔºå‰ª•‰æøÂΩìÂÆø‰∏ªActivity‰∏∫restartÁä∂ÊÄÅÊó∂ÂèØ‰ª•ÊÅ¢Â§çfragment android:idÂ±ûÊÄß‰∏∫fragmentÊåáÂÆöÂîØ‰∏ÄID android:tagÂ±ûÊÄß‰∏∫fragmentÊåáÂÆöÂîØ‰∏ÄÂ≠óÁ¨¶‰∏≤Ê†áËØÜ Êú™ÊåáÂÆöÔºåÂàôËØ•fragmentÁöÑÊ†áËØÜ‰∏∫ÂÖ∂Áà∂ÂÆπÂô®Êéß‰ª∂ÁöÑID Âä®ÊÄÅÊ∑ªÂä†Á¢éÁâá Â§ÑÁêÜÁâáÊÆµÊó∂ÔºåËØ∑Ë∞®ËÆ∞ÔºöActivity Â∏ÉÂ±ÄÂøÖÈ°ªÂåÖÂê´‰∏Ä‰∏™ÂèØ‰ª•ÊèíÂÖ•ÁâáÊÆµÁöÑÂÆπÂô® View Ê∑ªÂä†ÊàñÁßªÈô§ÁâáÊÆµÂøÖÈ°ª‰ΩøÁî® FragmentManager ÂàõÂª∫ FragmentTransactionÔºå FragmentTransactionÂ∞ÜÊèê‰æõÊ∑ªÂä†„ÄÅÁßªÈô§„ÄÅÊõøÊç¢ÁâáÊÆµ‰ª•ÂèäÊâßË°åÂÖ∂‰ªñÁâáÊÆµ‰∫ãÂä°ÊâÄÈúÄÁöÑ API„ÄÇActivity ÂÜÖË∞ÉÁî® getSupportFragmentManager() ‰ª•Ëé∑Âèñ FragmentManager 12rightfragment right = new rightfragment();FragmentManager fragmentManager = getSupportFragmentManager(); Ë∞ÉÁî® beginTransaction() ÂàõÂª∫‰∏Ä‰∏™ FragmentTransaction‰∫ãÂä°ÔºåÂπ∂Ë∞ÉÁî® add() Ê∑ªÂä†‰∏Ä‰∏™ÁâáÊÆµÔºåÂÅöÂ•ΩÊõ¥ÊîπÂáÜÂ§áÊó∂ÔºåË∞ÉÁî® commit() 123FragmentTransaction transaction = fragmentManager.beginTransaction();transaction.replace(R.id.right_layout,right);transaction.commit(); Á§∫‰æãÔºö È¶ñÂÖàÊîπÈÄ†‰∏Ä‰∏ãactivitymain.xmlFrameLayoutÂåÖÂê´‰∏Ä‰∏™left_fragment 12345678910111213 &lt;FrameLayout android:id="@+id/right_layout" android:layout_width="0dp" android:layout_height="match_parent" android:layout_weight="1"&gt; &lt;fragment android:id="@+id/left_fragment" android:name="com.example.fragment_text.leftfragment" android:layout_width="wrap_content" android:layout_height="wrap_content" /&gt;&lt;/FrameLayout&gt; Âú®MainActivityÁöÑonCreateÊñπÊ≥ï‰∏≠Ê∑ªÂä†fragment 12345678910111213//Êñ∞Âª∫ÂáÜÂ§áÊõøÊç¢ÁöÑFragmentÂÆû‰æãrightfragment right = new rightfragment();//Êñ∞Âª∫FragmentManagerFragmentManager fragmentManager = getSupportFragmentManager();// Ë∞ÉÁî®beginTransaction() ÂàõÂª∫FragmentTransactionFragmentTransaction transaction = fragmentManager.beginTransaction();//FragmentTransactionÂÜÖÂ§ÑÁêÜÊ∑ªÂä†/ÊõøÊç¢Á≠â„ÄÇtransaction.replace(R.id.right_layout,right);//ÊúÄÂêéÊâßË°åcommit()ÊñπÊ≥ïtransaction.commit(); ÁÆ°ÁêÜFragments/ÊâßË°åFragment‰∫ãÂä° Activity‰∏≠ÁÆ°ÁêÜFragmentÔºå‰ΩøÁî®FragmentManager( 1FragmentManager fragmentManager = getFragmentManager(); ÂèØ‰ª•ÂÆûÁé∞ÁöÑÊìç‰Ωú findFragmentById()ÊñπÊ≥ïËé∑ÂèñÁî±ActivityÁÆ°ËæñÁöÑÁªëÂÆö‰∫ÜUIÁöÑFragmentÂÆû‰æã popBackStack()ÊñπÊ≥ïÂ∞ÜFragment‰ªéÂêéÈÄÄÊ†à‰∏≠ÂºπÂá∫ addOnBackStackChangedListener()ÊñπÊ≥ïÊ≥®ÂÜåÁõëÂê¨Âô®ÔºåÁî®‰∫éÁõëÂê¨ÂêéÈÄÄÊ†àÁöÑÂèòÂåñ FragmentÂèØÂÆûÁé∞Âä®ÊÄÅÊ∑ªÂä†„ÄÅÂà†Èô§„ÄÅÊõøÊç¢ Á≠â Êìç‰ΩúÔºåÊØè‰∏ÄÁªÑÂêëActivityÊèê‰∫§ÁöÑÂèòÂåñÁß∞‰∏∫‰∫ãÂä°Ôºå‰ΩøÁî®FragmentTransactionËøôÊìç‰Ωú‰∫ãÂä°,Ë∞ÉÁî®beginTransaction(ÔºâÂºÄÂêØ‰∏Ä‰∏™‰∫ãÂä° 12FragmentManager fragmentManager = getFragmentManager();FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); ÂèØÂÆûÁé∞ÂØπFeagmentÁöÑÊìç‰Ωú add() //Ê∑ªÂä† remove() //ÁßªÈô§ replace() //ÊõøÊç¢ ‰∫ãÂä°Ë¶ÅÂú®Activity‰∏≠ÁîüÊïàÔºåË∞ÉÁî®commit()ÊñπÊ≥ïÊèê‰∫§ commit()ÊñπÊ≥ï‰πãÂâçÔºåË∞ÉÁî®addToBackStack()ÊñπÊ≥ïÔºåÂèØ‰ª•Â∞ÜËØ•‰∫ãÁâ©Ê∑ªÂä†Âà∞Áî±ActivityÁÆ°ËæñÁöÑFragmentËøîÂõûÊ†à‰∏≠„ÄÇÁÇπÂáªBackÈîÆÂç≥Êí§ÈîÄËØ•‰∫ãÁâ©Êèê‰∫§ÁöÑÊõ¥Êîπ ‰ΩøÁî®FragmentTransactionÊìç‰Ωú‰∫ãÂä°Êó∂Ê≥®ÊÑè commit()ÂøÖÈ°ªÂú®ÊúÄÂêéË∞ÉÁî® ‰∏Ä‰∏™Â∏ÉÂ±ÄÂÆπÂô®‰∏≠Ê∑ªÂä†Â§ö‰∏™FragmentÔºåÂä†ÂÖ•ÁöÑÈ°∫Â∫èÂÜ≥ÂÆö‰∫ÜËøô‰∫õFragmentÁªëÂÆöÁöÑUIËßÜÂõæÂú®ViewÊ†ë‰∏≠ÁöÑÂ±ÇÁ∫ßÈ°∫Â∫è commit()ÊñπÊ≥ïÊèê‰∫§ÂêéÔºåÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÊâßË°å‰∫ãÂä°ÔºåUIÊõ¥Êñ∞Âè™ËÉΩÂú®‰∏ªÁ∫øÁ®ã‰∏≠ËøõË°åÔºå‰∏ªÁ∫øÁ®ãÁ©∫Èó≤Êó∂ÔºåÊâç‰ºöÊâßË°å‰∫ãÂä°Êìç‰ΩúAndroid‰πüÊèê‰æõ‰∫Ü Âú®UIÁ∫øÁ®ã‰∏≠Ë∞ÉÁî®executePendingTransactions()ÊñπÊ≥ïÔºå‰Ωøcommit()ÊñπÊ≥ïË∞ÉÁî®ÂêéÁ´ãÂç≥ÊâßË°åÊèê‰∫§ÁöÑ‰∫ãÂä°Ôºà‰∏ÄËà¨Áî®‰∏çÂà∞Ôºâ ‰∏é Activity ÈÄö‰ø° Fragment ‰∏≠Ëé∑Âèñ Activity ÂÆû‰æã getActivity()ÊñπÊ≥ïÂèØ‰ª•Ëé∑ÂèñÂà∞ Activity ÂÆû‰æã 1MainActivity activity = (MainActivity) getActivity(); Ë∞ÉÁî®Activity‰∏≠ÁöÑËØïÂõæ‰πüÂæàÁÆÄÂçïÔºå‰ΩøÁî®findViewById()Âç≥ÂèØÔºågetActivity()ÊñπÊ≥ïËøîÂõûÁöÑÊó¢ÊòØ‰∏Ä‰∏™ContextÂØπË±° 1View listView = getActivity().findViewById(R.id.list); Âú®Fragment‰∏≠‰ΩøÁî®ContextÂØπË±°ÔºågetActivity()ÊñπÊ≥ïÔºåÂè™ËÉΩÊòØÂú®fragmentÂ∑≤Áªè‰æùÈôÑ‰∫éActivityÂêéÊâçËÉΩË∞ÉÁî®„ÄÇÂΩìfragmentÊú™‰æùÈôÑ‰∫éÊüê‰∏™Activity„ÄÅÊàñfragmentÂ∑≤ÁªèÂ§Ñ‰∫éÂÖ∂ÁîüÂëΩÂë®ÊúüÁöÑÊú´Â∞æËÄå‰∏çÂÜç‰æùÈôÑ‰∫éÊüê‰∏™ActivityÊó∂ÔºåË∞ÉÁî®getActivity()ÊñπÊ≥ï‰ºöÁõ¥Êé•ËøîÂõûnull Activity ‰∏≠Ëé∑Âèñ Fragment ÂÆû‰æã()FragmentMangerÊèê‰æõ‰∫ÜfindFragmentById()ÊñπÊ≥ï 1RightFragment fragment = (RightFragment) getFragmentManager().findFragmentById(R.id.example_fragment); Â¶ÇÊûú‰ΩøÁî®ÁöÑ‰Ωøsupport-V4ÂåÖÔºåÂàô getFragmentManager()Êîπ‰∏∫getSupportFragmentManager()Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1RightFragment fragment = (RightFragment)getSupportFragmentManager().findFragmentById(R.id.example_fragment); Fragment‰∏éFrangment‰πãÈó¥‰πüÂèØ‰ª•ÈÄöËøáÂÆø‰∏ªActivityÔºåËé∑ÂèñÂà∞Âè¶‰∏Ä‰∏™FragmentÂÆû‰æãÔºåË∞ÉÁî®Âè¶‰∏Ä‰∏™Fragment‰∏≠ÁöÑÊñπÊ≥ï ‰∏∫ActivityÂàõÂª∫‰∫ã‰ª∂ÂõûË∞É Âç†ÂùëÔºå FrangmentÁöÑÁîüÂëΩÂë®Êúü ‰∏éActivityÊûÅ‰∏∫Áõ∏‰ººÔºå‰∏î FrangmentÁöÑÁîüÂëΩÂë®Êúü‰∏éÂÆø‰∏ªActivityÊúâÂæàÂ§ßÂÖ≥ËÅî Êúâ3ÁßçÁä∂ÊÄÅ ResumedÁªßÁª≠ÔºöÂÆø‰∏ªActivityÂ§Ñ‰∫érunningÔºåFragmentÂ§Ñ‰∫éÂèØËßÅÁä∂ÊÄÅ PausedÊöÇÂÅúÔºöÂè¶‰∏Ä‰∏™ActivityÂ§Ñ‰∫éÂâçÂè∞Âπ∂Ëé∑Âæó‰∫ÜÁÑ¶ÁÇπÔºåËØ•FragmentÁöÑÂÆø‰∏ªActivityÂπ∂Êú™Ë¢´ÂÖ®ÈÉ®ÈÅÆÊå° StoppedÂÅúÊ≠¢ÔºöFragment‰∏çÂèØËßÅÊàñFragmentÂ∑≤Ë¢´ActivityÁßªÈô§ÔºåÂÆø‰∏ªActivityË¢´ÂõûÊî∂Êó∂ÔºåFragment‰πüÂ∞ÜË¢´ÂõûÊî∂ ÂÆø‰∏ªActivityÁöÑÂΩ±Âìç ÈáçË¶ÅÂõûË∞ÉÊñπÊ≥ï onAttach()ÔºöfragmentÂÖ≥ËÅîActivityÊó∂ÂõûË∞É onCreateView()ÔºöfragmentÁªëÂÆöUIËßÜÂõæ(Âä†ËΩΩÂ∏ÉÂ±Ä)Êó∂ÂõûË∞É onActivityCreated()ÔºöÂÆø‰∏ªActivityÂàõÂª∫ÂÆåÊØï (ÂÆø‰∏ªActivityÁöÑonCreate()ÊñπÊ≥ïËøîÂõû) ÂêéË∞ÉÁî® onDestroyView()Ôºö‰∏éfragmentÁªëÂÆöÁöÑUIËßÜÂõæË¢´ÁßªÈô§Êó∂ÂõûË∞É onDetach()Ôºöfragment‰∏çÂÜç‰æùÈôÑ‰∫éActivityÊó∂ÂõûË∞É Activity ‰∏éFragmentÂú®ÁîüÂëΩÂë®Êúü‰πãÈó¥ÁöÑÊúÄÊòæËëóÂ∑ÆÂºÇÂú®‰∫éÂÆÉ‰ª¨Âú®ÂÖ∂ÂêÑËá™ËøîÂõûÊ†à‰∏≠ÁöÑÂ≠òÂÇ®ÊñπÂºè„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåActivity ÂÅúÊ≠¢Êó∂‰ºöË¢´ÊîæÂÖ•Áî±Á≥ªÁªüÁÆ°ÁêÜÁöÑ Activity ËøîÂõûÊ†àÔºà‰ª•‰æøÁî®Êà∑ÈÄöËøáËøîÂõûÊåâÈíÆÂõûÈÄÄÂà∞ ActivityÔºâÔºåFrament‰ªÖÂΩìÊÇ®Âú®ÁßªÈô§ÁâáÊÆµÁöÑ‰∫ãÂä°ÊâßË°åÊúüÈó¥ÈÄöËøáË∞ÉÁî® addToBackStack() ËØ∑Ê±Ç‰øùÂ≠òÂÆû‰æãÊó∂ÔºåÁ≥ªÁªüÊâç‰ºöÂ∞ÜFragmentÊîæÂÖ•Áî±ÂÆø‰∏ª Activity ÁÆ°ÁêÜÁöÑËøîÂõûÊ†à„ÄÇ ‰∏ÄÊó¶ActivityÂ§Ñ‰∫éresumeÁä∂ÊÄÅÊó∂ÔºåÂèØ‰ª•Ëá™Áî±Âú∞Ê∑ªÂä†ÊàñÁßªÈô§fragmentÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂè™ÊúâÂΩìActivityÁöÑÁä∂ÊÄÅ‰∏∫resumeÊó∂ÔºåfragmentÊâçËÉΩÂ§üËá™Áî±Âú∞ÊéßÂà∂Ëá™Â∑±ÁöÑÁîüÂëΩÂë®Êúü]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîUI-RecyclerView]]></title>
    <url>%2F2016%2F12%2F16%2FAndroid%E7%AC%94%E8%AE%B0-UI-RecyclerView%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) RecyclerView‰ΩøÁî®ËØ¶Ëß£‚ÄîÂÖ≠ÂíåÊï¨ RecyclerView‰ΩøÁî®‰ªãÁªç‚Äî Jin Yudong Android RecyclerView ‰ΩøÁî®ÂÆåÂÖ®Ëß£Êûê ‰ΩìÈ™åËâ∫ÊúØËà¨ÁöÑÊéß‰ª∂‚ÄîÈ∏øÊ¥ã_ ÂàõÂª∫ÂàóË°®‰∏éÂç°Áâá‚ÄîAndroid Developer ÁºñÁ®ãÁéØÂ¢É Android Studio 2.2.3 ÂØºËØ≠ RecyclerViewÂÜÖÂÆπËæÉListViewÊõ¥Â§öÔºåÂàùÊúüÂè™ËÉΩÊõ¥Êñ∞‰∏Ä‰∫õÂü∫Á°ÄÂÜÖÂÆπÔºåÈ´òÁ∫ßÁöÑÁî®Ê≥ïÈöèÊó∂Êõ¥Êñ∞ÔºåÈïøÊúüË∑üËøõ ÁÆÄ‰ªã RecyclerViewÊòØÁî®‰∫éÂèñ‰ª£ListViewÁöÑÁªÑ‰ª∂,Á¨¨‰∏ÄÊ¨°Âá∫Áé∞ÊòØÂú®2014Âπ¥google I/OÂ§ß‰ºöÔºåÂÜÖÁΩÆÂú®ÊòØAndroid LÂèä‰ª•‰∏äÁâàÊú¨ÁöÑSDK‰∏≠„ÄÇ ÂØπÊØî‰∏éListViewÔºåRecyclerViewÂº•Ë°•‰∫ÜListView‰∏≠ÁöÑÊïàÁéáÈóÆÈ¢òÔºåÂêåÊó∂ÊîØÊåÅÊõ¥Â§öÁöÑÊòæÁ§∫ÊïàÊûúÔºå‰ª£Á†ÅÈÄªËæëÊõ¥‰∏∫Ê∏ÖÊô∞ Âü∫Êú¨‰ΩøÁî®Ê≠•È™§ RecyclerViewÂÆö‰πâÂú®supportÂ∫ì‰∏≠Ôºå‰ΩøÁî®RecyclerView‰πãÂâçÂøÖÈ°ªÂú®Ê∑ªÂä†‰æùËµñ build.gradle‰∏≠Ê∑ªÂä† compile &#39;com.android.support:recyclerview-v7:25.1.0&#39; RecyclerViewÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÔºö Ë¶Å‰ΩøÁî®RecyclerViewÔºåÈúÄË¶ÅÊåáÂÆö‰∏Ä‰∏™AdapterÈÄÇÈÖçÂô®Âíå‰∏Ä‰∏™LayoutManagerÂ∏ÉÂ±ÄÁÆ°ÁêÜÂô® AdapterÈÄÇÈÖçÂô®Ôºö‰ΩúÁî®‰∏éListView‰∏≠‰ΩøÁî®ÁöÑAdapterÁõ∏ÂêåÔºåÈÉΩÊòØÂ∞ÜÊï∞ÊçÆ‰∏éÂØπÂ∫îitemÁöÑÁïåÈù¢ËøõË°åÁªëÂÆöÊâÄ‰∏çÂêåÁöÑÊòØÔºöRecyclerView‰∏≠ÈÄÇÈÖçÂô®ÂøÖÈ°ªÁªßÊâøËá™RecyclerView.AdapterÔºå‰∏î Âº∫Âà∂‰ΩøÁî®‰∫ÜViewHolder LayoutManagerÂ∏ÉÂ±ÄÁÆ°ÁêÜÂô®ÔºöÊØè‰∏Ä‰∏™itemÂ¶Ç‰ΩïËøõË°åÊéíÂàóÔºå‰ΩïÊó∂Â±ïÁ§∫ÂíåÈöêËóè„ÄÇÈáçÁî®ViewÊó∂ÔºåLayoutManager‰ºöÂêëAdapterÈÄÇÈÖçÂô®ËØ∑Ê±ÇÊñ∞ÁöÑÊï∞ÊçÆÊõøÊç¢ÊóßÁöÑÊï∞ÊçÆÔºåÈÅøÂÖç‰∫ÜViewÁöÑÂÜó‰ΩôÂíåÈ¢ëÁπÅË∞ÉÁî®findViewById LayoutManagerÁöÑÂºïÂÖ• ‰ΩøÂæóÂêÑÁßçÂ∏ÉÂ±ÄÊéíÂàóÁºñÂÜôÔºåÂèòÁöÑÊ†ºÂ§ñÂÆπÊòìÔºåËøô‰πüÊòØRecyclerView‰ºò‰∫éListViewÁöÑ‰∏Ä‰∏™Âú∞Êñπ ÁõÆÂâçRecyclerView ÂÜÖÁΩÆ3ÁßçLayoutManagerÔºö LinearLayoutManager Ê®™Âêë/Á´ñÂêëÂ∏ÉÂ±Ä GridLayoutManager ÁΩëÊ†ºÂ∏ÉÂ±Ä StaggeredGridLayoutManager ÁÄëÂ∏ÉÊµÅÂ∏ÉÂ±Ä MainActivity‰∏≠ RecyclerView ËÆæÁΩÆ ÂàõÂª∫RecyclerViewÂØπË±°RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycle_view); ËÆæÁΩÆLayoutManagerÊòæÁ§∫ËßÑÂàô ËÆæÁΩÆÈÄÇÈÖçÂô®recyclerview.setAdapter(adapter); ÁÆÄÂçïÂÆû‰æãÁî±‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆû‰æã+ËØ¶ÁªÜÂàÜÊûê Ê∑ªÂä†‰æùËµñÊâìÂºÄapp/build.gradleÊñá‰ª∂ÔºåÂú®dependenciesÈó≠ÂåÖ‰∏ãÊ∑ªÂä†‰æùËµñÂ∫ìÁâàÊú¨‰∏é‰Ω†Â∑•Á®ãÁöÑcom.android.support:appcompat-v7:25.1.0ÁâàÊú¨ÂØπÂ∫î 1compile 'com.android.support:recyclerview-v7:25.1.0' ‰πãÂêéAndroidStudio‰ºöÂºÄÂßãÂêåÊ≠• Ê∑ªÂä†RecyclerViewÂà∞xmlÊñá‰ª∂,Âü∫Êú¨‰∏éListView‰∏ÄËá¥Ôºå‰∏çËøáRecyclerViewÂπ∂ÈùûÂÜÖÁΩÆÂú®SDK‰∏≠ÔºåËøôÈáåÈúÄË¶ÅÂÜôÂá∫ÂÆåÊï¥ÁöÑÂåÖË∑ØÂæÑ 12345&lt;android.support.v7.widget.RecyclerView android:id="@+id/recycle_view" android:layout_width="match_parent" android:layout_height="match_parent" /&gt; Ë¶ÅÂ±ïÁ§∫ÁöÑ‰æùÊóßÊòØÊ∞¥Êûú+ÂõæÁâáÂΩ¢ÂºèÔºåÂõæÁâáËµÑÊ∫êÂú®Á¨¨‰∏ÄË°å‰ª£Á†ÅÁ¨¨‰∫åÁâàÊ∫êÁ†Å /chapter3/ListViewTest\app\src\main\res\drawable-hdpi‰∏ãÔºåÂêåÊó∂Â∞ÜFruitÁ±ªÂíåfruititem.xml‰∏ÄÂπ∂Â§çÂà∂ÔºåËøôÈáåÁªôÂá∫‰∏§ËÄÖÊ∫êÁ†ÅÔºå‰∏çÂÜçÂä†ÂàÜÊûê FruitÁ±ª 1234567891011121314151617public class Fruit &#123;private String name;private int imageId;public Fruit(String name, int imageId) &#123; this.name = name; this.imageId = imageId; &#125;public String getName() &#123; return name; &#125;public int getImageId() &#123; return imageId; &#125;&#125; fruititem.xml 123456789101112131415161718&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"android:orientation="horizontal"android:layout_width="match_parent"android:layout_height="match_parent"&gt;&lt;ImageView android:id="@+id/fruit_image" android:layout_width="wrap_content" android:layout_height="wrap_content" /&gt;&lt;TextView android:id="@+id/fruit_name" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_gravity="center_vertical" android:layout_marginLeft="10dp" /&gt;&lt;/LinearLayout&gt; ÂáÜÂ§áRecyclerViewÈÄÇÈÖçÂô®ÔºåÈÄÇÈÖçÂô®ÈúÄË¶ÅÁªßÊâøËá™ RecyclerView.AdapterÔºåÂ∞ÜÊ≥õÂûãÊåáÂÆö‰∏∫ .ViewHolderÔºå(ViewHolder‰∏∫Âú®ÈÄÇÈÖçÂô®ÁöÑ‰∏Ä‰∏™ÂÜÖÈÉ®Á±ª)ÔºåÂπ∂ÈáçÂÜô3‰∏™ÊñπÊ≥ï 123public ViewHolder onCreateViewHolder(ViewGroup parent,int viewType)//ÂàõÂª∫ËøîÂõûViewHolderÂÆû‰æãpublic void onBindViewHolder(ViewHolder holder,int pisition)//Êï∞ÊçÆ‰∏éÁïåÈù¢ÁªëÂÆöpublic int getItemCount() // ËøîÂõûÊï∞ÊçÆÁöÑÊï∞Èáè Êñ∞Âª∫ FruitAdapter ÁªßÊâøËá™ RecyclerView.Adapter 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 //ÁªßÊâøËá™RecyclerView.AdapterÔºåÊ≥õÂûã‰∏∫ FruitAdapter .ViewHolder public class FruitAdapter extends RecyclerView.Adapter&lt;FruitAdapter.ViewHolder&gt; &#123; //ÁßÅÊúâFruitÂàóË°® private List&lt;Fruit&gt; mFruitList;//Êñ∞Âª∫ÂÜÖÈÉ®Á±ªViewHolderÁªßÊâøËá™RecyclerView.ViewHoldeÊúâÊØè‰∏™ItemÁöÑÁöÑÊâÄÊúâÁïåÈù¢ÂÖÉÁ¥† static class ViewHolder extends RecyclerView.ViewHolder&#123; ImageView fruitImage; TextView fruitName; //ViewHolderÊûÑÈÄ†ÂáΩÊï∞Ôºå‰º†ÂÖ•ViewÔºåÈÄöÂ∏∏‰∏∫RecyclerViewÂ≠êÈ°πÁöÑÂ§ñÂ±ÇÂ∏ÉÂ±Ä(Êú¨‰æã‰∏∫fruit_item.xml) public ViewHolder(View view)&#123; super(view); //findViewByIdËé∑Âèñ Image/NameÂÆû‰æã fruitImage = (ImageView)view.findViewById(R.id.fruit_image); fruitName = (TextView)view.findViewById(R.id.fruit_name); &#125; &#125;//FruitAdapterÊûÑÈÄ†ÂáΩÊï∞ÔºåÂ∞ÜÊï∞ÊçÆÊ∫ê‰º†ÂÖ•ÂÖ®Â±ÄÂèòÈáèmFruitList public FruitAdapter(List&lt;Fruit&gt;fruitList)&#123; mFruitList = fruitList; &#125; @Override //ÂàõÂª∫ViewHolderÂÆû‰æã public ViewHolder onCreateViewHolder(ViewGroup parent,int viewType)&#123; //Âä†ËΩΩÂ∏ÉÂ±ÄÊñá‰ª∂ View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fruit_item,parent,false); //Ë∞ÉÁî®ViewHolderÊûÑÈÄ†ÂáΩÊï∞ ViewHolder holder = new ViewHolder(view); //ËøîÂõûViewHolderÂÆû‰æã return holder; &#125; @Override //ÂØπ RecyclerViewÂ≠êÈ°πËøõË°åËµãÂÄºÔºåÊúâÊñ∞ÁöÑÂ≠êÈ°πËøõÂÖ•Â±èÂπïÊòæÁ§∫ËåÉÂõ¥Êó∂Ë∞ÉÁî® public void onBindViewHolder(ViewHolder holder,int pisition)&#123; Fruit fruit = mFruitList.get(pisition); holder.fruitImage.setImageResource(fruit.getImageId()); holder.fruitName.setText(fruit.getName()); &#125; @Override //ËøîÂõû RecyclerViewÂ≠êÈ°πÊï∞Èáè public int getItemCount()&#123; return mFruitList.size(); &#125; &#125; MainActivity‰∏≠‰ΩøÁî®RecyclerView ÂàõÂª∫RecyclerViewÂØπË±° ËÆæÁΩÆLayoutManagerÊòæÁ§∫ËßÑÂàôÔºàÈªòËÆ§Á´ñÂêëÊªöÂä®Ôºâ ËÆæÁΩÆÈÄÇÈÖçÂô® ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950 public class MainActivity extends AppCompatActivity &#123;//ÁßÅÊúâÂàóË°® private List&lt;Fruit&gt; fruitList = new ArrayList&lt;Fruit&gt;(); @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); //ÂàùÂßãÂåñFruitsÊï∞ÊçÆ initFruits(); //Ëé∑ÂèñRecyclerViewÂÆû‰æã RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycle_view); //ÂàõÂª∫LinearLayoutManagerÔºåÂπ∂ËÆæÁΩÆÂÖ•recyclerView LinearLayoutManager layoutManager = new LinearLayoutManager(this); recyclerView.setLayoutManager(layoutManager); //Êñ∞Âª∫ÈÄÇÈÖçÂô®ÔºåÂπ∂‰º†ÂÖ• FruitAdapter adapter = new FruitAdapter(fruitList); recyclerView.setAdapter(adapter); &#125; //ÂàùÂßãÂåñFruitsÁ±ª private void initFruits() &#123; //Âæ™ÁéØ‰∏§ÈÅç ÊÄïÂç†‰∏çÊª°Â±èÂπï for (int i = 0; i &lt; 2; i++) &#123; Fruit apple = new Fruit("Apple", R.drawable.apple_pic); fruitList.add(apple); Fruit banana = new Fruit("Banana", R.drawable.banana_pic); fruitList.add(banana); Fruit orange = new Fruit("Orange", R.drawable.orange_pic); fruitList.add(orange); Fruit watermelon = new Fruit("Watermelon", R.drawable.watermelon_pic); fruitList.add(watermelon); Fruit pear = new Fruit("Pear", R.drawable.pear_pic); fruitList.add(pear); Fruit grape = new Fruit("Grape", R.drawable.grape_pic); fruitList.add(grape); Fruit pineapple = new Fruit("Pineapple", R.drawable.pineapple_pic); fruitList.add(pineapple); Fruit strawberry = new Fruit("Strawberry", R.drawable.strawberry_pic); fruitList.add(strawberry); Fruit cherry = new Fruit("Cherry", R.drawable.cherry_pic); fruitList.add(cherry); Fruit mango = new Fruit("Mango", R.drawable.mango_pic); fruitList.add(mango); &#125; &#125; &#125; ËøôÊ†∑ÊúÄÁÆÄÂçïÁöÑ RecyclerView Â∞±Êê≠Âª∫ÂÆå‰∫ÜÊïàÊûúÂ¶Ç‰∏ã ‰ª£Á†ÅÊØîListViewÁ®çÂ§öÔºå‰ΩÜÊòØÈÄªËæëÊØîËæÉÊ∏ÖÊô∞„ÄÇ Ê®™Âêë/ÁÄëÂ∏ÉÊµÅ/ÁΩëÊ†ºÂ∏ÉÂ±Ä Âè™ÈúÄË¶ÅËÆæÁΩÆÁõ∏Â∫îLayoutManagerÂç≥ÂèØ /ÊâãÂä®ÊªëÁ®Ω Ê®™Âêë Âú® LinearLayoutManager ‰∏≠‰øÆÊîπÂá†Ë°å‰ª£Á†ÅÂç≥ÂèØ ‰øÆÊîπ LinearLayoutManager ‰ª£Á†ÅÔºåÊ∑ªÂä†‰∏ÄË°åÔºåÊêûÂÆöÔºÅ 1layoutManager.setOrientation(LinearLayoutManager.HORIZONTAL); ÂΩìÁÑ∂ÈúÄË¶ÅÁÆÄÂçï‰øÆÊîπ‰∏Ä‰∏ãitemÁöÑÂ∏ÉÂ±ÄÊñá‰ª∂ÔºåLinearLayoutÊîπ‰∏∫ÂûÇÁõ¥ÊéíÂàóÔºåÂÆΩÂ∫¶Âõ∫ÂÆö100dpÔºåÂõæÁâá/ÊñáÂ≠óÂ±Ö‰∏≠ÊïàÊûúÂ¶Ç‰∏ã ÁÄëÂ∏ÉÊµÅ ËøôÈúÄË¶Å StaggeredGridLayoutManager Â∏ÉÂ±ÄÁÆ°ÁêÜÂô®ÔºåÂèØ‰ª• Á´ñÂêë/Ê®™Âêë ÊªöÂä® ‰ª£Á†ÅÂ¶Ç‰∏ã12//ÁÄëÂ∏ÉÊµÅÂ∏ÉÂ±ÄÔºå3Ë°åÔºåÁ´ñÂêëStaggeredGridLayoutManager layoutManager = new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL); Ë∞ÉÊï¥Â∏ÉÂ±ÄÊñá‰ª∂ÔºåÊïàÊûúÂ¶Ç‰∏ã ÁΩëÊ†º ËøôÈúÄË¶Å GridLayoutManager Â∏ÉÂ±ÄÁÆ°ÁêÜÂô® ‰ª£Á†ÅÂ¶Ç‰∏ã 12//ÁΩëÊ†ºÂ∏ÉÂ±ÄÔºå‰∏§Ë°åGridLayoutManager layoutManager = new GridLayoutManager(this,3); Ë∞ÉÊï¥Â∏ÉÂ±ÄÊñá‰ª∂ÂêéÔºåÊïàÊûúÂ¶Ç‰∏ã Ê≥®ÂÜåÁÇπÂáª‰∫ã‰ª∂ RecyclerView ‰∏≠Âπ∂Ê≤°ÊúâÊèê‰æõÊ≥®ÂÜåÁõëÂê¨Âô®ÁöÑÊñπÊ≥ïÔºåÈúÄË¶ÅÂ≠êÈ°πViewËá™Ë°åÊ≥®ÂÜå ÈÉ®ÂàÜ‰ª£Á†ÅÂ¶Ç‰∏ã1234567891011121314151617181920212223242526272829303132333435 static class ViewHolder extends RecyclerView.ViewHolder &#123; View fruitView; ImageView fruitImage; TextView fruitName; public ViewHolder(View view) &#123; super(view); fruitView = view; fruitImage = (ImageView) view.findViewById(R.id.fruit_image); fruitName = (TextView) view.findViewById(R.id.fruit_name); &#125;&#125; @Overridepublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fruit_item, parent, false); final ViewHolder holder = new ViewHolder(view); holder.fruitView.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; int position = holder.getAdapterPosition(); Fruit fruit = mFruitList.get(position); Toast.makeText(v.getContext(), "you clicked view " + fruit.getName(), Toast.LENGTH_SHORT).show(); &#125; &#125;); holder.fruitImage.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; int position = holder.getAdapterPosition(); Fruit fruit = mFruitList.get(position); Toast.makeText(v.getContext(), "you clicked image " + fruit.getName(), Toast.LENGTH_SHORT).show(); &#125; &#125;); return holder;&#125;]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞-UI-ListView]]></title>
    <url>%2F2016%2F12%2F13%2FAndroid%E7%AC%94%E8%AE%B0-UI-ListView%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) ListView Android ListViewÂ∑•‰ΩúÂéüÁêÜÂÆåÂÖ®Ëß£ÊûêÔºåÂ∏¶‰Ω†‰ªéÊ∫êÁ†ÅÁöÑËßíÂ∫¶ÂΩªÂ∫ïÁêÜËß£ ListViewÊòØÊâÄÊúâÂéüÁîüÊéß‰ª∂‰∏≠‰ΩøÁî®È¢ëÁéáÊúÄÈ´òÂíåÊúÄÂ§çÊùÇÁöÑÔºåÊ∂âÂèäÁü•ËØÜÁÇπ‰πüËæÉÂ§öÔºå‰∏ìÈó®ÊäΩÂá∫‰∏ÄÁØáÊù•ËÆ∞ÂΩïÔºåÊ∂âÂèä‰∏Ä‰∫õËøáÁ®ãÂàÜÊûêÔºåÂ∏åÊúõËá™Â∑±ËÉΩÂÜôÂÆå ListViewÁöÑÁÆÄÂçï‰ΩøÁî® ÂÖàÊù•Áúã‰∏Ä‰∏ã‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆû‰æã‰ª£Á†ÅÂ¶Ç‰∏ã Âú®activity_main.xml‰∏≠Ê∑ªÂä†_ListView 12345&lt;ListView android:id="@+id/list_view" android:layout_width="match_parent" android:layout_height="match_parent"&gt;&lt;/ListView&gt; ‰øÆÊîπMainActivityÁöÑ‰ª£Á†Å 123456789101112131415161718 //Ë¶ÅÊòæÁ§∫ÁöÑÊï∞ÁªÑÔºåÂ±èÂπïÈïø‰∫ÜÁÇπÔºå‰∏∫‰∫ÜÊòæÁ§∫ÊªëÂä®ÊïàÊûúÂ§öÂ¢ûÂä†‰∫ÜÂá†È°π„ÄÇ private String[] data = &#123;"apple","banana","orange","watermelon","pear","grape","pineapple","strawberry","cherry","mango","A","B","C","D","E","F"&#125;; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar); setSupportActionBar(toolbar);//‰∏∫ÈÄÇÈÖçÂô®ÁªëÂÆöÊï∞ÊçÆ ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this,android.R.layout.simple_list_item_single_choice,data);//ÂæóÂà∞ListViewÂØπË±°ÁöÑÂºïÁî®ListView listView = (ListView) findViewById(R.id.list_view);//ÈÄÇÈÖçÂô®ÂÜÖÂÆπ‰º†ÈÄílistView.setAdapter(adapter); &#125;); &#125; ÊïàÊûúÂ¶ÇÂõæ Ê≠•È™§ÂÖ∂ÂÆûÊØîËæÉÁÆÄÂçï ÂáÜÂ§áË¶ÅÊòæÁ§∫ÁöÑÊï∞ÊçÆ ‚Äî‚ÄîString[] dataÊï∞ÁªÑ ÊûÑÂª∫ÈÄÇÈÖçÂô® ‚Äî‚ÄîArrayAdapter adapter Â∞ÜÈÄÇÈÖçÂô®Ê∑ªÂä†Âà∞ListView ‚Äî‚ÄîlistView.setAdapter(adapter); ËØ¶Ëß£ ListViewÈ¶ñÂÖàÊòØÁî®Êù•Â±ïÁé∞Â§ßÈáèÊï∞ÊçÆÁöÑÔºåÊï∞ÊçÆÊ∫êÁöÑÊù•Ê∫êÂèØ‰ª•ÊòØÁΩëÁªú‰∏ãËΩΩÔºåÁ®ãÂ∫èÂÜÖÁΩÆ„ÄÅÊï∞ÊçÆÂ∫ìÊèêÂèñÁ≠âÔºåÊú¨‰æã‰∏≠ÂàôÊòØÁÆÄÂçïÁöÑÂÆö‰πâ‰∫Ü‰∏Ä‰∏™StringÁ±ªÂûã dataÊï∞ÁªÑ„ÄÇÊï∞ÊçÆÊ∫êÁöÑÁ±ªÂûã/ÁßçÁ±ªÁπÅÂ§öÔºå‰ΩøÂæóListViewÊó†Ê≥ïÁõ¥Êé•ÈÄÇÈÖçÊï∞ÊçÆÊ∫êÔºåÁõ¥Êé•ÈÄÇÈÖçÊï∞ÊçÆÊ∫êÂ∞ÜÂØºËá¥‰ª£Á†ÅÁöÑËáÉËÇøÂíåÊïàÁéáÁöÑ‰Ωé‰∏ã„ÄÇListView‰∏éÊï∞ÊçÆÊ∫ê‰πãÈó¥ÈúÄË¶Å‰∏Ä‰∏™ËøáÂ∫¶ ÈÄÇÈÖçÂô®ÔºöAdapterÔºåAdapterÂú®ListViewÂíåÊï∞ÊçÆÊ∫ê‰πãÈó¥Ëµ∑Âà∞‰∫Ü‰∏Ä‰∏™Ê°•Ê¢ÅÁöÑ‰ΩúÁî®„ÄÇÊ≠£ÊòØAdapterÁöÑ‰ΩøÁî®ListViewÁöÑ‰ΩøÁî®ÂèòÂæóË¶ÅÊØîÂÖ∂ÂÆÉÊéß‰ª∂Â§çÊùÇÂæóÂ§ö„ÄÇ AdapterÈÄÇÈÖçÂô® AdapterÈÄÇÈÖçÂô®Âú®ListViewÂíåÊï∞ÊçÆÊ∫ê‰πãÈó¥Ëµ∑Âà∞‰∫Ü‰∏Ä‰∏™Ê°•Ê¢ÅÁöÑ‰ΩúÁî®AdapterÁöÑÊé•Âè£ÈÉΩÊòØÁªü‰∏ÄÁöÑÔºåÂõ†Ê≠§ListView‰∏çÁî®ÊãÖÂøÉ‰ªª‰ΩïÈÄÇÈÖçÊñπÈù¢ÁöÑÈóÆÈ¢ò„ÄÇ AdapterÂèàÊòØ‰∏Ä‰∏™Êé•Âè£(interface)ÔºåÂÆÉÂèØ‰ª•ÂéªÂÆûÁé∞ÂêÑÁßçÂêÑÊ†∑ÁöÑÂ≠êÁ±ªÔºåÊØè‰∏™Â≠êÁ±ªÈÉΩËÉΩÈÄöËøáËá™Â∑±ÁöÑÈÄªËæëÊù•ÂéªÂÆåÊàêÁâπÂÆöÁöÑÂäüËÉΩÔºå‰ª•Âèä‰∏éÁâπÂÆöÊï∞ÊçÆÊ∫êÁöÑÈÄÇÈÖçÊìç‰ΩúÔºåÊØîÂ¶ÇËØ¥ArrayAdapterÂèØ‰ª•Áî®‰∫éÊï∞ÁªÑÂíåListÁ±ªÂûãÁöÑÊï∞ÊçÆÊ∫êÈÄÇÈÖçÔºåSimpleCursorAdapterÂèØ‰ª•Áî®‰∫éÊ∏∏Ê†áÁ±ªÂûãÁöÑÊï∞ÊçÆÊ∫êÈÄÇÈÖç ËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÊï∞ÊçÆÊ∫êÈÄÇÈÖçÁöÑÈöæÈ¢òÔºåÂπ∂‰∏îËøòÊã•ÊúâÁõ∏ÂΩì‰∏çÈîôÁöÑÊâ©Â±ïÊÄß ÁÆÄÊòìÁöÑÁ§∫Âõæ(Êù•Ëá™ ÈÉ≠ÈúñÁöÑÂçöÂÆ¢) Â∏∏Áî®Adapter ArrayAdapter‚Äî‚ÄîÁî®Êù•ÁªëÂÆö‰∏Ä‰∏™Êï∞ÁªÑÔºåÊîØÊåÅÊ≥õÂûãÊìç‰Ωú SimpleAdapter‚Äî‚ÄîÁî®Êù•ÁªëÂÆöÂú®xml‰∏≠ÂÆö‰πâÁöÑÊéß‰ª∂ÂØπÂ∫îÁöÑÊï∞ÊçÆ SimpleCursorAdapter‚Äî‚ÄîÁî®Êù•ÁªëÂÆöÊ∏∏Ê†áÂæóÂà∞ÁöÑÊï∞ÊçÆ BaseAdapter‚Äî‚ÄîÈÄöÁî®ÁöÑÂü∫Á°ÄÈÄÇÈÖçÂô® ÂÆû‰æã‰∏≠‰ΩøÁî®ÁöÑÊòØArrayAdapterÔºåArrayAdapterÂÖ∑ÊúâÂ§ö‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÈáçËΩΩÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºå ArrayAdapterÁöÑÊûÑÈÄ†ÂáΩÊï∞ ÂΩìÂâç‰∏ä‰∏ãÊñá ListViewÂ≠êÈ°πÁöÑidÔºåÊú¨‰æã‰∏≠‰ΩøÁî®ÁöÑÊòØandroid.R.layout.simple_list_item ËøôÊòØAndroidÂÜÖÁΩÆÁöÑ‰∏Ä‰∏™Â∏ÉÂ±ÄÊñá‰ª∂ ÈúÄË¶ÅÈÄÇÈÖçÁöÑÊï∞ÊçÆ‰πãÂêéÈÄÇÈÖçÂô®Â∞±ÊûÑÂª∫ÂÆåÊàêÔºåÊúÄÂêé‰º†ÈÄíËøõLIstView‰∏≠Âç≥ÂèØ Ëá™ÂÆö‰πâÈÄÇÈÖçÂô® ‰ªéÁ¨¨‰∏ÄË°å‰ª£Á†ÅÁ¨¨‰∫åÁâàÁöÑÊ∫êÁ†ÅLiseViewTestÁõÆÂΩï‰∏ãÊã∑Ë¥ùdrawblehdpi Âà∞‰Ω†ÁöÑÂ∑•Á®ã‰∏ã Êñ∞Âª∫FruitÁ±ª 123456789101112131415161718public class Fruit &#123; private String name; private int imageId; //ÊûÑÈÄ†ÂáΩÊï∞ Ê∞¥ÊûúÂêçÁß∞/Ê∞¥ÊûúÂØπÂ∫îÂõæÁâáËµÑÊ∫êID public Fruit(String name, int imageId) &#123; this.name = name; this.imageId = imageId; &#125; public String getName() &#123; return name; &#125; public int getImageId() &#123; return imageId; &#125;&#125; Âú®layoutÁõÆÂΩï‰∏ãÊñ∞Âª∫fruititem.xml 123456789101112131415161718&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;ImageView android:id="@+id/fruit_image" android:layout_width="wrap_content" android:layout_height="wrap_content" /&gt; &lt;TextView android:id="@+id/fruit_name" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_gravity="center_vertical" android:layout_marginLeft="10dp" /&gt;&lt;/LinearLayout&gt; ‰∏Ä‰∏™ImageViewÂíåTextView ÔºåÊ∞¥Âπ≥Â±Ö‰∏≠ÊòæÁ§∫ Ëá™ÂÆö‰πâÈÄÇÈÖçÂô®ÁªßÊâøËá™ArrayAdapter Ê≥õÂûãÊåáÂÆö‰∏∫fruitÁ±ª 12345678910111213141516171819202122 //ÁªßÊâøËá™ArrayAdapter public class FruitAdapter extends ArrayAdapter&lt;Fruit&gt; &#123; private int resourceId;//ÊûÑÈÄ†ÂáΩÊï∞ /‰∏ä‰∏ãÊñá ListViewÂ≠êÈ°πÂ∏ÉÂ±Äid Êï∞ÊçÆ public FruitAdapter(Context context, int textViewResourceId, List&lt;Fruit&gt; objects) &#123; super(context, textViewResourceId, objects); resourceId = textViewResourceId; &#125; @Override //ÂΩìÂâçÂ≠êÂÖÉÁ¥†ÁöÑÁöÑ‰ΩçÁΩÆÔºå public View getView(int position, View convertView, ViewGroup parent)&#123; Fruit fruit = getItem(position); // Ëé∑ÂèñÂΩìÂâçÈ°πÁöÑFruitÂÆû‰æã View view = LayoutInflater.from(getContext()).inflate(resourceId,parent,false); ImageView fruitImage = (ImageView)view.findViewById(R.id.fruit_image); TextView fruitName = (TextView)view.findViewById(R.id.fruit_name); fruitImage.setImageResource(fruit.getImageId()); fruitName.setText(fruit.getName()); return view; &#125; &#125; getView()ÊñπÊ≥ïÊé•ÂèóÁöÑ‰∏â‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞position‰ª£Ë°®ÂΩìÂâçÂ≠êÂÖÉÁ¥†ÁöÑÁöÑ‰ΩçÁΩÆÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÖ∑‰ΩìÁöÑ‰ΩçÁΩÆÊù•Ëé∑Âèñ‰∏éÂÖ∂Áõ∏ÂÖ≥ÁöÑÊï∞ÊçÆ„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞convertView LayoutInflater.inflate()ÊñπÊ≥ïÊù•ÂéªÂä†ËΩΩÂ∏ÉÂ±Ä„ÄÇÊé•Êî∂3‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫falseË°®Á§∫Âè™Âú®Áà∂Â∏ÉÂ±ÄÂ£∞ÊòéÁöÑlayoutÂ±ûÊÄßÊúâÊïàÔºå‰ΩÜ‰∏ç‰ºö‰∏∫Ëøô‰∏™viewÊ∑ªÂä†Áà∂Â∏ÉÂ±ÄÔºåÊúÄÂêéËÆæÂÆö‰∏∫Êé•‰∏ãÊù•‰ºöÂØπËøô‰∏™viewËøõË°å‰∏Ä‰∫õÂ±ûÊÄßÂíåÂÄºÁöÑËÆæÂÆöÔºåÊúÄÂêéÂ∞ÜviewËøîÂõû„ÄÇ ‰øÆÊîπMainActivityÁöÑ‰ª£Á†Å 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class MainActivity extends AppCompatActivity &#123; //Êñ∞Âª∫FruitÁ±ªÁöÑÊï∞ÁªÑ private List&lt;Fruit&gt; fruitList = new ArrayList&lt;Fruit&gt;(); @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main);// ÂàùÂßãÂåñÊ∞¥ÊûúÊï∞ÊçÆ initFruits(); //ËÆæÁΩÆFruitAdapterÈÄÇÈÖçÂô® FruitAdapter adapter = new FruitAdapter(MainActivity.this, R.layout.fruit_item, fruitList); //ÂæóÂà∞ListViewÁöÑÂºïÁî® ListView listView = (ListView) findViewById(R.id.list_view); listView.setAdapter(adapter); &#125; // ÂàùÂßãÂåñÊ∞¥ÊûúÊï∞ÊçÆ private void initFruits() &#123; //Â°´ÂÖÖ‰∏§ÈÅçÔºåÂç†Êª°Â±èÂπï for (int i = 0; i &lt; 2; i++) &#123; Fruit apple = new Fruit("Apple", R.drawable.apple_pic); fruitList.add(apple); Fruit banana = new Fruit("Banana", R.drawable.banana_pic); fruitList.add(banana); Fruit orange = new Fruit("Orange", R.drawable.orange_pic); fruitList.add(orange); Fruit watermelon = new Fruit("Watermelon", R.drawable.watermelon_pic); fruitList.add(watermelon); Fruit pear = new Fruit("Pear", R.drawable.pear_pic); fruitList.add(pear); Fruit grape = new Fruit("Grape", R.drawable.grape_pic); fruitList.add(grape); Fruit pineapple = new Fruit("Pineapple", R.drawable.pineapple_pic); fruitList.add(pineapple); Fruit strawberry = new Fruit("Strawberry", R.drawable.strawberry_pic); fruitList.add(strawberry); Fruit cherry = new Fruit("Cherry", R.drawable.cherry_pic); fruitList.add(cherry); Fruit mango = new Fruit("Mango", R.drawable.mango_pic); fruitList.add(mango); &#125; &#125;&#125; Âè™ÈúÄË¶Å‰øÆÊîπfruititem.xmlÔºåÂç≥ÂèØÂÆöÂà∂ÁïåÈù¢ ÊèêÂçáListViewÁöÑÊïàÁéáconvertViewÂèÇÊï∞ ÈíàÂØπ Fruit fruit = getItem(position); // Ëé∑ÂèñÂΩìÂâçÈ°πÁöÑFruitÂÆû‰æãÊØèÊ¨°ÊªëÂä®ListViewÊó∂ÔºågetView()ÊñπÊ≥ïÈÉΩ‰ºöÂ∞ÜÂ∏ÉÂ±ÄÈÉΩ‰ºöÈáçÊñ∞Âä†ËΩΩ‰∏ÄËæπ convertViewÂèÇÊï∞ÔºöÂ∞Ü‰πãÂâçÂä†ËΩΩÂÆåÊàêÁöÑÂ∏ÉÂ±ÄËøõË°åÁºìÂ≠ò„ÄÇ ÂÄüÂä©convertViewÂèÇÊï∞ÔºåÂú®ÊØèÊ¨°Âä†ËΩΩView‰πãÂâçÊü•ËØ¢convertViewÊòØÂê¶‰∏∫Á©∫Ôºå‰∏∫Á©∫ÂàôÈáçÊñ∞Âä†ËΩΩÔºå‰∏ç‰∏∫Á©∫Âàô‰ªéconvertView‰∏≠Âèñ ‰ª£Á†ÅÈÉ®ÂàÜÂ¶Ç‰∏ã 12345678View view;Fruit fruit = getItem(position); // Ëé∑ÂèñÂΩìÂâçÈ°πÁöÑFruitÂÆû‰æã if (convertView == null) &#123; view = LayoutInflater.from(getContext()).inflate(resourceId,parent,false); &#125;else &#123; view = convertView; &#125; ListView‰∏ç‰ºöÂÜçÈáçÂ§çÂä†ËΩΩÂ∏ÉÂ±Ä‰∫Ü ViewHolder ViewHolder‰∏çÊòØAndroidÁöÑÂºÄÂèëAPIÔºåËÄåÊòØ‰∏ÄÁßçËÆæËÆ°ÊñπÊ≥ï ÈíàÂØπImageView fruitImage = (ImageView)view.findViewById(R.id.fruit_image); TextView fruitName = (TextView)view.findViewById(R.id.fruit_name);ÊØèÊ¨°Â∏ÉÂ±ÄÂÆû‰æãÂåñÂêéÔºåfindViewByIdÈÉΩ‰ºöÈáçÊñ∞ÊâßË°åËé∑ÂèñÊéß‰ª∂ÂÆû‰æã Êñ∞Â¢ûÂÜÖÈÉ®Á±ª ViewHolderÔºåÂà©Áî®TagÈôÑÂä†Âà∞ÂØπÂ∫îView‰∏≠ÔºåÂç≥ÊØèÊ¨°Âä†ËΩΩÂ∏ÉÂ±ÄÊó∂ÔºåÂØπÂ∫îÁöÑ Ëé∑ÂèñÊéß‰ª∂ÂÆû‰æãÁöÑÊìç‰Ωú‰πü‰∏ÄÂπ∂ÊâßË°åÔºåÂπ∂ÂÇ®Â≠òÂú®View‰∏≠„ÄÇËøôÊ†∑ Ëé∑ÂèñÊéß‰ª∂ÂÆû‰æãÁöÑÊìç‰ΩúÁõ¥Êé•ÁºìÂ≠òÂú®View‰∏≠Ôºå‰∏ç‰ºöÂÜçÈáçÂ§çÊâßË°å ‰ª£Á†ÅÂ¶Ç‰∏ã 12345678910111213141516171819202122232425262728 @Override public View getView(int position, View convertView, ViewGroup parent) &#123; Fruit fruit = getItem(position); // Ëé∑ÂèñÂΩìÂâçÈ°πÁöÑFruitÂÆû‰æã View view; ViewHolder viewHolder; if (convertView == null) &#123; //Âä†ËΩΩÂ∏ÉÂ±Ä view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); viewHolder = new ViewHolder(); viewHolder.fruitImage = (ImageView) view.findViewById (R.id.fruit_image); viewHolder.fruitName = (TextView) view.findViewById (R.id.fruit_name); view.setTag(viewHolder); // Â∞ÜViewHolderÂ≠òÂÇ®Âú®View‰∏≠ &#125; else &#123; view = convertView; viewHolder = (ViewHolder) view.getTag(); // ÈáçÊñ∞Ëé∑ÂèñViewHolder &#125; viewHolder.fruitImage.setImageResource(fruit.getImageId()); viewHolder.fruitName.setText(fruit.getName()); return view; &#125;//ViewHolder ÂÜÖÈÉ®Á±ª class ViewHolder &#123; ImageView fruitImage; TextView fruitName; &#125; ListView‰∏≠ÁöÑÁÇπÂáª‰∫ã‰ª∂ ÊØîËæÉÁÆÄÂçï,ÂÜçMainActivtyÁöÑonCreateÊñπÊ≥ï‰∏≠Ê∑ªÂä† ‰ª£Á†ÅÂ¶Ç‰∏ã 123456listView.setOnItemClickListener(new AdapterView.OnItemClickListener() &#123; @Override public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123; Fruit fruit = fruitList.get(position); Toast.makeText(MainActivity.this, fruit.getName(), Toast.LENGTH_SHORT).show(); setOnItemClickListener‰∏∫ListViewÊ≥®ÂÜå‰∫Ü‰∏Ä‰∏™ÁõëÂê¨Âô®ÔºåÁÇπÂáªÂèëÁîüÊó∂ÂõûÊéâ onItemClick()ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÈÄöËøápositionÂèÇÊï∞Âà§Êñ≠ÂÖ∑‰ΩìÂ≠êÈ°π„ÄÇËØ•Â§ÑÊòØÊâßË°åToast]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîUI(‰∏Ä)]]></title>
    <url>%2F2016%2F12%2F09%2FAndroid%E7%AC%94%E8%AE%B0-UI(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) Â∏∏Áî®Êéß‰ª∂TextView TextView ÊòæÁ§∫ÊñáÊú¨‰ø°ÊÅØ 12345678&lt;TextView android:id=&quot;@+id/text_view&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:gravity=&quot;center&quot; android:textSize=&quot;24sp&quot; android:textColor=&quot;#00ff00&quot; android:text=&quot;This is TextView&quot; /&gt; ÊïàÊûúÂ¶Ç‰∏ã Â∏∏Áî®Â±ûÊÄßËØ¶Ëß£ android:id ÊåáÂÆöÂΩìÂâçÊéß‰ª∂ÂîØ‰∏ÄÊ†áËØÜÁ¨¶ android:layout_width android:layout_heightÊåáÂÆöÊéß‰ª∂ÁöÑÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ÔºåÂèñÂÄºÊúâ match_parent ÂåπÈÖçÁà∂Â∏ÉÂ±Ä wrap_contentËá™ÈÄÇÂ∫îÂÜÖÂÆπ fill_parent‰∏ématch_parent Áõ∏Âêå android:gravity ÊñáÂ≠óÂØπÈΩêÊñπÂºèÔºåÂèØÂèñÂÄº top bottom left right center ÂèØ‰ª•‰ΩøÁî® | ÂêåÊó∂‰ΩøÁî®Â§ö‰∏™Â±ûÊÄß android:text ÊñáÊú¨ÂÜÖÂÆπ android:textSize android:textColor ÊñáÊú¨ÁöÑÂ§ßÂ∞è/È¢úËâ≤ Button Button ÊåâÈíÆ ‰ª£Á†Å 123456&lt;Button android:id="@+id/button" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Button" android:textAllCaps="false"/&gt; ÊïàÊûúÂ¶Ç‰∏ã Â∏∏Áî®Â±ûÊÄß android:textAllCaps Á≥ªÁªüËá™Âä®ËΩ¨Êç¢ÊñáÊú¨‰∏∫Â§ßÂÜô true/false ÊåâÈíÆÂìçÂ∫î(3Áßç) ÂåøÂêçÁ±ªÊ≥®ÂÜåÁõëÂê¨Âô® ‰ª£Á†ÅÂ¶Ç‰∏ã12345678//Êñ∞Âª∫ButtonÂØπË±° //Âº∫Âà∂Á±ªÂûãËΩ¨Êç¢Button button = (Button)findViewById(R.id.button);button.setOnClickListener(new View.OnClickListener()&#123; @Override public void onClick(View v)&#123; //Ê∑ªÂä†ÈÄªËæë &#125;&#125;); Êé•Âè£ÊñπÂºèÂÆûÁé∞ ‰ª£Á†Å123456789101112131415161718192021222324 //ÁªßÊâøÊé•Âè£ public class MainActivity extends AppCompatActivity implements View.OnClickListener&#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); //Ê≥®ÂÜåÁõëÂê¨Âô® Button button = (Button)findViewById(R.id.button); button.setOnClickListener(this); &#125; @Override //Ê†πÊçÆbutton idÂ§ÑÁêÜ‰∏çÂêåÈÄªËæë public void onClick(View view)&#123; switch (view.getId())&#123; case R.id.button: //Â§ÑÁêÜÈÄªËæë break; default: break; &#125; &#125;&#125; android:onClick ÂåπÈÖçÂú®xml‰∏≠ÊåáÂÆöandroid:onClick ÊåáÂÆöÁöÑÊñπÊ≥ïÂêçÁß∞ÂåπÈÖçÔºåÁ≠æÂêçÂøÖÈ°ªÂÆåÂÖ®Áõ∏ÂêåÊñπÊ≥ïË¶ÅÊ±ÇÔºö ÊòØÂÖ¨ÂÖ±ÊñπÊ≥ï public ÂÖ∑ÊúâÁ©∫ËøîÂõûÂÄº void ‰ª• View ‰Ωú‰∏∫ÂîØ‰∏ÄÂèÇÊï∞ÔºàËøôÂ∞ÜÊòØ‰πãÂâçÁÇπÂáªÁöÑ ViewÔºâ ‰ª£Á†ÅÂ¶Ç‰∏ã 1android:onClick="Button_onClick" 123public void Button_onClick(View view)&#123; //Â§ÑÁêÜÈÄªËæë&#125; EditText EditText ‰ª£Á†ÅÂ¶Ç‰∏ã 123456&lt;EditText android:id="@+id/edit_text" android:layout_width="match_parent" android:layout_height="wrap_content" android:hint="ËæìÂÖ•ÊñáÂ≠ó" android:maxLines="2"/&gt; ÊïàÊûú Â∏∏Áî®Â±ûÊÄß android:hint ÊåáÂÆö‰∏Ä‰∫õÊèêÁ§∫ÊÄßÊñáÂ≠óÔºåÂÜçÁî®Êà∑Êú™ËæìÂÖ•Êó∂ÊèêÁ§∫„ÄÇ android:maxLines ËæìÂÖ•ÂÜÖÂÆπÊúÄÂ§ßÂç†Áî®Ë°åÊï∞ ÊèêÂèñËæìÂÖ•ÊñáÊú¨ ÈÄöËøáfindViewByIdÊâæÂà∞EditText ÂÆû‰æãÔºåÂú®Â§ÑÁêÜÈÄªËæë‰∏≠Ë∞ÉÁî®EditText.getTextÊñπÊ≥ïÂæóÂà∞ËæìÂÖ•ÂÜÖÂÆπÔºåÂÜçÁî±toStringËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ ‰ª£Á†ÅÂ¶Ç‰∏ã12345678910//Êñ∞Âª∫EditTExtÂØπË±°private EditText editText;//ÁªëÂÆöEditTextÂÆû‰æãeditText = (EditText)findViewById(R.id.edit_text);//ÊèêÂèñÊñáÊú¨String inputText = editText.getText().toString();//ToastÊòæÁ§∫Toast.makeText(MainActivity.this,inputText,Toast.LENGTH_SHORT).show(); ImageView Â∞ÜÂõæÁâáÊîæÂÖ•drawable-xhdpiÊñá‰ª∂Â§π ImageView ‰ª£Á†Å 12345&lt;ImageView android:id="@+id/image_view" android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@drawable/img_1"/&gt; ÊïàÊûúÂ¶Ç‰∏ã Â∏∏Áî®Â±ûÊÄß android:src ÂºïÁî®ËµÑÊ∫ê‰ΩçÁΩÆ Êõ¥ÊîπImageViewÂõæÁâá Ë∞ÉÁî® imageView.setImageResource()ÊñπÊ≥ï ‰ª£Á†ÅÂ¶Ç‰∏ã12345private ImageView imageView;imageView = (ImageView)findViewById(R.id.image_view);imageView.setImageResource(R.drawable.img_2); ProgressBar ProgressBar ‰ª£Á†ÅÂ¶Ç‰∏ã 123456&lt;ProgressBar android:id="@+id/progress_bar" android:layout_width="match_parent" android:layout_height="wrap_content" style="?android:attr/progressBarStyleHorizontal" android:max="100"/&gt; Â∏∏Áî®Â±ûÊÄß androidÔºövisibility ÊòØÂê¶ÂèØËßÅ ÂèñÂÄº visible invisible gone style=‚Äù?android:attr/progressBarStyleHorizontal‚Äùandroid:max=‚Äù100‚ÄùËÆæÂÆöÊòæÁ§∫ÊñπÂºè‰∏∫Ê®™ÂêëËøõÂ∫¶Êù°ÔºåËøõÂ∫¶Êù°ÊúÄÂ§ßÂÄº100 ËøõÂ∫¶Êù°ÊúâÂÖ≥ËÆæÁΩÆ ÊòæÁ§∫/ÈöêËóèËøõÂ∫¶Êù°progressBar.setVisibility()ÊñπÊ≥ï 12345678910private ProgressBar progressBar;progressBar = (ProgressBar)findViewById(R.id.progress_bar);//ËÆæÁΩÆProgressBarif(progressBar.getVisibility() == View.GONE)&#123; progressBar.setVisibility(View.VISIBLE);&#125; else &#123; progressBar.setVisibility(View.GONE);&#125; ËÆæÁΩÆËøõÂ∫¶Êù°ËøõÂ∫¶ 123int progress = progressBar.getProgress();progress +=10;progressBar.setProgress(progress); AlertDialog AlertDialog ‰ª£Á†ÅÂ¶Ç‰∏ã 123456789101112131415161718AlertDialog.Builder dialog = new AlertDialog.Builder(MainActivity.this);dialog.setTitle("This is Dialog");dialog.setMessage("something important");dialog.setCancelable(false);//setPositiveButtonËÆæÂÆöOKÁÇπÂáª‰∫ã‰ª∂dialog.setPositiveButton("OK",new DialogInterface.OnClickListener()&#123;@Override public void onClick(DialogInterface dialog,int which)&#123; &#125;&#125;);//setNegativeButtonËÆæÂÆöCanncelÁÇπÂáª‰∫ã‰ª∂dialog.setNegativeButton("Canncel",new DialogInterface.OnClickListener()&#123;@Override public void onClick(DialogInterface dialog,int which)&#123; &#125;&#125;);//ÊòæÁ§∫ AlertDialogdialog.show(); ProgressDialog ProgressDialog‰∏éAlertDialogÁ±ª‰ººÔºå‰ΩÜÊòØ‰ºöÈ¢ùÂ§ñÊòæÁ§∫‰∏Ä‰∏™ËøõÂ∫¶Êù° ‰ª£Á†ÅÂ¶Ç‰∏ã 12345678910//Êñ∞Âª∫ProgressDialogÂØπË±°ProgressDialog progressDialog = new ProgressDialog(MainActivity.this);//ËÆæÁΩÆÊ†áÈ¢òprogressDialog.setTitle("This is ProgressDialog");//ËÆæÁΩÆÂÜÖÂÆπprogressDialog.setMessage("Loading...");//ÊòØÂê¶ÂèØ‰ª•ËøîÂõûÈîÆÂèñÊ∂àprogressDialog.setCancelable(false);//ÊòæÁ§∫progressDialog.show(); ÊïàÊûúÂ¶ÇÂõæ PSÔºöprogressDialog.setCancelable();Â±ûÊÄßËÆæÁΩÆ‰∏∫falseÊó∂Ë°®Á§∫ProgressDialogÊó†Ê≥ïÈÄöËøáBackÈîÆÂèñÊ∂à„ÄÇÂè™ËÉΩÈÄöËøáprogressDialog.dismiss()ÊñπÊ≥ïÂèñÊ∂à ÂõõÁßçÂü∫Êú¨Â∏ÉÂ±ÄLinearLayout Á∫øÊÄßÂ∏ÉÂ±Ä Á∫øÊÄßÊñπÂêë‰∏ä‰æùÊ¨°ÊéíÂàó Âü∫Á°ÄÊïàÊûúÂ¶Ç‰∏ã1234567891011121314151617181920212223242526&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:id="@+id/activity_main" android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="ljy.com.uilayouttest.MainActivity"&gt; &lt;Button android:id="@+id/button_1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Button_1"/&gt; &lt;Button android:id="@+id/button_2" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Button_2"/&gt; &lt;Button android:id="@+id/button_3" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Button_3"/&gt;&lt;/LinearLayout&gt; Âü∫Á°ÄÂ±ûÊÄß androidÔºöorientation LinearLayout ÁöÑÊéíÂàóÊñπÂêëÔºåÂèñÂÄºÊúâ‰∏§Áßç horizontalÊ®™ÂêëÂíåverticalÁ´ñÂêëÔºå‰∏çÊåáÂÆö androidÔºöorientationÊó∂ÔºåÈªòËÆ§ horizontal android:layoutgravity ÊåáÂÆöÊéß‰ª∂Âú®Â∏ÉÂ±Ä‰∏≠ÁöÑÂØπÈΩêÊñπÂºè„ÄÇËØ•Â±ûÊÄß‰∏é LinearLayout ÁöÑÊéíÂàóÊñπÂêëÊúâÂæàÂ§ßÂÖ≥Á≥ª„ÄÇ android:layoutweight ÂÖÅËÆ∏‰ΩøÁî®ÊØî‰æãÊñπÂºèÊåáÂÆöÊéß‰ª∂Â§ßÂ∞è,ËÆ°ÁÆóÊéß‰ª∂Â§ßÂ∞èÊó∂ÔºåÁ≥ªÁªüÈùûÂ∞ÜÊâÄÊúâÊéß‰ª∂ÁöÑandroid:layoutweight ÂÄºÁõ∏Âä†ÔºåÂΩì‰ΩúÂü∫Â∫ïÔºåËÆ°ÁÆóÊåáÂÆöÁöÑÂ§ßÂ∞èÊØî‰æã EditTextÂíåButtonÂ∏∏ËßÅÁî®Ê≥ï 12345678910111213 &lt;EditText android:id="@+id/button_1" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:hint="Button_1"/&gt;&lt;Button android:id="@+id/button_2" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:text="Button_2"/&gt; ÊåáÂÆöandroid:layoutwidth ‰∏∫0dpÔºåandroid:layoutweight=‚Äù1‚ÄùÂùá‰∏∫1 Âπ≥ÂàÜÂ§ßÂ∞è Âè¶‰∏ÄÁßçÁî®Ê≥ï 123456789101112 &lt;EditText android:id="@+id/button_1" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:hint="Button_1"/&gt;&lt;Button android:id="@+id/button_2" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Button_2"/&gt; Â∞ÜButtonÁöÑandroid:layout_widthËÆæÂÆö‰∏∫wrap_contentÔºåEditText ÁöÑandroid:layoutweight=‚Äù1‚ÄùÔºåEditText‰ºöÂç†Êª°Êï¥‰∏™Â±èÂπïÂâ©‰ΩôÈÉ®ÂàÜÔºåÂú®ÈÄÇÈÖçÂ±èÂπïÊó∂ËæÉÂ∏∏Áî® RelativeLayoutÁõ∏ÂØπÂ∏ÉÂ±Ä Â±ûÊÄßËæÉÂ§öÔºå‰ª•‰ª£Á†ÅÂΩ¢ÂºèËØ¥ÊòéÁõ∏ÂØπÁà∂Â∏ÉÂ±Ä‰ΩçÁΩÆ ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:id="@+id/activity_main" android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="ljy.com.uilayouttest.MainActivity"&gt; &lt;Button android:id="@+id/button_1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignParentLeft="true" android:layout_alignParentTop="true" android:text="Button 1"/&gt; &lt;Button android:id="@+id/button_2" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignParentRight="true" android:layout_alignParentTop="true" android:text="Button 2"/&gt; &lt;Button android:id="@+id/button_3" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_centerInParent="true" android:text="Button 3"/&gt; &lt;Button android:id="@+id/button_4" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignParentBottom="true" android:layout_alignParentLeft="true" android:text="Button 4"/&gt; &lt;Button android:id="@+id/button_5" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignParentBottom="true" android:layout_alignParentRight="true" android:text="Button 5"/&gt;&lt;/RelativeLayout&gt; android:layout_alignParentLeft=‚Äùtrue‚Äùandroid:layout_alignParentTop=‚Äùtrue‚Äùandroid:layout_centerInParent=‚Äùtrue‚Äùandroid:layout_alignParentBottom=‚Äùtrue‚Äùandroid:layoutalignParentRight=‚Äùtrue‚Äù ÁÆÄËÄåË®Ä‰πãËøô‰∫õÂ±ûÊÄßÊåáÂÆö‰∫ÜÊéß‰ª∂Áõ∏ÂØπÁà∂Â∏ÉÂ±ÄÁöÑ‰ΩçÁΩÆ Áõ∏ÂØπÊéß‰ª∂‰ΩçÁΩÆ ‰ª£Á†ÅÂ¶Ç‰∏ã 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:id="@+id/activity_main" android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="ljy.com.uilayouttest.MainActivity"&gt; &lt;Button android:id="@+id/button_3" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_centerInParent="true" android:text="Button 3"/&gt; &lt;Button android:id="@+id/button_1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_above="@id/button_3" android:layout_toLeftOf="@id/button_3" android:text="Button 1"/&gt; &lt;Button android:id="@+id/button_2" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_above="@id/button_3" android:layout_toRightOf="@id/button_3" android:text="Button 2"/&gt; &lt;Button android:id="@+id/button_4" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_below="@id/button_3" android:layout_toLeftOf="@id/button_3" android:text="Button 4"/&gt; &lt;Button android:id="@+id/button_5" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_below="@id/button_3" android:layout_toRightOf="@id/button_3" android:text="Button 5"/&gt;&lt;/RelativeLayout&gt; ËØ¥Êòé android:layout_above ÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™Êéß‰ª∂‰Ωç‰∫éÊåáÂÆöÊéß‰ª∂ÁöÑ‰∏äÊñπÔºåÈúÄË¶ÅÊåáÂÆöIDÂºïÁî® android:layout_below ÊåáÂÆö‰∏Ä‰∏™Êéß‰ª∂‰Ωç‰∫éÊåáÂÆöÊéß‰ª∂ÁöÑ‰∏ãÊñπÔºåidÂºïÁî® android:layout_toLeftOf ÊåáÂÆö‰∏Ä‰∏™Êéß‰ª∂‰Ωç‰∫éÊåáÂÆöÊéß‰ª∂ÁöÑÂ∑¶‰æßÔºåidÂºïÁî® android:layout_toRightOf ÊåáÂÆö‰∏Ä‰∏™Êéß‰ª∂‰Ωç‰∫éÊåáÂÆöÊéß‰ª∂ÁöÑÂè≥‰æßÔºåidÂºïÁî®„ÄÇ NOTEÔºöÂΩìÊéß‰ª∂ÂéªÂºïÁî®Âè¶‰∏Ä‰∏™Êéß‰ª∂ÁöÑIDÊó∂ÔºåÂºïÁî®Êéß‰ª∂‰∏ÄÂÆöË¶ÅÂú®ÂâçÊú¨‰æã‰∏≠ÊòØid/button3Âú®ÊúÄÂâçÈù¢ FrameLayoutÂ∏ßÂ∏ÉÂ±Ä ÊâÄÊúâÊéß‰ª∂ÈªòËÆ§Â∑¶‰∏äËßí ‰ª£Á†ÅÂ¶Ç‰∏ã‰∏§‰∏™Êéß‰ª∂ÈáçÂêà 1234567891011121314&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;TextView android:id="@+id/text_view" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="TextView"/&gt; &lt;ImageView android:id="@+id/image_view" android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@mipmap/ic_launcher"/&gt;&lt;/FrameLayout&gt; android:layoutgravity ÂêåÊ†∑ÂèØ‰ª•Â∫îÁî®‰∫éFrameLayout‰∏≠ÔºåÊåáÂÆöÂØπÈΩêÊñπÂºè PercentFrameLayoutÁôæÂàÜÊØîÂ∏ÉÂ±Ä PercentFrameLayoutÂπ∂ÈùûÂÜÖÁΩÆ‰∫éÁ≥ªÁªüSDK‰∏≠Ôºå‰ΩøÁî®ÂâçË¶ÅÂú®build.gradle‰∏≠Ê∑ªÂä†ÁôæÂàÜÊØîÂ∏ÉÂ±ÄÁöÑ‰æùËµñ„ÄÇ ‰øÆÊîπapp/build.gradleÊñá‰ª∂ÔºåÂú®dependenciesÈó≠ÂåÖ‰∏≠Â¢ûÂä†‰æùËµñ„ÄÇ 12345678910dependencies &#123; compile fileTree(dir: 'libs', include: ['*.jar']) androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', &#123; exclude group: 'com.android.support', module: 'support-annotations' &#125;) compile 'com.android.support:appcompat-v7:25.0.1' //‰∏ãÈù¢‰∏ÄË°å‰∏∫Â¢ûÂä†ÂÜÖÂÆπÔºåË¶Å‰∏é‰∏äÈù¢ÁöÑÁâàÊú¨Âè∑‰øùÊåÅ‰∏ÄËá¥ compile 'com.android.support:percent:25.0.1' testCompile 'junit:junit:4.12'&#125; ‰øÆÊîπÂÆåÊàêÂêéÔºåas‰ºöÂºÄÂßãÂêåÊ≠•ÔºåÂêåÊ≠•ÂÆåÊàêÂç≥ÂèØ„ÄÇ PercentFrameLayoutÁªßÊâø‰∫ÜFrameLayoutÁöÑÁâπÊÄßÔºåÊâÄÊúâÊéß‰ª∂ÈªòËÆ§Â∑¶‰∏äËßíÔºåÈúÄË¶ÅÈÄöËøáandroid:layoutgravity Êù•Ë∞ÉÊï¥‰ΩçÁΩÆ Ê∫êÁ†ÅÂ¶Ç‰∏ã 12345678910111213141516171819202122232425262728293031323334# PercentFrameLayout Âπ∂ÈùûÁ≥ªÁªüÂÜÖÁΩÆSDKÔºåÈúÄË¶ÅÂ£∞ÊòéÂÆåÊï¥ÂåÖË∑ØÂæÑ&lt;android.support.percent.PercentFrameLayout# ÈöèÂêéÂÆö‰πâappÁöÑÂëΩÂêçÁ©∫Èó¥ xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;Button android:id="@+id/button1" android:text="Button1" android:layout_gravity="left|top" app:layout_widthPercent="50%" app:layout_heightPercent="50%"/&gt; &lt;Button android:id="@+id/button2" android:text="Button2" android:layout_gravity="right|top" app:layout_widthPercent="50%" app:layout_heightPercent="50%"/&gt; &lt;Button android:id="@+id/button3" android:text="Button3" android:layout_gravity="left|bottom" app:layout_widthPercent="50%" app:layout_heightPercent="50%"/&gt; &lt;Button android:id="@+id/button4" android:text="Button4" android:layout_gravity="right|bottom" app:layout_widthPercent="50%" app:layout_heightPercent="50%"/&gt;&lt;/android.support.percent.PercentFrameLayout&gt; ÊïàÊûúÂ¶ÇÂõæ ‰∏é‰πãÁ±ª‰ººÁöÑËøòÊúâ PercentRelativeLayoutÔºåÁî®Ê≥ï‰∏çÂä†Á¥ØËµò Ëá™ÂÆö‰πâÊéß‰ª∂ÂºïÂÖ•Â∏ÉÂ±Ä Êñ∞Âª∫title.xml 12345678910111213141516171819202122232425262728293031323334353637&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="wrap_content" android:background="@drawable/title_bg"&gt; &lt;Button android:id="@+id/title_back" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_gravity="center" android:layout_margin="5dp" android:background="@drawable/back_bg" android:text="Back" android:textColor="#fff" /&gt; &lt;TextView android:id="@+id/title_text" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_gravity="center" android:layout_weight="1" android:gravity="center" android:text="Title Text" android:textColor="#fff" android:textSize="24sp" /&gt; &lt;Button android:id="@+id/title_edit" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_gravity="center" android:layout_margin="5dp" android:background="@drawable/edit_bg" android:text="Edit" android:textColor="#fff" /&gt;&lt;/LinearLayout&gt; Âú®activitymain.xml ‰∏≠‰ΩøÁî®title.xml &lt;include layout=&quot;@layout/title&quot;/&gt; ÈöêËóèÁ≥ªÁªüËá™Â∏¶Ê†áÈ¢òÊ†è,Âú®mainActivityÁöÑonCreat‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†Å„ÄÇ 123 ActionBar actionBar = getSupportActionBar();if (actionBar != null) actionBar.hide(); ÊïàÊûúÂ¶Ç‰∏ã Ëá™ÂÆö‰πâÊéß‰ª∂ ÂàõÂª∫TitleLayoutÁªßÊâøËá™LinearLayout Ôºå‰ª£Á†ÅÂ¶Ç‰∏ã123456789public class TitleLayout extends LinearLayout &#123;//ÊûÑÈÄ†ÂáΩÊï∞ public TitleLayout(Context context, AttributeSet attributeSet)&#123; super(context,attributeSet); //Ë∞ÉÁî®LayoutInflater.fromÊñπÊ≥ïÊûÑÂª∫LayoutInflaterÂØπË±°Ôºå //ÂÜçË∞ÉÁî®inflateÂä†ËΩΩÂ∏ÉÂ±ÄÊñá‰ª∂ LayoutInflater.from(context).inflate(R.layout.title,this); &#125;&#125; ÂÜçactivitymain.xml ‰∏≠ Ê∑ªÂä†Ëá™ÂÆö‰πâÊéß‰ª∂,Ê∑ªÂä†Ëá™ÂÆö‰πâÊéß‰ª∂Êó∂Ë¶ÅÊåáÊòéÊéß‰ª∂ÁöÑÂÆåÊï¥Á±ªÂêç 123&lt;ljy.com.uicustomviews.TitleLayout android:layout_width="match_parent" android:layout_height="wrap_content"/&gt; ÊïàÊûú‰∏éÂºïÂÖ•Â∏ÉÂ±ÄÊñá‰ª∂Áõ∏Âêå Ê≥®ÂÜåÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂ Âú®TitleLayoutÁöÑÊûÑÈÄ†ÂáΩÊï∞Ê∑ªÂä†ÊåâÈíÆÊ≥®ÂÜåÁÇπÂáª‰∫ã‰ª∂1234567891011121314151617Button titleBack = (Button)findViewById(R.id.title_back);Button titleEdit = (Button)findViewById(R.id.title_edit);titleBack.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; //Ê®°ÊãüËøîÂõûÈîÆ ((Activity)getContext()).finish(); &#125; &#125;); titleEdit.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; //ToastÈÄöÁü• Toast.makeText(getContext(),"clik",Toast.LENGTH_SHORT).show(); &#125; &#125;);]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ¨îËÆ∞‚ÄîActivity]]></title>
    <url>%2F2016%2F12%2F07%2FAndroid%E7%AC%94%E8%AE%B0-Activity%2F</url>
    <content type="text"><![CDATA[ËµÑÊñôÊù•Ê∫êÂ¶Ç‰∏ã Á¨¨‰∏ÄË°å‰ª£Á†Å(Á¨¨‰∫åÁâà) ActivityÂü∫Á°ÄActivityÂÆö‰πâ Activity ÊòØAndroidÂõõÂ§ßÁªÑ‰ª∂‰πã‰∏ÄÔºåÁî®Êà∑ÂèØ‰∏éÂÖ∂Êèê‰æõÁöÑÂ±èÂπïËøõË°å‰∫§‰∫íÔºå‰ª•ÊâßË°åÊìç‰Ωú„ÄÇ ÊØè‰∏™ Activity ÈÉΩ‰ºöËé∑Âæó‰∏Ä‰∏™Áî®‰∫éÁªòÂà∂ÂÖ∂Áî®Êà∑ÁïåÈù¢ÁöÑÁ™óÂè£„ÄÇÁ™óÂè£ÂèØ‰ª•ÂÖÖÊª°Â±èÂπïÔºå‰πüÂèØÊµÆÂä®„ÄÇÂ∫îÁî®ÈÄöÂ∏∏Áî±Â§ö‰∏™ÂΩºÊ≠§ËÅîÁ≥ªÁöÑ Activity ÁªÑÊàê„ÄÇÂ∫îÁî®‰∏≠ÁöÑÊüê‰∏™ Activity ‰∏∫‚Äú‰∏ª‚ÄùActivityÔºåÂç≥È¶ñÊ¨°ÂêØÂä®Â∫îÁî®Êó∂ÁöÑActivity„ÄÇ ÂàõÂª∫Activity Êñ∞Âª∫FirstAtivityÁªßÊâøËá™AppCompatActivity 12345public class FirstActivity extends AppCompatActivity&#123;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState);&#125; &#125; ÂàõÂª∫Âä†ËΩΩÂ∏ÉÂ±Ä ÂàáÊç¢Âà∞first-layout 1234567891011 &lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;Button android:id="@+id/button_1" android:text="button_1" android:layout_width="wrap_content" android:layout_height="wrap_content" /&gt;&lt;/LinearLayout&gt; Âú®FirestActivity‰∏≠Âä†ËΩΩlayout Âú®onCreate‰∏≠Âä†ÂÖ• 1setContentView(R.layout.first_layout); Âú®AndroidMainfestÊñá‰ª∂‰∏≠Ê≥®ÂÜå„ÄÇ 12345678&lt;activity android:name=".FirstActivity" android:label="This is FirstActivity"&gt; &lt;intent-filter&gt; &lt;action android:name="android.intent.action.MAIN"/&gt; &lt;category android:name="android.intent.category.LAUNCHER"/&gt; &lt;/intent-filter&gt;&lt;/activity&gt; Âú®Ê®°ÊãüÂô®‰∏≠ÂêØÂä®apk ‰ΩøÁî®Toast Toast googleÂÆòÊñπËØ¥Êòé Êé®ÈÄÅ‰∏Ä‰∏™Áü≠Â∞è‰ø°ÊÅØÊé®ÈÄÅÁªôÁî®Êà∑ Â¶ÇÂõæÔºàÊëòËá™android developerÔºâ ‰ΩøÁî®ÊñπÊ≥ï 1Toast.makeText(context, text, duration).show(); ‰∏æ‰æã 12Toast.makeText(FirstActivity.this, "you clicked button 1", Toast.LENGTH_SHORT).show();/* activity.this Ê∂àÊÅØÂÜÖÂÆπ ÊòæÁ§∫Êó∂Èó¥ËÆæÁΩÆ */ ‰ΩøÁî®Menu ÂàõÂª∫ËèúÂçï Âú®res‰∏ãÊñ∞ÁñÜmenuÊñá‰ª∂Â§πÔºåÂè≥ÂáªmenuÊñá‰ª∂Â§π‚Äînew‚ÄîMenu resource fileÔºåÂàõÂª∫mainÁöÑËèúÂçïÊñá‰ª∂„ÄÇ main.xml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†Å 123456789 &lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:id="@+id/add_item" android:title="Add"/&gt; &lt;item android:id="@+id/remove_item" android:title="Remove"/&gt;&lt;/menu&gt; ËøôÈáåÂàõÂª∫‰∫Ü‰∏§‰∏™ËèúÂçïÈ°π AddÂíåRemove Âú®FirestActivity‰∏≠ÈáçÂÜô onCreateOptionsMenu()ÊñπÊ≥ïÔºàÂø´Êç∑ÈîÆ Ctrl+OÔºâ 12345 @Overridepublic boolean onCreateOptionsMenu(Menu menu) &#123; getMenuInflater().inflate(R.menu.main, menu); return true;&#125; getMenuInflater()ÂèØ‰ª•ÂæóÂà∞MenuInflaterÂØπË±°ÔºåÂÜçË∞ÉÁî®.inflateÂ∞±ÂèØ‰ª•ÂàõÂª∫ËèúÂçï„ÄÇ.inflatÊé•Âèó‰ø©‰∏™ÂèÇÊï∞Ôºå‰∏ÄÊòØËµÑÊ∫êÊñá‰ª∂ÂêçÔºå‰∫åÊòØËèúÂçïÈ°πÊ∑ªÂä†Ëá≥ÈÇ£‰∏™ÂØπË±°‰∏≠„ÄÇonCreateOptionsMenuÊñπÊ≥ï‰∏≠ËøîÂõûtrueË°®Á§∫ÂàõÂª∫ËèúÂçïÂπ∂ÊòæÁ§∫„ÄÇ ÊïàÊûúÂ¶Ç‰∏ã„ÄÇ ÂàõÂª∫ËèúÂçïÁÇπÂáªÂìçÂ∫î‰∫ã‰ª∂ ÈáçÂÜôonOptionsItemSelectedÊñπÊ≥ï 12345678910111213@Override public boolean onOptionsItemSelected(MenuItem item) &#123; switch (item.getItemId()) &#123; case R.id.add_item: Toast.makeText(this, "Add", Toast.LENGTH_SHORT).show(); break; case R.id.remove_item: Toast.makeText(this, "Remove", Toast.LENGTH_SHORT).show(); break; default: &#125; return true; &#125; ÈÄöËøáitem.getItemId()Âà§Êñ≠ÁÇπÂáªÈÄâÈ°πÔºåÂºπÂá∫‰∏çÂêåÁöÑToast Âêë‰∏Ä‰∏™activity Âπ∂‰º†ÈÄíÂ≠óÁ¨¶‰∏≤ ÊûÑÂª∫‰∏Ä‰∏™Intent Intent intent = new Intent(this, DisplayMessageActivity.class); ÊûÑÈÄ†ÊñπÊ≥ïÊúâ‰∏§‰∏™ÂèÇÊï∞Ôºö Context ÊòØÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøôÈáå‰ΩøÁî®‰∫ÜthisÊòØÂõ†‰∏∫ActivityÊòØContextÁöÑÂ≠êÁ±ª„ÄÇ Class Á±ªÊòØÁ≥ªÁªüÂ∞ÜË¶ÅÂàÜÂèëÁöÑAPPÁªÑ‰ª∂ÔºåÂú®ËøôÈáåÔºåËøô‰∏™ActivityÂ∞Ü‰ºöË¢´ÂêØÂä®„ÄÇ 12345678910111213public void sendMessage(View view) &#123; // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑintentÂØπË±°ÔºåÁªëÂÆöDisplayMessageActivity Intent intent = new Intent(this, DisplayMessageActivity.class); //ÂàõÂª∫‰∏Ä‰∏™editTextÂØπË±°ÔºåÁªëÂÆöxml‰∏≠editText EditText editText = (EditText) findViewById(R.id.edit_message); //Ëé∑ÂèñeditText‰∏≠ËæìÂÖ•ÊñáÂ≠óÔºåËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤ String message = editText.getText().toString(); //‰∏Ä‰∏™IntentÂØπË±°ÂèØ‰ª•Êê∫Â∏¶Ë¢´Áß∞‰∏∫extrasÁöÑÈîÆÂÄºÂØπ„ÄÇ // putExtra()ÊñπÊ≥ïÂ∞ÜÈîÆÊîæÂú®Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏≠ÔºåÂ∞ÜÂÄºÊîæÂú®Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏≠„ÄÇ intent.putExtra(EXTRA_MESSAGE, message); //ÂêØÂä®intentÂØπÂ∫îActivity startActivity(intent); &#125; 1234567891011121314151617181920protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_display_message); //ÂàõÂª∫Êú¨Âú∞intent Intent intent = getIntent(); //ÂèñÂá∫StringÁ±ªÂûãÊï∞ÊçÆÔºåÂ¶ÇÊûúÊòØIntÁ±ªÂûãÂ∞±ÊòØgetIntExtraÔºåBooleanÁ±ªÂûãÂ∞±ÊòØgetBooleanExtra String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE); //ÊòæÁ§∫String //ÂàõÂª∫Êñ∞ÁöÑTextView TextView textView = new TextView(this); //ËÆæÁΩÆÊñáÊú¨Â§ßÂ∞è textView.setTextSize(40); //ËÆæÁΩÆÊòæÁ§∫ÂÜÖÂÆπ textView.setText(message); //ÁªëÂÆöxml ViewGroup layout = (ViewGroup) findViewById(R.id.activity_display_message); //ViewGroup‰∏≠Ê∑ªÂä†TextView layout.addView(textView);&#125; ËøîÂõûÊï∞ÊçÆÁªô‰∏ä‰∏Ä‰∏™Activity ÊûÑÂª∫Intent‰ΩøÁî®startActivityForResult()ÊñπÊ≥ï‰º†ÂÖ•ËØ∑Ê±ÇÁ†ÅÔºåÂêØÂä®‰∏ã‰∏Ä‰∏™ActivityÂú®‰∏ã‰∏Ä‰∏™Activity‰∏≠ÊûÑÂª∫IntentÔºåintent.putExtraÂ≠òÂÖ•ÈîÆÂÄº-keyÔºåË∞ÉÁî®setResult()ÊñπÊ≥ïÔºå‰º†ÂÖ•finish()ÁªìÊùüÊéâActivityÈáçÂÜôÁ¨¨‰∏Ä‰∏™Activity‰∏≠ÁöÑonActivityResult()ÊñπÊ≥ïÔºåË∞ÉÁî®.getStringExtraÂèñÂá∫keyÂØπÂ∫îÈîÆÂÄº„ÄÇ startActivityForResult(Intent, int Bundle) Intent‰∏éÂçïÁ∫ØÂêØÂä®ActivityÁöÑIntentÁõ∏ÂêåÔºåÁ¨¨‰∫å‰∏™ÊòØËØ∑Ê±ÇÁ†ÅÔºå‰∏ã‰∏ÄÁ∫ß ÂõûË∞ÉÊèê‰æõÁõ∏ÂêåÁöÑËØ∑Ê±ÇÁ†ÅÔºå‰ª•‰æøÊÇ®Â∫îÁî®ÂèØ‰ª•Ê≠£Á°ÆËØÜÂà´ÁªìÊûú„ÄÇ 12Intent intent = new Intent(FirestActivity.this,ScendActivity.class);startActivityForResult(intent,1); setResult()ÊñπÊ≥ïÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Âêë‰∏äÁ∫ßÊñπÊ≥ïÂ§ÑÁêÜÁªìÊûúÔºå‰∏ÄËà¨‰ΩøÁî®RESULT_OKÊàñRESULT_CANCELEDÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ ÂØπÂ∫îIntent 1234567//Êñ∞Âª∫ÊòæÁ§∫IntentIntent intent = new Intent();//Â≠òÂÖ•key-ÈîÆÂÄºintent.putExtra("data_return","Hello Firest");setResult(RESULT_OK,intent);//ÁªìÊùüActivityfinish(); onActivityResult()‰∏â‰∏™ÂèÇÊï∞.Á¨¨‰∏Ä‰∏™startActivityForResult() ‰º†ÈÄíÁöÑËØ∑Ê±Ç‰ª£Á†Å„ÄÇÁ¨¨‰∫å‰∏™ Activity ÊåáÂÆöÁöÑÁªìÊûú‰ª£Á†Å„ÄÇÊàêÂäüÊòØ RESULT_OKÔºõÂ§±Ë¥•ÔºåÂàôÊòØ RESULT_CANCELED„ÄÇÁ¨¨‰∏â‰∏™ÊòØ‰º†ÈÄÅÁªìÊûúÊï∞ÊçÆÁöÑ Intent„ÄÇ 12345678910111213 @Overrideprotected void onActivityResult(int requestCode,int resultCode,Intent data)&#123; //ÈÄâÊã©‰∏çÂêåËØ∑Ê±ÇÁ†ÅÂØπÂ∫îÂ§ÑÁêÜÈÄªËæë switch(requestCode)&#123; case 1: //Â§ÑÁêÜÁªìÊûúÊó∂ÂÄôok if(resultCode == RESULT_OK)&#123; //ÂèñÂá∫Êï∞ÊçÆ String returnedData = data.getStringExtra("data_return"); Log.d("FirstActivity", returnedData); &#125; &#125;&#125; ActivityÁîüÂëΩÂë®Êúü Activity 3ÁßçÁä∂ÊÄÅ Resumed/ÁªßÁª≠Activity Â§Ñ‰∫éÂâçÂè∞Ôºå‰∏îÁî®Êà∑ÂèØ‰ª•‰∏éÂÖ∂‰∫§‰∫í Paused/ÊöÇÂÅú Activity Ë¢´Âú®ÂâçÂè∞‰∏≠Â§Ñ‰∫éÂè¶‰∏Ä‰∏™ Activity‚ÄîÈÉ®ÂàÜÈòªÊå°„ÄÇ ÊöÇÂÅúÁöÑ Activity ‰∏ç‰ºöÊé•Êî∂Áî®Êà∑ËæìÂÖ•Âπ∂‰∏îÊó†Ê≥ïÊâßË°å‰ªª‰Ωï‰ª£Á†Å„ÄÇ Stopped/ÂÅúÊ≠¢ActivityÂÆåÂÖ®ÈöêËóèÔºåÂØπÁî®Êà∑ÂÆåÂÖ®‰∏çÂèØËßÅ.ÂΩìÂÅúÊ≠¢Êó∂ÔºåactivityÁöÑÊâÄÊúâÁä∂ÊÄÅ‰ø°ÊÅØÊØîÂ¶ÇÊàêÂëòÂèòÈáèÈÉΩ‰ºöË¢´‰øùÁïôÔºå‰ΩÜÊòØ‰∏çËÉΩÂÜçÊâßË°å‰ªª‰Ωï‰ª£Á†Å ÂêØÂä®‰∏Ä‰∏™Activity onCreateÊñπÊ≥ï ‰∏ªActivityÔºö Áî®Êà∑ÁÇπÂáªappÂõæÊ†áÔºåÂêØÂä®‰∏ªActivity Âú®AndroidManifest.xml‰∏≠Â£∞Êòé1234&lt;intent-filter&gt;&lt;action android:name="android.intent.action.MAIN" /&gt;&lt;category android:name="android.intent.category.LAUNCHER" /&gt;&lt;/intent-filter&gt; ÈÄöËøáË∞ÉÁî®onCreateÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™ActivityÂÆû‰æãÔºåonCreateÊñπÊ≥ïÂú®ActivityÁöÑÊï¥‰∏™ÁîüÂëΩÂë®Êúü‰∏≠Âè™ÊâßË°å‰∏ÄÊ¨°„ÄÇ ‰πãÂêéÁ≥ªÁªü‰ºöÂæàÂø´ÁöÑË∞ÉÁî®onStartÂíåonResumeÊñπÊ≥ïÔºåActivityËøõÂÖ•Resumed/ÁªßÁª≠Ê®°Âºè„ÄÇÁõ¥Âà∞Ë¢´ÂÖ∂‰ªñactivityË¶ÜÁõñ/Â±èÂπïÂÖ≥Èó≠„ÄÇÈîÄÊØÅActivity onDestoryÊñπÊ≥ïÂ§ßÂ§öÊï∞ÁöÑAPP‰∏çÈúÄË¶ÅÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ïÔºåÂõ†‰∏∫Êú¨Âú∞Á±ªÂºïÁî®‰ºöÈöèÁùÄActivity‰∏ÄËµ∑ÊÄªÁªìÔºå‰∏çËøáActivityÁöÑÊ∏ÖÁêÜÂ∑•‰ΩúÂ∫îËØ•ÊîæÂú®onPause‰∏ãÊàñËÄÖonStop„ÄÇ Note:Âú®ÊâÄÊúâÁöÑÊÉÖÂÜµ‰∏ãÁ≥ªÁªüË∞ÉÁî®onDestoryÊñπÊ≥ï‰πãÂêéÂ∑≤ÁªèË∞ÉÁî®ËøáonPauseÊñπÊ≥ï‰∏éonStopÊñπÊ≥ïÔºå‰∏çËøáÊúâ‰∏Ä‰∏™‰æãÂ§ñÊÉÖÂÜµÔºö‰Ω†Âú®onCreateÊñπÊ≥ï‰∏≠Ë∞ÉÁî®‰∫ÜfinishÊñπÊ≥ï„ÄÇÂú®‰∏Ä‰∫õ‰æãÂ≠ê‰∏≠ÔºåÂΩì‰Ω†ÁöÑActivity‰∏¥Êó∂ÂÜ≥ÂÆöË¶ÅÂêØÂä®Âè¶‰∏Ä‰∏™ActivityÔºå‰Ω†ÂèØËÉΩË¶ÅÂú®onCreateÊñπÊ≥ïÂÜÖË∞ÉÁî®finishÊñπÊ≥ïÊù•ÈîÄÊØÅËøô‰∏™ActivityÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÁ≥ªÁªü‰ºöÁ´ãÂç≥Ë∞ÉÁî®onDestoryÊñπÊ≥ïÔºåËÄå‰∏ç‰ºöË∞ÉÁî®ÂÖ∂ÂÆÉ‰ªª‰ΩïÁîüÂëΩÂë®ÊúüÊñπÊ≥ï„ÄÇ ÊöÇÂÅúActivity onPause()ÊñπÊ≥ï ActivityË¢´ÂÖ∂‰ªñActivityË¶ÜÁõñ/Â§±ÂéªÁî®Êà∑ÁÑ¶ÁÇπÔºåÁ≥ªÁªüË∞ÉÁî®onPause()ÊñπÊ≥ïÔºåActivity ËøõÂÖ•ÊöÇÂÅúÁä∂ÊÄÅ„ÄÇ noteÔºöandroid7.0Âèä‰ª•‰∏äÁâàÊú¨Âä†ÂÖ•‰∫ÜÂ§öÁ™óÂè£Ê®°ÂºèÔºåÂΩìActivityÂ§±ÂéªÁî®Êà∑ÁÑ¶ÁÇπÊó∂ÔºåÂèØËÉΩÂ§Ñ‰∫éÂ§öÁ™óÂè£Ê®°Âºè„ÄÇ onPause() Â∏∏Áî®ÂõûË∞ÉÔºö Ê£ÄÊü• Activity ÊòØÂê¶ÂèØËßÅ„ÄÇ‰∏çÂèØËßÅÂàôÂÅúÊ≠¢ÂèØËÉΩÊ∂àËÄó CPU ÁöÑÊìç‰Ωú Êèê‰∫§Êú™‰øùÂ≠òÁöÑÊõ¥ÊîπÔºå‰ªÖ‰øùÂ≠òÁî®Êà∑Á¶ªÂºÄÊó∂Â∏åÊúõÊ∞∏‰πÖÊÄß‰øùÂ≠òÊ≠§Á±ªÊõ¥ÊîπÔºàÊØîÂ¶ÇÁîµÂ≠êÈÇÆ‰ª∂ËçâÁ®øÔºâ„ÄÇ ÈáäÊîæÁ≥ªÁªüËµÑÊ∫êÔºåGPS/CamerÁ≠â Á§∫‰æã (ÈáäÊîæCamer) 123456789public void onPause() &#123;super.onPause(); // Always call the superclass method first// Release the Camera because we don't need it when paused// and other activities might need to use it.if (mCamera != null) &#123; mCamera.release(); mCamera = null;&#125; Ê≥®ÊÑè‰∫ãÈ°πÔºö Âú®onPause()‰∏ÄËà¨‰∏çÊâßË°åÊ∞∏‰πÖÊÄßÂ≠òÂÇ®Áî®Êà∑Êõ¥ÊîπÔºå‰∏çÊâßË°å CPU ÂØÜÈõÜÂûãÂ∑•‰ΩúÔºåËøô‰∫õÂ∑•‰Ωú‰∏ÄËà¨ÊîæÂú®onStop() „ÄÇ ÁªßÁª≠ Activity onResume() ÊñπÊ≥ï ÊöÇÂÅúÁä∂ÊÄÅÂõûÂà∞ÁªßÁª≠Áä∂ÊÄÅÔºåActivityÁ¨¨‰∏ÄÊ¨°ÂêØÂä®Êó∂‰πü‰ºöË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï„ÄÇ onResume() ‰ª•ÂàùÂßãÂåñÂú® onPause() ÊúüÈó¥ÈáäÊîæÁöÑÁªÑ‰ª∂„ÄÇ Á§∫‰æã(ÈáçÊñ∞Ëé∑ÂèñCamera)1234567public void onResume() &#123; super.onResume(); // Always call the superclass method first // Get the Camera instance as the activity achieves full user focus if (mCamera == null) &#123; initializeCamera(); // Local method to handle camera init &#125; ÂÅúÊ≠¢ Activity noteÔºöÂ§ßÂ§öÊï∞Áõ∏ÂØπÁÆÄÂçïÁöÑ Activity ËÄåË®ÄÔºåÁ≥ªÁªüÂú® Activity ÂÅúÊ≠¢Êó∂‰ºöÂ∞ÜActivity ÂÆû‰æã‰øùÁïôÂú®Á≥ªÁªüÂÜÖÂ≠ò‰∏≠ÔºåÊó†ÈúÄÂÆûÁé∞ onStop() Âíå onRestart() ÊàñÁîöËá≥onStart() ÊñπÊ≥ï„ÄÇÂèØËÉΩÂè™ÈúÄ‰ΩøÁî® onPause() ÊöÇÂÅúÊ≠£Âú®ËøõË°åÁöÑÊìç‰ΩúÔºåÂπ∂‰ªéÁ≥ªÁªüËµÑÊ∫êÊñ≠ÂºÄËøûÊé•„ÄÇ onStop() ÊñπÊ≥ï Âú∫ÊôØÔºö Áî®Êà∑Âú®ÊúÄËøëÂ∫îÁî®ÂàáÊç¢Âà∞Âè¶‰∏Ä‰∏™Â∫îÁî® Â∫îÁî®‰∏≠ÊâßË°åÂºÄÂßãÊñ∞ Activity ÁöÑÊìç‰Ωú Activity‰ΩøÁî®Êó∂ÔºåÊé•ÊâìÁîµËØù Ë∞ÉÁî®Êó∂ÔºåActivity‰∏çÂÜçÂèØËßÅÔºåÈáäÊîæÂá†‰πéÊâÄÊúâÁî®Êà∑‰∏ç‰ΩøÁî®Êó∂‰∏çÈúÄË¶ÅÁöÑËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÁ≥ªÁªüÂÜÖÂ≠òÁ¥ßÂº†ÔºåÂàôÂèØËÉΩÈîÄÊØÅÂÜÖÂ≠ò‰∏≠ÁöÑAcitivityÂÆû‰æã„ÄÇ onStop() ÊñπÊ≥ïË∞ÉÁî®ÂêéÔºåActivity‰∏çÂÜçÂèØËßÅÔºåÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÔºåÁ≥ªÁªüÂèØËÉΩ‰ºö‰ªÖÁªàÊ≠¢Â∫îÁî®ËøõÁ®ãÔºåËÄå‰∏çË∞ÉÁî® onDestroy() ÔºåÂõ†Ê≠§ÈúÄË¶Å‰ΩøÁî® onStop() ÈáäÊîæÂá†‰πéÊâÄÊúâÁî®Êà∑‰∏ç‰ΩøÁî®Êó∂‰∏çÈúÄË¶ÅÁöÑËµÑÊ∫ê„ÄÇ Â∞ΩÁÆ° onPause() ÊñπÊ≥ïÂú® onStop()‰πãÂâçË∞ÉÁî®ÔºåÂú®onStop() ÊâßË°åÊõ¥Â§ß„ÄÅÂç†Áî®Êõ¥Â§ö CPU ÁöÑÂÖ≥Èó≠Êìç‰ΩúÔºåÊØîÂ¶ÇÂêëÊï∞ÊçÆÂ∫ìÂÜôÂÖ•‰ø°ÊÅØ Á§∫‰æãÔºàËçâÁ®øÁ¨îËÆ∞ÂÜÖÂÆπ‰øùÂ≠òÂú®Ê∞∏‰πÖÂ≠òÂÇ®Ôºâ12345678910111213141516 protected void onStop() &#123; super.onStop(); // Always call the superclass method first // Save the note's current draft, because the activity is stopping // and we want to be sure the current note progress isn't lost. ContentValues values = new ContentValues(); values.put(NotePad.Notes.COLUMN_NAME_NOTE, getCurrentNoteText()); values.put(NotePad.Notes.COLUMN_NAME_TITLE, getCurrentNoteTitle()); getContentResolver().update( mUri, // The URI for the note to update. values, // The map of column names and new values to apply to them. null, // No SELECT criteria are used. null // No WHERE columns are used. );&#125; ÂêØÂä®/ÈáçÂêØ Activity onStart() ÊñπÊ≥ï Activity ÂÅúÊ≠¢ËΩ¨Êç¢‰∏∫ÁªßÁª≠Áä∂ÊÄÅÊó∂ÔºåÁ≥ªÁªüÂõûË∞ÉonRestart() ÊñπÊ≥ï+ onStart() ÊñπÊ≥ï.onStop() ÊñπÊ≥ïÊ∏ÖÁêÜ‰∫ÜÊâÄÊúâ Activity ÁöÑËµÑÊ∫êÔºåÈáçÂêØ Activity ÈúÄË¶ÅÈáçÊñ∞ÂÆû‰æãÂåñÂÆÉ‰ª¨„ÄÇÂêåÊó∂ Activity ÂàùÊ¨°ÂàõÂª∫Êó∂ÈáçÊñ∞ÂÆû‰æãÂåñÂÆÉ‰ª¨„ÄÇ Âá∫‰∫éÊ≠§ÔºåÁªèÂ∏∏‰ΩøÁî® onStart() ÊñπÊ≥ï‰Ωú‰∏∫ onStop() ÊñπÊ≥ïÁöÑÂØπÂ∫î Á§∫‰æã1234567891011121314151617181920212223 @Overrideprotected void onStart() &#123; super.onStart(); // Always call the superclass method first // The activity is either being restarted or started for the first time // so this is where we should make sure that GPS is enabled LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE); boolean gpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER); if (!gpsEnabled) &#123; // Create a dialog here that requests the user to enable GPS, and use an intent // with the android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS action // to take the user to the Settings screen to enable GPS when they click "OK" &#125;&#125;@Overrideprotected void onRestart() &#123; super.onRestart(); // Always call the superclass method first // Activity being restarted from stopped state&#125; ‰øùÂ≠ò Activity Áä∂ÊÄÅ onSaveInstanceState()ÊñπÊ≥ï ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåActivity ÂÆû‰æãË¢´ÈîÄÊØÅÊó∂Á≥ªÁªü‰ºö‰ΩøÁî® Bundle ÂÆû‰æãÁä∂ÊÄÅ‰øùÂ≠ò Activity Â∏ÉÂ±Ä‰∏≠ÊúâÂÖ≥ÊØè‰∏™ View ÂØπË±°ÁöÑ‰ø°ÊÅØ„ÄÇÂú®Activity ÈáçÂª∫Êó∂ÔºåÂ∏ÉÂ±ÄÁä∂ÊÄÅ‰æøËá™Âä®ÊÅ¢Â§çÂÖàÂâçÁöÑÁä∂ÊÄÅ„ÄÇ ÈªòËÆ§ÂÆûÁé∞‰øùÂ≠òÊúâÂÖ≥ Activity ËßÜÂõæÂ±ÇÊ¨°ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÔºå‰æãÂ¶Ç EditText Â∞èÈÉ®‰ª∂‰∏≠ÁöÑÊñáÊú¨ÊàñListView ÁöÑÊªöÂä®‰ΩçÁΩÆ Ë¶ÅÊÅ¢Â§çÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåÈúÄË¶ÅÈáçÂÜô onSaveInstanceState()ÊñπÊ≥ïÔºåÂ∞ÜÈîÆÂÄºÂØπÊ∑ªÂä†Ëá≥ Bundle ÂØπË±° note:ÊóãËΩ¨Â±èÂπïÊó∂ÔºåActivity Â∞ÜË¢´ÈîÄÊØÅÂπ∂ÈáçÊñ∞ÂàõÂª∫„ÄÇÂéüÂõ†ÔºöÊñπÂêëÊõ¥ÊîπÊó∂ÂèØËÉΩÈúÄË¶ÅÊó∂Âä†ËΩΩÂ§áÁî®ËµÑÊ∫êÔºàÊØîÂ¶ÇÂ∏ÉÂ±ÄÔºâ Á§∫‰æã12345678910111213static final String STATE_SCORE = "playerScore";static final String STATE_LEVEL = "playerLevel";...@Overridepublic void onSaveInstanceState(Bundle savedInstanceState) &#123; // Save the user's current game state savedInstanceState.putInt(STATE_SCORE, mCurrentScore); savedInstanceState.putInt(STATE_LEVEL, mCurrentLevel); // Always call the superclass so it can save the view hierarchy state super.onSaveInstanceState(savedInstanceState); &#125; ÊÅ¢Â§ç Activity onCreate() Âíå onRestoreInstanceState() ÂõûË∞ÉÊñπÊ≥ïÂùáÊé•Êî∂ÂåÖÂê´ÂÆû‰æãÁä∂ÊÄÅ‰ø°ÊÅØÁöÑÁõ∏Âêå Bundle onCreate() ÊñπÊ≥ï Ë∞ÉÁî®onCreate() ÊñπÊ≥ïÈúÄË¶ÅÂå∫ÂàÜÊòØÂàõÂª∫ Activity ÁöÑÊñ∞ÂÆû‰æãËøòÊòØÊÅ¢Â§çÂÖàÂâçÁöÑÂÆû‰æãÔºåÂà§Êñ≠ Bundle ÊòØÂê¶‰∏∫ null Á§∫‰æã 1234567891011121314@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); // Always call the superclass first // Check whether we're recreating a previously destroyed instance if (savedInstanceState != null) &#123; // Restore value of members from saved state mCurrentScore = savedInstanceState.getInt(STATE_SCORE); mCurrentLevel = savedInstanceState.getInt(STATE_LEVEL); &#125; else &#123; // Probably initialize members with default values for a new instance &#125; ...&#125; onRestoreInstanceState()ÊñπÊ≥ï Âè™ÈúÄË¶ÅÊÅ¢Â§çÁöÑÂ∑≤‰øùÂ≠òÁöÑÁä∂ÊÄÅ Á§∫‰æã12345678 public void onRestoreInstanceState(Bundle savedInstanceState) &#123; // Always call the superclass so it can restore the view hierarchy super.onRestoreInstanceState(savedInstanceState); // Restore state members from saved instance mCurrentScore = savedInstanceState.getInt(STATE_SCORE); mCurrentLevel = savedInstanceState.getInt(STATE_LEVEL);&#125; ÈáçÂêØActivityÂÖ∂‰ªñÈÄâÊã© ÂÆòÊñπËØ¥Êòé ÈáçÂêØÂ∫îÁî®Âπ∂ÊÅ¢Â§çÂ§ßÈáèÊï∞ÊçÆ‰∏ç‰ªÖÊàêÊú¨È´òÊòÇÔºåËÄå‰∏î‰ºöÁïô‰∏ãÁ≥üÁ≥ïÁöÑ‰ΩøÁî®‰ΩìÈ™åÔºåÊúâ‰∏§‰∏™ÂÖ∂‰ªñÈÄâÊã©Âú®ÈÖçÁΩÆÂèòÊõ¥ÊúüÈó¥‰øùÁïôÂØπË±° Activity Âõ†ÈÖçÁΩÆÂèòÊõ¥ËÄåÈáçÂêØÔºåÂàôÂèØÈÄöËøá‰øùÁïô Fragment Êù•ÂáèËΩªÈáçÊñ∞ÂàùÂßãÂåñ Activity ÁöÑË¥üÊãÖ ÂΩì Android Á≥ªÁªüÂõ†ÈÖçÁΩÆÂèòÊõ¥ËÄåÂÖ≥Èó≠ Activity Êó∂Ôºå‰∏ç‰ºöÈîÄÊØÅÂ∑≤Ê†áËÆ∞‰∏∫Ë¶Å‰øùÁïôÁöÑ Activity ÁöÑÁâáÊÆµ„ÄÇ ÊÇ®ÂèØ‰ª•Â∞ÜÊ≠§Á±ªÁâáÊÆµÊ∑ªÂä†Âà∞ Activity ‰ª•‰øùÁïôÊúâÁä∂ÊÄÅÁöÑÂØπË±°„ÄÇ ActivityÊúÄ‰Ω≥ÂÆûË∑µÁü•ÊôìÂΩìÂâçËøêË°åÁöÑÊ¥ªÂä® Ëá™ÂÆö‰πâBaseActivityÁªßÊâøËá™AppCompatActivityÈáçÂÜôonCreateÊñπÊ≥ïÔºåÊâìÂç∞ÂΩìÂâçËøêË°åÁöÑActivityÂêçappÁ±ªÊâÄÊúâActivityÊîπ‰∏∫ÁªßÊâøBaseActivity ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567public class BaseActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); //ÊâìÂç∞ÂΩìÂâçÁ±ªÂêç Log.d("BaseActivity", getClass().getSimpleName())Ôºõ &#125; ÊïàÊûúÂ¶Ç‰∏ã ÈöèÊó∂ÈÄÄÂá∫Á®ãÂ∫è Êñ∞Âª∫ActivityCollectorÁ±ª‰Ωú‰∏∫Ê¥ªÂä®ÁÆ°ÁêÜÂô®ÔºåÊ∑ªÂä†/Âà†Èô§ActivityÁôªËÆ∞,Âú®BaseActivity‰∏≠Ê∑ªÂä†ÂØπÂ∫î‰ª£Á†Å„ÄÇ ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567891011121314151617181920 public class ActivityCollector &#123;//Êñ∞Âª∫ActivityÁöÑÂàóË°®ÂØπË±° public static List&lt;Activity&gt; activities = new ArrayList&lt;&gt;();//Ê∑ªÂä†ActivityËøõÂÖ•ÂàóË°® public static void addActivity(Activity activity) &#123; activities.add(activity); &#125;//Âú®ÂàóË°®‰∏≠ÁßªÈô§Activity public static void removeActivity(Activity activity) &#123; activities.remove(activity); &#125;//forÂæ™ÁéØÂàóË°® ÁªìÊùüÊâÄÊúâActivity public static void finishAll() &#123; for (Activity activity : activities) &#123; if (!activity.isFinishing()) &#123; activity.finish(); &#125; &#125; &#125; &#125; BaseActivityÂú®onCreate()ÊñπÊ≥ï‰∏≠Ê∑ªÂä† 12//ActivityÁÆ°ÁêÜÂô®‰∏≠Ê∑ªÂä†Êñ∞ÁöÑÊ¥ªÂä®ActivityCollector.addActivity(this); ÈáçÂÜôonDestroy()ÊñπÊ≥ï 123456@Overrideprotected void onDestroy()&#123; super.onDestroy(); //ActivityÁÆ°ÁêÜÂô®‰∏≠ÁßªÈô§Ê¥ªÂä® ActivityCollector.removeActivity(this);&#125; Âú®‰ªª‰ΩïÂú∞ÊñπË∞ÉÁî®finishAll()ÊñπÊ≥ïÂç≥ÂèØ„ÄÇ ÂêØÂä®Ê¥ªÂä®ÁöÑÊúÄËøëÂÜôÊ≥ï ÂêØÂä®‰∏ã‰∏Ä‰∏™ActivityÂπ∂‰º†ÈÄíÊï∞ÊçÆÊ®°ÂùóÂåñ Âú®SecondActivityÂÜÖÂ¢ûÂä†actionStart()ÊñπÊ≥ï 12345678910 //Ë∞ÉÁî®ÁöÑActivityÔºåÊï∞ÊçÆ1ÔºåÊï∞ÊçÆ2 public static void actionStart(Context context, String data1, String data2)&#123; //Êñ∞Âª∫IntentÔºåÁªëÂÆöSecondActivity Intent intent = new Intent(context,ScendActivity.class); //Â≠òÂÖ•data1Ôºådata2 intent.putExtra("param1",data1); intent.putExtra("param2",data2); //ÂêØÂä®Activity context.startActivity(intent);&#125; ÂêØÂä®SecondActivityÊñπÂºèScendActivity.actionStart(FirestActivity.this,&quot;data1&quot;,&quot;data2&quot;);]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàùÂÖ•Ê†ëËéìÊ¥æ2---ÂàùÂßãÂåñ+ËøúÁ®ãÊ°åÈù¢]]></title>
    <url>%2F2016%2F11%2F27%2F%E5%88%9D%E5%85%A5%E6%A0%91%E8%8E%93%E6%B4%BE2----%E5%B8%B8%E8%A7%84%E5%88%9D%E5%A7%8B%E5%8C%96%2B%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%2F</url>
    <content type="text"><![CDATA[ÂàùÂßãÂåñÂêØÁî®Ê†ëËéìÊ¥ærootÁî®Êà∑ ‰∏çÂÅöÁâ©ËÅîÁΩëÁªàÁ´ØÊó∂ÂêØÁî®rootÁî®Êà∑ÊØîËæÉÊñπ‰æø SSHËøûÊé•Ê†ëËéìÊ¥æ Âú®ÂëΩ‰ª§Ë°å‰∏ãÊâßË°å ÂêØÁî®rootÁî®Êà∑ 1sudo passwd root ÊâßË°åÂêéËæìÂÖ•‰∏§ÈÅç‰Ω†Ë¶ÅËÆæÂÆöÁöÑrootÂØÜÁ†Å Âú®ËæìÂÖ•1sudo passwd ‚Äìunlock root rootÁî®Êà∑Ëß£ÈîÅÂÆåÊàê ÊâßË°åÂÆåÊØïÂêé‰æùÊóßÊó†Ê≥ïÁôªÈôÜ ÊâßË°å 1sudo nano /etc/ssh/sshd_config ÊâæÂà∞PermitRootLogin without-password Êîπ‰∏∫PermitRootLogin yes Ctrl + X „ÄÅ Y „ÄÅ ÂõûËΩ¶ ‰øùÂ≠ò sudo reboot Êõ¥Êç¢ÂõΩÂÜÖÈïúÂÉèÂú∞ÂùÄ &gt; http://blog.lxx1.com/2040 Áî±‰∫é‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÔºåÊ†ëËéìÊ¥æÈìæÊé•ÂÆòÊñπÊõ¥Êñ∞Ê∫êÂÆûÂú®Â§™ËøáÁºìÊÖ¢ÔºåÂõΩÂÜÖÊúâ‰∏ÄÊâπ‰∏çÈîôÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂèØ‰ª•Ëß£ÂÜ≥Á≥ªÁªü/ËΩØ‰ª∂Êõ¥Êñ∞ÈóÆÈ¢ò„ÄÇ Êî∂ÈõÜÁöÑÊ†ëËéìÊ¥æÈïúÂÉè‰∏ÄËà¨‰ΩøÁî®ÊØîËæÉÈ¢ëÁπÅÁöÑÊúâ‰∏ãÈù¢Âá†‰∏™1.ÈòøÈáå‰∫ë È¶ñÊé®ÈïúÂÉèÂú∞ÂùÄÔºåÁßªÂä®/ËÅîÈÄö/Áîµ‰ø°ÁΩëÁªúÈÉΩÊúâ‰∏çÈîôÁöÑËÆøÈóÆÈÄüÂ∫¶„ÄÇ2.Â§ßËøû‰∏úËΩØ‰ø°ÊÅØÂ≠¶Èô¢ ÂåóÊñπÁî®Êà∑ÊØîËæÉÂèãÂ•Ω3.‰∏≠ÂõΩÁßëÂ≠¶ÊäÄÊúØÂ§ßÂ≠¶ ÊïôËÇ≤ÁΩëÊúâÂä†ÊàêÔºåÈùûÊïôËÇ≤ÁΩëÂ∞±ÊÖ¢Â§ö‰∫Ü ËøôÈáåÈÄâÊã© ÈòøÈáå‰∫ëÁöÑÈïúÂÉè Êõ¥Êñ∞ sources.list ÊâßË°å 1sudo nano /etc/apt/sources.list Âà†Èô§ÂÆòÊñπÂÜÖÂÆπÊàñËÄÖÁî®#Ê≥®ÈáäÊéâÔºåÊ∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπ 12deb http://mirrors.aliyun.com/raspbian/raspbian/ jessie main non-free contribdeb-src http://mirrors.aliyun.com/raspbian/raspbian/ jessie main non-free contrib Âà†Èô§raspi.listÂ§áÁî®Êõ¥Êñ∞Ê∫ê(ÂèØÈÄâ) ÈÄöÂ∏∏Êõ¥Êñ∞sources.listÂêé‰æùÊóßÁºìÊÖ¢ÔºåÂ§ßÂ§öÊòØraspi.listÁöÑÈîÖ rm /etc/apt/sources.list.d/raspi.list ËÆæÁΩÆ‰∏≠ÊñáÂ≠ó‰Ωì Á≥ªÁªü‰∏≠Áº∫Â∞ë‰∏≠ÊñáÂ≠óÂ∫ì È¶ñÂÖàÊõ¥Êñ∞Â≠óÂ∫ìÂíåËæìÂÖ•Ê≥ï ÊâßË°å 12sudo apt-get install ttf-wqy-zenheisudo apt-get install scim-pinyin Êé•‰∏ãÊù• ÈÉΩÁÇπ y ÊâßË°å 1sudo raspi-config ÈÄâÊã©change_locale Á©∫Ê†ºÈîÆÂú®ÂâçÈù¢ÊâìÂãæÊàñÂéªÊéâÂãæÔºàÊòüÂè∑=ÂãæÔºâ TabÈÄâÊã©OK ÂéªÊéâen_GB.UTF-8 UTF-8ÂãæÈÄâÔºö‚Äùen_US.UTF-8 UTF-8‚Äù„ÄÅ‚Äùzh_CN.UTF-8 UTF-8‚Äù„ÄÅ‚Äùzh_CN.GBK GBK‚Äù OKÔºå‰∏ã‰∏ÄÂ±èÂπï, ÈªòËÆ§ËØ≠Ë®ÄÈÄâzh_CN.UTF-8 ËøúÁ®ãÊ°åÈù¢ ÁªàÁ´ØÊâßË°å 1apt-get install xrdp windowsÁ´Ø CMD ÊâßË°å mstsc ËæìÂÖ•Ê†ëËéìÊ¥æipÂú∞ÂùÄ Áî®Êà∑Âêç ÂØÜÁ†Å]]></content>
      <categories>
        <category>Ê†ëËéìÊ¥æ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitHub-PagesÊõ¥Êñ∞ÂØºËá¥Next‰∏ªÈ¢ò-ÂçöÂÆ¢‰∏ªÈ°µÁ©∫ÁôΩÔºåËß£ÂÜ≥ÊñπÊ°à]]></title>
    <url>%2F2016%2F11%2F08%2FGitHub-Pages%E6%9B%B4%E6%96%B0%E5%AF%BC%E8%87%B4Next%E4%B8%BB%E9%A2%98-%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%A9%BA%E7%99%BD%EF%BC%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[ÂÄíËÖæ‰∫Ü‰ø©Â∞èÊó∂Ôºå‰ª•‰∏∫Ê¢ØÂ≠êÂùè‰∫ÜÔºåÁªìÊûú„ÄÇ„ÄÇ„ÄÇGitHub-PagesÊõ¥Êñ∞‰∫ÜÔºÅÔºÅÔºÅ ÂéüÂõ† GitHub-PagesÊõ¥Êñ∞Ôºå ËøáÊª§Êéâ‰∫Ü source/vendors ÁõÆÂΩïÁöÑËÆøÈóÆ„ÄÇ issuesÂÖ•Âè£ Ëß£ÂÜ≥1Êõ¥Êñ∞‰∏ªÈ¢ò ‰ΩúËÄÖÊõ¥Êñ∞‰∫ÜÂà∞ÊúÄÊñ∞ÁöÑmasterÂàÜÊîØÔºåËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºå SoÔºö 1git pull https://github.com/iissnan/hexo-theme-next themes/next Ëß£ÂÜ≥2Êõ¥Êñ∞Êú¨Âú∞ËÆæÁΩÆÔºàNextÊúÄÊñ∞ÁâàÔºâ Â∞Ü source/vendors ÁõÆÂΩï‰øÆÊîπÊàê source/lib ÔºàÊàñËÄÖÂÖ∂‰ªñÁöÑÂêçÁß∞ÔºåÂè™ÊòØ lib ÊàëÊµãËØï‰∫ÜÂèØ‰ª•‰ΩøÁî®ÔºâÔºõÂêåÊó∂Ôºå‰øÆÊîπ‰∏ã‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂_config.ymlÔºå Â∞Ü _internal: vendors ÊîπÊàê‰Ω†ÊâÄ‰øÆÊîπÁöÑÂêçÂ≠óÔºå‰æãÂ¶Ç _internal: lib„ÄÇ Ëß£ÂÜ≥3Êõ¥Êñ∞Êú¨Âú∞ËÆæÁΩÆÔºàNext5.0Âèä‰ª•‰∏ãÁâàÊú¨Ôºâ Â∞Ü source/vendors ÁõÆÂΩï‰øÆÊîπÊàê source/lib ÔºàÊàñËÄÖÂÖ∂‰ªñÁöÑÂêçÁß∞ÔºåÂè™ÊòØ lib ÊàëÊµãËØï‰∫ÜÂèØ‰ª•‰ΩøÁî®ÔºâÔºõÂêåÊó∂Ôºå‰øÆÊîπ‰∏ã‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂_config.ymlÔºå vendors: vendors ÊîπÊàê‰Ω†ÊâÄ‰øÆÊîπÁöÑÂêçÂ≠óÔºå‰æãÂ¶Ç _internal: lib„ÄÇ]]></content>
      <categories>
        <category>ÁÇπÊª¥</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Ëá™Âª∫DNSÊúçÂä°Âô®(dnsmasq)ÔºåÂØπÊäóDNSÊ±°Êüì]]></title>
    <url>%2F2016%2F10%2F09%2F%E8%87%AA%E5%BB%BADNS%E8%A7%A3%E5%86%B3%E8%BF%90%E8%90%A5%E5%95%86DNS%E6%B1%A1%E6%9F%93%2F</url>
    <content type="text"><![CDATA[ËÉåÊôØ Â≠¶Ê†°ÁΩëÁªúÂá∫Âè£Âä´ÊåÅ‰∏•ÈáçÔºå‰∏äÊ∑òÂÆùÂä†ËøîÂà©‚Äî‚Äî‚Äî-Á≠âÁ≠âÁ≠âÁ≠âÁ≠âÁ≠â ‰∏ÄÁõ¥Êõ¥Êñ∞hosts‰∏çÊñπ‰æøÔºåË¶Å‰∏ägoogleÔºåÂÖ®Âπ≥Âè∞‰∏çÂ•ΩÂºÑ È°πÁõÆÁªÑÈúÄË¶Å ÁõÆÁöÑ Êê≠Âª∫‰∏Ä‰∏™ÂèØËÆøÈóÆ‰∏™‰∫∫ÂÖ¨ÁΩëDNSÊúçÂä°Âô® ÊèêÈ´òDNSÂä†ËΩΩÈÄüÂ∫¶ ËßÑÈÅøËøêËê•ÂïÜÁöÑDNSÂä´ÊåÅ ‰∏çÂΩ±ÂìçÂ≠¶Ê†°ÂÜÖÁΩëËÆøÈóÆ ÁÆÄÂçïÁöÑËÉΩ‰∏ägoogle ÂáÜÂ§á ‰∏ÄÂè∞ÊúâÂÖ¨ÁΩëIPÁöÑvpsÔºåÂºÄÊîæ‰∫Ü53Á´ØÂè£ÔºàÁ´ØÂè£Êâ´ÊèèÊòæÁ§∫ÂºÄÊîæ‰∫Ü53Á´ØÂè£Ôºâ Ë£ÖÁöÑÊòØlinuxÁ≥ªÁªüÔºà‰ª• CentOS 6.4 ‰∏∫‰æãÔºâ WinSCPÔºàÊàñÂÖ∂‰ªñÊñá‰ª∂ÁÆ°ÁêÜÔºâ putty.exeÔºàÊàñËÄÖÂÖ∂‰ªñSSHÁôªÈôÜÂ∑•ÂÖ∑Ôºâ Ê≤°‰∫Ü„ÄÇ„ÄÇ„ÄÇ„ÄÇ DNSmasqÂéüÁêÜÂíåËØ¥Êòé DNSmasqÊòØ‰∏Ä‰∏™Â∞èÂ∑ß‰∏îÊñπ‰æøÂú∞Áî®‰∫éÈÖçÁΩÆDNSÂíåDHCPÁöÑÂ∑•ÂÖ∑ÔºåÈÄÇÁî®‰∫éÂ∞èÂûãÁΩëÁªú„ÄÇ‰Ωú‰∏∫ÂüüÂêçËß£ÊûêÊúçÂä°Âô®(DNS)ÔºådnsmasqÂèØ‰ª•ÈÄöËøáÁºìÂ≠ò DNS ËØ∑Ê±ÇÊù•ÊèêÈ´òÂØπËÆøÈóÆËøáÁöÑÁΩëÂùÄÁöÑËøûÊé•ÈÄüÂ∫¶„ÄÇ ÈÄöËøáËÆæÁΩÆDNSmasqÁöÑ‰∏äÊ∏∏DNSÂú∞ÂùÄ‰∏∫Êó†Ê±°ÊüìDNSÊù•Ëß£ÂÜ≥ËøêËê•ÂïÜÁöÑDNSÊ±°Êüì„ÄÇ DNSmasqÂèØ‰ª•ÂØπÂçïÁã¨ÁöÑÁΩëÂùÄËÆæÁΩÆDNSÊúçÂä°Âô®„ÄÇÂØπ‰∫éÂ≠¶Ê†°ÂÜÖÁΩëÂú∞ÂùÄËÆæÁΩÆ‰∏∫Â≠¶Ê†°ÊïôËÇ≤ÁΩëÁöÑDNSËß£Êûê„ÄÇÂØπ‰∫éÁ±ª‰ºº‰∫éyoutubeËøôÁßçÁî±‰∫éDNSÊ±°ÊüìÊ≤°Ê≥ïËÆøÈóÆÁöÑÂú∞ÂùÄÔºåÂèØ‰ª•ÂÖàÊî∂ÈõÜÊó†Ê±°ÊüìÁöÑDNSÂú∞ÂùÄÔºåÁÑ∂Âêé‰∫§‰∏éÊó†Ê±°ÊüìDNSËß£ÊûêÂæóÂà∞Ê≠£Á°ÆÂú∞ÂùÄ„ÄÇ DNSmasqÂÜçÂØπÁΩëÂùÄÊèê‰∫§‰∏äÊ∏∏DNSËß£ÊûêÂâçÔºåÂèØ‰ª•ÂÖàÈÄöËøáÊú¨Âú∞hostsÂåπÈÖç„ÄÇËÆæÁΩÆÂêàÈÄÇhostsÂèØ‰ª•ÂÆûÁé∞ÁßëÂ≠¶‰∏äÁΩë„ÄÇ ÂºÄÂßãÔºÅ Ê≠•È™§ÂÆâË£Ödnsmasq 1yum install dnsmasq -y ÈÖçÁΩÆDnsmasq DnsmasqÁöÑÈÖçÁΩÆÊñá‰ª∂ÊòØ /etc/dnsmasq.conf .ÈÄöËøáWinSCPÂä†ËΩΩ‰øÆÊîπ„ÄÇ dnsmasq.confËÆæÁΩÆÈ°πËØ¥Êòé Ê≠§Ê¨°‰ΩøÁî®ÁöÑÈÖçÁΩÆÂ¶Ç‰∏ã 1234567891011 #ÊåáÂÆöÁªôdnsmasq‰ΩøÁî®ÁöÑhosts addn-hosts=/etc/dnsmasq.host #‰∏ç‰ΩøÁî®/etc/resolv.conf(VPSÈªòËÆ§DNS)Êù•ËøõË°å‰∏äÊ∏∏dnsÊúçÂä°Âô®Ëß£ÊûêÈúÄË¶ÅÈÖçÁΩÆÁöÑÊØîËæÉÂ∞ëÁõ¥Êé•ÂÜôÂú®dnsmasq.confÊñá‰ª∂Èáå‰∫Ü no-resolv #‰∏äÊ∏∏DNSÂú∞ÂùÄËøôÈáå‰∏∫ËÖæËÆØDNSÂíå‰∏≠ÁßëÂ§ßDNSserver=119.29.29.29server=202.141.162.123server=/google.com/202.141.162.123 #Ëøô‰∏ÄË°åÊòØÈíàÂØπÂ≠¶Ê†°ÂÜÖÁΩëËÆøÈóÆÔºåÂ≠¶Ê†°ÂÜÖÂú∞ÂùÄ‰ΩøÁî®Â≠¶Ê†°ÂÜÖÁΩëDNS„ÄÇÂÖ∑‰ΩìÂú∞Âå∫Ë∞ÉÊï¥„ÄÇserver=/.edu.cn/202.141.162.123 ‰∏äÊ∏∏DNSÊé®Ëçê ËøôÈáåÈúÄË¶ÅÂú®VPS‰∏äÊµãËØïÂêÑ‰∏™DNSÂêéÂÜ≥ÂÆö„ÄÇ Â∏∏Áî®Èù†Ë∞±DNS ÈòøÈáåDNS 223.5.5.5 223.6.6.6 114DNS 114.114.114.114 ËÖæËÆØDNS 119.29.29.29 V2EX DNS 199.91.73.222 178.79.131.110ÔºàËÆøÈóÆËãπÊûúÂïÜÂ∫óÊúâbuffÂä†ÈÄüÔºâ Êó†Ê±°ÊüìDNS ÁõÆÂâçÊØîËæÉÁ®≥ÂÆöÁöÑÂè™Êúâ‰∏≠ÁßëÂ§ßDNSÂíå‰∏Ä‰∫õËá™Âª∫ÁöÑÂ∞èÂûãDNS„ÄÇÂ∞èÂûãDNSÈÄöËøáÂèçÂ∏¶Êù•ËÆøÈóÆgoogleÁ≠âÔºå‰ºöÂ∏¶Êù•‰∏Ä‰∫õÈöêÁßÅÂíåÂÆâÂÖ®È£éÈô©ÔºåËøòÊòØÊé®ËçêËá™Âª∫DNS/hostsËÆøÈóÆ„ÄÇ ‰∏≠ÁßëÂ§ßDNS 202.38.93.153 ÔºàÊïôËÇ≤ÁΩëÔºâ 202.141.176.93 Ôºà‰∏≠ÂõΩÁßªÂä®Ôºâ 202.141.162.123 Ôºà‰∏≠ÂõΩÁîµ‰ø°Ôºâ ÂÖ∂‰ªñDNSËØ∑Ëá™Ë°åGOOGLE ÂçÉ‰∏áÊ≥®ÊÑèÔºÅÔºÅÔºÅ ÈÖçÁΩÆÊñá‰ª∂‰∏≠Êúâlisten-addressÈÖçÁΩÆÔºåÁΩëÁªúÂ§ßÂ§öÊï∞ÊïôÁ®ã‰∏≠Êúâlisten-address=127.0.0.1ËøôÊòØÊåáDnsmasqÂè™ÊúçÂä°‰∫éÊú¨Êú∫ÁöÑDNSËØ∑Ê±Ç„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊê≠Âª∫ÂÖ¨ÁΩëDNSÊúçÂä°ÔºåËøô‰∏™ÁªùÂØπ‰∏çËÉΩÊúâÔºÅÔºÅ ÂàõÂª∫/‰øÆÊîπ/etc/dnsmasq.hostÊñá‰ª∂ ‰∏Ä‰∫õÂ∏∏Áî®ÂéªÂπøÂëähosts/ÁßëÂ≠¶‰∏äÁΩëhostsÁöÑÂÜÖÂÆπÔºå ÂÖ∑‰Ωì‰∏çÂ§öËØ¥hostsÁßëÂ≠¶‰∏äÁΩëÊòØ‰∏ÄÂ§©ÊØî‰∏ÄÂ§©Ê≠ªÁöÑÂø´„ÄÇÊ≤°ÊúâÊâæÂà∞Èù†Ë∞±ÁöÑÂú∞ÂùÄÊé®Ëçê„ÄÇËá™Ë°åÊêúÁ¥¢ÊääÔºÅ ÈáçÂêØDnsmasqÊúçÂä° 1sudo service dnsmasq restart ÊµãËØï53Á´ØÂè£ 1netstat -tunlp|grep 53 Â¶ÇÊûúÊ≠£Â∏∏Â∫îËØ•Â¶Ç‰∏ã 123[root@VM_27_70_centos ~]# netstat -tunlp|grep 53tcp 0 0 0.0.0.0:53 0.0.0.0:* LIST EN 4226/dnsmasqudp 0 0 0.0.0.0:53 0.0.0.0:* 4226/dnsmasq ‰øÆÊîπÊú¨Âú∞DNSÂú∞ÂùÄ Ëøô‰∏™‰∏çÂ§öËØ¥‰∫ÜÔºå‰∏ç‰ºöÁöÑËá™Ë°ågoogle‰∫Ü„ÄÇ„ÄÇ ÁªìÊùüËØ≠ÂàõÂª∫ÂÆå‰∫ÜÔºåÊú¨Âú∞DNSÂø´Â§ö‰∫ÜÔºåËÆøÈóÆÊ∑òÂÆùÂÜç‰πüÊ≤°Êúâ‰∫ÜÁâõÁöÆÁô£„ÄÇ ÂèÇËÄÉÊñáÁåÆ http://blog.antior.cn/posts/2015_29.htmlhttp://www.jianshu.com/p/71ccc79aaa9ehttp://www.linuxdown.net/install/soft/2016/0520/5566.htmlhttp://blog.cnwyhx.com/centos-linux-dnsmasq-install-dns/]]></content>
      <categories>
        <category>Ê†ëËéìÊ¥æ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>VPS</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android]]></title>
    <url>%2F2016%2F07%2F17%2FAndroid%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[AndoridÁ¨îËÆ∞Á≥ªÂàó1234567891011121314151617181920Êõ¥Êñ∞2016.07.20 Á¨¨‰∏ÄË°å‰ª£Á†ÅActivityÂàõÂª∫ÈÉ®ÂàÜÂÆåÊàê2016.07.21 ÂÆåÊàêÊ∑ªÂä†‰∫ÜbuttonÂíåmenuÈÉ®ÂàÜÔºåÂØπÂ∫îP39È°µ2016.07.22 ÂÆåÊàê‰∫ÜP55È°µ‰πãÂâçÁöÑactivityÈÉ®ÂàÜ„ÄÇÂØπ‰∫éactivityÔºà‰∫åÔºâ2016.08.10 Âü∫Êú¨ÊêûÂÆöÔºåUIÈô§ListView‰ª•Â§ñÁöÑÈÉ®ÂàÜ„ÄÇ4ÁßçÂ∏ÉÂ±ÄÊØîËæÉÁÜüÊÇâÔºå‰∏çÂÜçÊäòËÖæ„ÄÇ2016.08.11 ÂºÄÂßãListViewÈÉ®ÂàÜ2016.08.14 ÂÅúÊõ¥ÂçäÊúà2016.09.02 ÊÅ¢Â§çÊõ¥Êñ∞2016.09.03 BroadcastÈÉ®ÂàÜÂºÄÂùë„ÄÇ2016.09.07 ListViewÈÉ®ÂàÜÈô§BaseAdapterÂ§ñÂÆåÊàê„ÄÇBaseAdapterÂÜÖÂÆπÔºå‰ªÄ‰πàÊó∂ÂÄôÁêÜËß£Ê∑±‰∏ÄÁÇπÂÜçË°•‰∏ä„ÄÇ2016.09.13 ÂÆåÊàê‰∫ÜBroadcastÂØπÂ∫îÈÉ®ÂàÜ2016.10.03 ÈáçÊñ∞ÊåâÁÖßgoogleÁöÑÊñáÊ°£Êü•ÊºèË°•Áº∫.2016.10.03 Êõ¥ÂêçAndroidÁ¨îËÆ∞ÔºåÈáçÊñ∞ÂºÄÂßãÊõ¥Êñ∞„ÄÇ2016.12.05 Á¨¨‰∫åË°å‰ª£Á†ÅÂºÄÂßãÔºÅ2016.12.07 ÈáçÊñ∞Êï¥ÁêÜAndroidÁ≥ªÂàóÁ¨îËÆ∞Ôºå‰ªé0Êï¥Âêà2016.12.08 ActivityÈÉ®ÂàÜÊï¥ÂêàÂÆåÊàê2016.12.13 UIÈÉ®ÂàÜÂü∫Á°ÄÂÆåÊàêÔºåLIstViewÈÉ®ÂàÜÂÆåÊàê2016.12.16 RecycleViewÈÉ®ÂàÜÔºåÂü∫Á°ÄÂÆåÊàêÔºåÊúâÂæÖËøõ‰∏ÄÊ≠•Â°´Âùë 2016.12.22 FragmentÂÆåÊàêÔºåÊúâ‰∏Ä‰∏™Âç†Âùë2016.12.23 BroadcastÂÆåÊàê]]></content>
      <categories>
        <category>AndroidÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
        <tag>Â≠¶‰π†ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂçïÁâáÊú∫ËØæÁ®ãËÆæËÆ°ÊÄªÁªì]]></title>
    <url>%2F2016%2F07%2F09%2F%E5%8D%95%E7%89%87%E6%9C%BA%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[Á¥ØÊ≠ª‰∫∫ÁöÑÂçïÁâáÊú∫ËØæÁ®ãËÆæËÆ°Áªà‰∫éÁªìÊùü‰∫ÜÔºåÂøô‰∫Ü‰∏§Â§©Â§ö„ÄÇÂ∞±ÊòØ‰∏™Êï∞Á†ÅÁÆ°+ADC„ÄÇÁúãÁúãËá™Â∑±‰∏§Âπ¥Â§öÂâçÂÜôÁöÑÁ®ãÂ∫è„ÄÇ„ÄÇËøôÊÑüËßâ„ÄÇÁî®‰∫Ü‰∏ÄÂ§©Â§öÈáçÊûÑ„ÄÇ„ÄÇ„ÄÇ„ÄÇ‰πãÂâçÂÜôÁ®ãÂ∫èÁöÑÈÇ£‰∏™‰π±Âïä„ÄÇ„ÄÇ„ÄÇÈáçÊñ∞Êï¥ÁêÜ‰∏ãÔºåËá™Â∑±ÁöÑÂ∫ìÂáΩÊï∞„ÄÇËÆ∞ÂΩï‰∫éÊ≠§„ÄÇ 1602Â∫ìÂáΩÊï∞1602.h1234567891011121314151617181920212223242526272829303132333435363738/*Ê®° Âùó ÂêçÔºö LCD1602 *//*Âàõ Âª∫ ‰∫∫Ôºözyy Êó•ÊúüÔºö2014-11-04 *//*‰øÆ Êîπ ËÄÖÔºöjs Êó•ÊúüÔºö2016-07-08 *//*Áâà Êú¨2.1 *//*‰ΩøÁî®ÊñπÊ≥ïÔºöÈ¶ñÂÖàË∞ÉÁî®LCDÂàùÂßãÂåñÂáΩÊï∞void LcdInit()Ôºõ ËæìÂÖ•‰∏Ä‰∏™doubleÁ±ªÂûãÊï∞ÊçÆË∞ÉÁî®void LcdDisplay(double temp); ÊòæÁ§∫Âú®Á¨¨‰∫åË°åÔºõÂ¶ÇÈúÄ‰øÆÊîπÁ¨¨‰∏ÄË°åÊï∞ÊçÆÂèØÂú®LcdDisplayÂáΩÊï∞‰∏≠‰øÆÊîπ *//* BUG : Á¨¨‰∫åË°ådoubleÊï∞ÊçÆÊòæÁ§∫ÊúÄÂêé‰∏Ä‰ΩçÂêéÔºå‰ºöË∑üÈöè‰∏Ä‰Ωç‰π±Á†Å */#include &lt;stc12c5a60s2.h&gt; #include &lt;intrins.h&gt;#include &lt;stdio.h&gt;#include &lt;math.h&gt;#define uint unsigned int#define uchar unsigned charsbit lcdrs = P1^7;sbit lcden = P2^4;sbit rw = P1^6;#define lcd_data_port P0void sdelay(uint s); //ÈÄöÁî®Âª∂ËøüÂáΩÊï∞void write_com(uchar com); //Âπ∂Âè£ÂÜôÊï∞ÊçÆvoid write_data(uchar date); //Âπ∂Âè£ÂÜôÊï∞ÊçÆvoid LcdInit(); //1602ÂàùÂßãÂåñvoid LcdDisplay(double temp,uint t); //ÊòæÁ§∫ÂáΩÊï∞ 1602.c123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104//1602.cinclude &lt;1602.h&gt;/*Ê®° Âùó ÂêçÔºö LCD1602 *//*Âàõ Âª∫ ‰∫∫Ôºözyy Êó•ÊúüÔºö2014-11-04 *//*‰øÆ Êîπ ËÄÖÔºöjs Êó•ÊúüÔºö2016-07-08 *//*Áâà Êú¨2.1 *//**********************************************/void sdelay(uint s) //ÈÄöÁî®Âª∂ËøüÂáΩÊï∞&#123; uint x,y; for(x=s;x&gt;0;x--) for(y=250;y&gt;0;y--);&#125;/**********************************************/void write_com(uchar com) //Âπ∂Âè£ÂÜôÊï∞ÊçÆ&#123; lcdrs=0; lcden=0; lcd_data_port=com; sdelay(1); lcden=1; sdelay(1); lcden=0;&#125;void write_data(uchar date) //Âπ∂Âè£ÂÜôÊï∞ÊçÆ&#123; lcdrs=1; lcden=0; lcd_data_port=date; sdelay(1); lcden=1; sdelay(1); lcden=0;&#125;/*********************************************************************** ÂáΩ Êï∞ Âêç: LcdInit* ÂäüËÉΩÊèèËø∞: LCDÂàùÂßãÂåñ* ÂáΩÊï∞ËØ¥Êòé: ÂàùÂßãÂåñÊï∞ÊçÆÔºö0x38 0x0c 0x06 0x01* Ë∞ÉÁî®ÂáΩÊï∞: sdelayÔºàÔºâÔºåwrite_comÔºàÔºâÔºå write_dataÔºàÔºâ* Ëæì ÂÖ•: Êó†* Ëøî Âõû: Êó†* ËÆæ ËÆ° ËÄÖÔºözyy Êó•ÊúüÔºö2014-12-23* Áâà Êú¨Ôºö 1.0***********************************************************************/void LcdInit() //1602ÂàùÂßãÂåñ&#123; lcden=0; rw=0; write_com(0x38); write_com(0x0c); write_com(0x06); write_com(0x01);&#125;/*********************************************************************** ÂáΩ Êï∞ Âêç: LcdDisplay* ÂäüËÉΩÊèèËø∞: LCDÊòæÁ§∫* ÂáΩÊï∞ËØ¥Êòé: doubleÁ±ªÂûãÊï∞ÊçÆËΩ¨Âåñ‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÂú®lcdÁ¨¨‰∫åË°åÊòæÁ§∫„ÄÇ* Ë∞ÉÁî®ÂáΩÊï∞: sprintf(),write_com(),sdelay()* ÂÖ®Â±ÄÂèòÈáè: Êó†* Ëæì ÂÖ•: ‰∏Ä‰∏™doubleÁ±ªÂûãÂèòÈáèÂÄº* Ëøî Âõû: Êó†* ËÆæ ËÆ° ËÄÖÔºözyy Êó•ÊúüÔºö2014-12-23* ‰øÆ Êîπ ËÄÖÔºöjs Êó•ÊúüÔºö2016-07-08* Áâà Êú¨Ôºö 2.0***********************************************************************/void LcdDisplay(double temp,uint t) //ÊòæÁ§∫ÂáΩÊï∞&#123;static uchar table0[]=&#123;"pm "&#125;; //1602ÈªòËÆ§Á¨¨‰∏ÄË°åstatic uchar table1[]=&#123;"00.0 "&#125;;uchar num=0;sprintf(table1,"%f",(double)temp);sprintf(table1+8,"%2d",(uint)t); write_com(0x80); for(num=0;num&lt;15;num++) //Á¨¨‰∏ÄË°åÂà∑Êñ∞ &#123; write_data(table0[num]); sdelay(5); &#125; write_com(0x80+0x40); for(num=0;num&lt;16;num++) //Á¨¨‰∫åË°åÊòæÁ§∫ &#123;write_data(table1[num]); //0.0195 sdelay(5); &#125;&#125; Êï∞Á†ÅÁÆ° ÂØπÂ∫îÁîµË∑ØÂõæÂ¶Ç‰∏ãshu.h12345678910111213141516171819202122232425262728293031323334353637/*Ê®° Âùó ÂêçÔºö Êï∞Á†ÅÁÆ° *//*Âàõ Âª∫ ‰∫∫Ôºözy Êó•ÊúüÔºö2014-07-01 *//*Áâà Êú¨1.2 *//*‰ΩøÁî®ÊñπÊ≥ïÔºöË∞ÉÁî® Shu_Display(double js)ÂáΩÊï∞ÔºåËæìÂÖ•‰∏Ä‰∏™doubleÁ±ªÂûãÊï∞ÊçÆÔºå Âõ∫ÂÆöÊòæÁ§∫Ê†ºÂºè‰∏∫Â∞èÊï∞ÁÇπÂâç4‰ΩçÂèäÂ∞èÊï∞ÁÇπÂêé‰∏§‰Ωç„ÄÇ *//*BUGÔºöÊòæÁ§∫Â∞èÊï∞ÁÇπÂêéÁ¨¨‰∫å‰ΩçÊó∂ÔºåÊúâÊó∂‰ºö‰∏éËæìÂÖ•ÂÄºÂ∞è1.ÂéüÂõ†Áñë‰ºº‰∏éfmod()ÂáΩÊï∞ÊúâÂÖ≥ */#include &lt;stc12c5a60s2.h&gt; #include &lt;intrins.h&gt;#include &lt;stdio.h&gt;#include &lt;math.h&gt;#define uint unsigned int#define uchar unsigned char //Á´ØÂè£ÂÆö‰πâ#define io_dm P0 //ÂÆö‰πâLEDÊòæÁ§∫ÁöÑÊÆµÁ†ÅÊï∞ÊçÆËÑösbit io_shu = P2^3; //Êï∞Á†ÅÁÆ°ÂºÄÂÖ≥‰ΩéÁîµÂπ≥ÊúâÊïàsbit io_A = P2^0; //3-8ËØëÁ†ÅÂô®ËæìÂÖ•sbit io_B = P2^1;sbit io_C = P2^2;sbit io_DP = P0^7; //dpÁÇπÂÆö‰πâextern uchar du_num[15];void delay_1ms(uchar x); //1msÂª∂ËøüÂáΩÊï∞void wei(uchar i); //‰ΩçÈÄâËæìÂá∫ÂáΩÊï∞void Shu_Display(double js);//Êï∞Á†ÅÁÆ°ÊòæÁ§∫ÂáΩÊï∞ shu.c123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293#include &lt;shu.h&gt; /*Ê®° Âùó ÂêçÔºö Êï∞Á†ÅÁÆ° *//*Âàõ Âª∫ ‰∫∫Ôºözy Êó•ÊúüÔºö2014-07-01 *//*Áâà Êú¨1.2 *///ÊòæÁ§∫Êï∞Â≠óuchar du_num[]=&#123;0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71&#125;;// 0 1 2 3 4 5 6 7 8 9 a b c d e f void delay_1ms(uchar x)//1msÂª∂ËøüÂáΩÊï∞&#123; uchar j; while(x--)&#123; for(j=0;j&lt;125;j++) &#123;;&#125; &#125; &#125;void wei(uchar i) //‰ΩçÈÄâ‰ø°Âè∑ËæìÂÖ•&#123; //i=i+1; switch (i) &#123; case 0:&#123;io_A=0;io_B=0;io_C=0;&#125; break; case 1:&#123;io_A=1;io_B=0;io_C=0;&#125; break; case 2:&#123;io_A=0;io_B=2;io_C=0;&#125; break; case 3:&#123;io_A=1;io_B=1;io_C=0;&#125; break; case 4:&#123;io_A=0;io_B=0;io_C=1;&#125; break; case 5:&#123;io_A=1;io_B=0;io_C=1;&#125; break; case 6:&#123;io_A=0;io_B=1;io_C=1;&#125; break; default: ; break; &#125;&#125; /*********************************************************************** ÂáΩ Êï∞ Âêç: Shu_Display() * ÂäüËÉΩÊèèËø∞: Â∞ÜÊï∞Â≠óÊòæÁ§∫Âà∞Êï∞Á†ÅÁÆ°‰∏äÔºåÊòæÁ§∫Ê†ºÂºè4+2* ÂáΩÊï∞ËØ¥Êòé: ÊÆµÈÄâ‰ΩçÈÄâÔºåÂä®ÊÄÅÂà∑Êñ∞Êï∞Á†ÅÁÆ°* Ë∞ÉÁî®ÂáΩÊï∞: delay_1ms fmod()* ÂÖ®Â±ÄÂèòÈáè: Êó†* Ëæì ÂÖ•: 1‰∏™doubleÁ±ªÂûãÊï∞ÊçÆ* Ëøî Âõû: Êó†* ËÆæ ËÆ° ËÄÖÔºözy Êó•ÊúüÔºö2014-07-01 * ‰øÆ Êîπ ËÄÖÔºözy Êó•ÊúüÔºö2016-07-08* Áâà Êú¨Ôºö 1.2***********************************************************************/void Shu_Display(double js)&#123;uchar i; //Âæ™ÁéØÂèòÈáè static uchar suff[6]; //Êï∞ÊçÆÂ§ÑÁêÜÊöÇÂ≠òÊï∞ÁªÑ static uint cuff[4]; //ÊèêÂèñÂêÑ‰ΩçÊúâÂÖ≥ static double n=1,y; //‰∏éÂ∞èÊï∞Êà™ÂèñÊúâÂÖ≥ static uint count; //ÊöÇÂ≠ò y=fmod(js,n); //ÂàÜÁ¶ªjsÂ∞èÊï∞ÈÉ®ÂàÜ Â≠òÂú®y‰∏≠ count=js; //Âº∫Âà∂Á±ªÂûãËΩ¨Êç¢ÔºåÂèñjsÊï¥Êï∞ÈÉ®ÂàÜ suff[0] = count/1000; //ÂèñÂçÉ‰Ωç cuff[0] = count%1000; suff[1] = cuff[0]/100; //ÂèñÁôæ‰Ωç cuff[1] = cuff[0]%100; suff[2] = cuff[1]/10; //ÂèñÂçÅ‰Ωç suff[3] = cuff[1]%10; //Âèñ‰∏™‰Ωç count = y*1000; //Â∞èÊï∞ÈÉ®ÂàÜ„ÄÇÊâ©Â§ß1000ÂÄçÊèêÂèñ„ÄÇ cuff[2] = count%1000; suff[4] = cuff[2]/100; //Â∞èÊï∞ÁÇπÂêé‰∏Ä‰Ωç cuff[3] = cuff[2]%100; suff[5] = cuff[3]/10; //Â∞èÊï∞ÁÇπÂêé2‰Ωç io_shu=0; //ÊâìÂºÄ3-8ËØëÁ†ÅÂô® for(i=0;i&lt;6;i++) &#123; wei(i); //‰ΩçÈÄâ io_dm=du_num[suff[i]];//ÊÆµÈÄâ if(i==3) io_DP=1; delay_1ms(1); //Âª∂Ëøü &#125; &#125;]]></content>
      <categories>
        <category>ÁîµÂ≠êÁ±ª</category>
      </categories>
      <tags>
        <tag>ÂçïÁâáÊú∫</tag>
        <tag>ÂºÄÊ∫ê</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÔºà‰∫åÔºâ‚Äî‚ÄîVPS‰ºòÂåñÂä†ÈÄü]]></title>
    <url>%2F2016%2F06%2F27%2FVPS%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%972%2F</url>
    <content type="text"><![CDATA[12345678910Êõ¥Êñ∞2016.06.26 ‰∏éSSRÊúâÂÖ≥ÈÉ®ÂàÜÂü∫Êú¨ÂÆåÊàê„ÄÇ2016.06.28 TCP‰ºòÂåñÈÉ®ÂàÜÂÆåÊàê2016.06.29 gfw.press„ÄÅFinalSpeedÂíåÈîêÈÄüÈÉ®ÂàÜÂü∫Êú¨ÂÆåÊàê„ÄÇ2016.12.11 ÈáçÊñ∞Êï¥ÁêÜÁõ∏ÂÖ≥ÂÜÖÂÆπÔºåÂ¢ûÂä†SSRÊ∑∑Ê∑Ü2016.12.15 Â¢ûÂä†TCP-BBR2017.01.11 Êï¥ÁêÜÁõ∏ÂÖ≥ÂÜÖÂÆπÔºåÂ¢ûÂä†ÈîêÈÄüÈÖçÁΩÆ‰ºòÂåñ 2017.03.28 Êõ¥Êñ∞‰∏ÄÈÉ®ÂàÜÈÖçÁΩÆÂÜÖÂÆπÔºåÂà†Èô§Êó†ÊïàÂÜÖÂÆπ2017.04.02 Âõ†91yunË¢´ÁàÜÈöêÁßÅÈóÆÈ¢òÔºåÂà†Èô§ÂÖ∂ÂØπÂ∫îÂÜÖÂÆπ2017.07.03 Êõ¥Êñ∞Â§ßÈáèÈîêÈÄü/bbrÂÜÖÂÆπÔºåÁßªÈô§GFW.PressÂíåÂÖ∂‰ªñÂÜÖÂÆπ TCP‰ºòÂåñÔºàÈùûBBRÈÄÇÁî®Ôºâ‰ΩøÁî®Âª∫ËÆÆ Âª∫ËÆÆÁßëÂ≠¶‰∏äÁΩëÊúçÂä°Âô®ÈÉΩËøõË°å‰∏ÄÈÅçTCP‰ºòÂåñ ‰∏éÂÖ∂‰ªñÂä†ÈÄüÊâãÊÆµÂÖºÂÆπ ‰ΩøÁî® BBR Âä†ÈÄüÂèØ‰ª•Áï•ËøáÊ≠§ÈÉ®ÂàÜ(Â∑≤ÂåÖÂê´) ÂÖ∑‰ΩìÊ≠•È™§ ÈÄÇÁî®Âú∫ÊôØÔºöÈ´òÂª∂ËøüÊêû‰∏¢ÂåÖÁ∫øË∑Ø Â¢ûÂä†TCPËøûÊé•Êï∞Èáè 1nano /etc/security/limits.conf Ê∑ªÂä†‰∏§Ë°åÔºö 12* soft nofile 51200* hard nofile 51200 ‰øùÂ≠ò(Ctrl + X ‚Äî‚Äî y ‚Äî‚ÄîÂõûËΩ¶) ËÆæÁΩÆulimitÔºö 1ulimit -n 51200 ‰øÆÊîπÂÜÖÊ†∏ÂèÇÊï∞ÈÄÇÂêàÁöÑËøòÊòØhyblaÔºàÈ´òÂª∂ËøüÈ´ò‰∏¢ÂåÖÁéáÁéØÂ¢ÉÔºâÈ¶ñÂÖàÁúã‰∏Ä‰∏ãVPSÁé∞ÊúâÁÆóÊ≥ïÔºö 1sysctl net.ipv4.tcp_available_congestion_control Ê≤°ÊúâhyblaÊó∂ÔºåÂä†ËΩΩhyblaÁÆóÊ≥ï. 1/sbin/modprobe tcp_hybla ÂºÄÂßã‰øÆÊîπ 1nano /etc/sysctl.conf Â§çÂà∂‰ª£Á†ÅÔºö 1234567891011121314151617181920212223#TCPÈÖçÁΩÆ‰ºòÂåñ(‰∏çÁÑ∂‰Ω†Ëá™Â∑±Ê†πÊú¨‰∏çÁü•ÈÅì‰Ω†Âú®Âπ≤‰ªÄ‰πà)fs.file-max = 51200#ÊèêÈ´òÊï¥‰∏™Á≥ªÁªüÁöÑÊñá‰ª∂ÈôêÂà∂net.core.rmem_max = 67108864net.core.wmem_max = 67108864net.core.netdev_max_backlog = 250000net.core.somaxconn = 4096net.ipv4.tcp_syncookies = 1net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_tw_recycle = 0net.ipv4.tcp_fin_timeout = 30net.ipv4.tcp_keepalive_time = 1200net.ipv4.ip_local_port_range = 10000 65000net.ipv4.tcp_max_syn_backlog = 8192net.ipv4.tcp_max_tw_buckets = 5000net.ipv4.tcp_fastopen = 3net.ipv4.tcp_mem = 25600 51200 102400net.ipv4.tcp_rmem = 4096 87380 67108864net.ipv4.tcp_wmem = 4096 65536 67108864net.ipv4.tcp_mtu_probing = 1net.ipv4.tcp_congestion_control = hybla#END OF LINE ‰øùÂ≠ò(Ctrl + X ‚Äî‚Äî y ‚Äî‚ÄîÂõûËΩ¶) Â∫îÁî® 1sysctl -p ÈáçÂêØSSR 1/etc/init.d/shadowsocks restart ÈîêÈÄü ‰ªãÁªçÈîêÈÄüÔºàServerSpeederÔºâÂä†ÈÄüËΩØ‰ª∂ÊòØ‰∏ÄÁßçÂü∫‰∫éZETATCPÂä†ÈÄüÂºïÊìéÁöÑËΩØ‰ª∂ÔºåÂè™ÈúÄÂçïËæπÈÉ®ÁΩ≤Â∞±ÂèØ‰ª•Ëµ∑Âà∞ ÊòæËëóÂä†ÈÄüÊïàÊûúÁöÑ TCP Âä†ÈÄüÊäÄÊúØ„ÄÇ ‰ΩøÁî®Âª∫ËÆÆ(7.03) Èô§ÈùûÂØπÈöêÁßÅË¶ÅÊ±ÇÁâπÂà´È´òÔºåÂä†ÈÄüÊâãÊÆµÈ¶ñÂÖàÂèÇÊï∞ÈîêÈÄü ‰∏é BBR ÁõÆÂâç‰∏çÂÖºÂÆπÔºå‰∫åËÄÖÂèñÂÖ∂‰∏ÄÂèØÊª°Ë∂≥Â§ßÈÉ®ÂàÜÈúÄË¶ÅÂä†ÈÄüÂú∫ÊôØ ÈªòËÆ§ÂèÇÊï∞Âç≥ÂèØÊª°Ë∂≥Â§ßÈÉ®ÂàÜÂú∫ÊôØÔºåÈô§ÈùûÂæàÊÖ¢ÔºåÂê¶Âàô‰∏çÊé®ËçêÊõ¥ÊîπÈÖçÁΩÆÊñá‰ª∂ ÈîêÈÄüÁõÆÂâçÂ∑≤ÁªèÂü∫Êú¨ÂÅúÊ≠¢ËøêËê•ÔºåËÄå‰∏îÊØçÂÖ¨Âè∏LotServerÈù¢Âêë‰ºÅ‰∏öÁî®Êà∑ËøòÂú®ËøêËê• ‰ª•‰∏ãÊèê‰æõÁöÑÁ†¥Ëß£ÁâàÂÆâË£ÖÊñπÂºèÔºåÊî∂ÈõÜËá™ÁΩëÁªú„ÄÇ‰ªÖ‰æõ‰∏™‰∫∫ÂÆûÈ™å‰ΩøÁî®ÔºåËØ∑ÊîØÊåÅÊ≠£Áâà„ÄÇ ÈîêÈÄüÂÆâË£Ö ÂÆâË£ÖÂåÖÊù•Ëá™ @Vicer ÊÑüË∞¢Âéü‰ΩúËÄÖÔºÅ ÈîêÈÄü‰∏ÄÈîÆÂÆâË£ÖÂåÖ ÂèÇËÄÉ https://github.com/0oVicero0/serverSpeeser_Install ÂÆâË£Ö 1wget --no-check-certificate -qO /tmp/appex.sh "https://raw.githubusercontent.com/0oVicero0/serverSpeeder_Install/master/appex.sh" &amp;&amp; bash /tmp/appex.sh 'install' ‰∏≠Èó¥ÊèêÁ§∫ÂÖ®ÈÉ®ËæìÂÖ• y Âç≥ÂèØÔºåÁ≠âÂæÖÂÆâË£ÖÂÆåÊàê Âç∏ËΩΩ 1wget --no-check-certificate -qO /tmp/appex.sh "https://raw.githubusercontent.com/0oVicero0/serverSpeeder_Install/master/appex.sh" &amp;&amp; bash /tmp/appex.sh 'uninstall' Â∏∏Áî®ÂëΩ‰ª§ ÂêØÂä®ÂëΩ‰ª§ /appex/bin/lotServer.sh start Áä∂ÊÄÅÊü•ËØ¢ /appex/bin/lotServer.sh status ÂÅúÊ≠¢Âä†ÈÄü /appex/bin/lotServer.sh stop Êõ¥Êñ∞ËÆ∏ÂèØ /appex/bin/serverSpeeder.sh renewLic ÈáçÊñ∞ÂêØÂä® /appex/bin/serverSpeeder.sh restart (7.03)ÈîêÈÄüÈÖçÁΩÆÊñá‰ª∂‰ºòÂåñ ËØ¶ÁªÜÈÖçÁΩÆÊñáÊ°£ https://github.com/0oVicero0/serverSpeeder_Install/blob/master/lotServer.pdf ÈÖçÁΩÆÊñá‰ª∂Âú®/serverspeeder/etc/config È¶ñÂÖàÁ°Æ‰øù‰∏ãÈù¢3‰∏™ÂèÇÊï∞ÂºÄÂêØ 123rsc="1"advinacc="1"maxmode="1" rsc=‚Äù1‚Ä≥ #RSC ÁΩëÂç°È©±Âä®Ê®°Âºèadvinacc=‚Äù1‚Ä≥ #ÊµÅÈáèÊñπÂêëÂä†ÈÄümaxmode=‚Äù1‚Ä≥ #ÊúÄÂ§ß‰º†ËæìÊ®°Âºè DO vpsËøòË¶ÅÂºÄÂêØgso ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õ‰∏™‰∫∫ÊµãËØïÂØπÂä†ÈÄüÊúâÊïàÊûúÁöÑÈÄâÈ°πÔºåËØ∑ÁªìÂêàÁΩëÁªúÁéØÂ¢ÉËá™Ë°åÊµãËØï ÊùÇÈ°π initialCwndWan=‚Äú64‚Ä≥ÂàùÂßã TCP ÂèëÈÄÅÁ™óÂè£ËÉΩÂ§üÂèëÈÄÅÁöÑÊï∞ÊçÆÂåÖÁöÑÊï∞ÈáèÔºåËØ•ÂÄºËÆæÁΩÆÁöÑÈ´ò‰ºöËé∑ÂæóÊõ¥Â•ΩÁöÑÂä†ÈÄüÊïàÊûúÔºå‰ΩÜÊòØÂèØËÉΩ‰ºöÈÄ†ÊàêÁΩëÁªúÁöÑÊã•Â°û„ÄÇ‰ΩøÁî®ÂÄºÂú®60‰ª•‰∏ãÊúâÊïàÊûú l2wQLimit=‚Äù1024 4096‚Ä≥‰ªé LAN Âà∞ WAN Âä†ÈÄüÂºïÊìéÂú®ÁºìÂÜ≤Ê±†ÂÖÖÊª°ÂíåÁ©∫Èó≤Êó∂ÂàÜÂà´ËÉΩÂ§üÁºìÂ≠òÁöÑÊï∞ÊçÆÂåÖÈòüÂàóÁöÑÈïøÂ∫¶ÁöÑ‰∏äÈôêÔºåËØ•ÂÄºËÆæÁΩÆÁöÑÈ´ò‰ºöËé∑ÂæóÊõ¥Â•ΩÁöÑÂä†ÈÄüÊïàÊûúÔºå‰ΩÜÊòØ‰ºöÊ∂àËÄóÊõ¥Â§öÁöÑÂÜÖÂ≠ò„ÄÇw2lQLimit=‚Äù1024 4096‚Ä≥‰ªé WAN Âà∞ LAN Âä†ÈÄüÂºïÊìéÂú®ÁºìÂÜ≤Ê±†ÂÖÖÊª°ÂíåÁ©∫Èó≤Êó∂ÂàÜÂà´ËÉΩÂ§üÁºìÂ≠òÁöÑÊï∞ÊçÆÂåÖÈòüÂàóÁöÑÈïøÂ∫¶ÁöÑ‰∏äÈôêÔºåËØ•ÂÄºËÆæÁΩÆÁöÑÈ´ò‰ºöËé∑ÂæóÊõ¥Â•ΩÁöÑÂä†ÈÄüÊïàÊûúÔºå‰ΩÜÊòØ‰ºöÊ∂àËÄóÊõ¥Â§öÁöÑÂÜÖÂ≠ò„ÄÇ halfCwndMinSRtt=‚Äù500‚Ä≥halfCwndLossRateShift=‚Äù3‚Ä≥‰ª•‰∏ä‰∏§‰∏™ÂÄºÁî®‰∫éÂà§Êñ≠ÁΩëÁªúÊã•Â°ûÔºåÂàÜÂà´‰∏∫Âª∂Êó∂Âíå‰∏¢ÂåÖÁéáÔºå‰∏¢ÂåÖÁéáÈªòËÆ§ÂÄº‰∏∫ 3ÔºåÂç≥1/2^3ÔºåÂΩìÊã•Â°û‰∫ßÁîüÊó∂ÔºåÈÄÄÂá∫Á¨¨‰∏â‰ª£ Learning-based TCP ÁÆóÊ≥ïÔºåÈááÁî®Á±ª‰ºº‰º†Áªü TCP ÁöÑÁÆóÊ≥ï„ÄÇÊ≠§Â§ÑÂØπ‰∫éÈ´ò‰∏¢ÂåÖÁöÑÁ∫øË∑ØÊù•ËØ¥ÔºåÁõ¥Êé•ËÆæÁΩÆ‰∏∫1ÔºåÂç≥‰∏¢ÂåÖÁôæÂàÜ‰πã50‰ª•‰∏äÊó∂ÔºåÊâçÈÄÄÂá∫Learning-based TCP ÁÆóÊ≥ï(Ëøô‰ºöÂØºËá¥È´ò‰∏¢ÂåÖÁ∫øË∑Ø‰∏äÂ¢ûÂä†ÊµÅÈáèÊ∂àËÄó) ‰øÆÊîπÂÆåÊàêÂêéÔºåÈáçÂêØÈîêÈÄü 1/serverspeeder/bin/serverSpeeder.sh restart FinalSpeed ‰ªãÁªçFinalSpeedÊòØÈ´òÈÄüÂèåËæπÂä†ÈÄüËΩØ‰ª∂,ÂèØÂä†ÈÄüÊâÄÊúâÂü∫‰∫étcpÂçèËÆÆÁöÑÁΩëÁªúÊúçÂä°,Âú®È´ò‰∏¢ÂåÖÂíåÈ´òÂª∂ËøüÁéØÂ¢É‰∏ã,‰ªçÂèØËææÂà∞90%ÁöÑÁâ©ÁêÜÂ∏¶ÂÆΩÂà©Áî®Áéá,Âç≥‰ΩøÈ´òÂ≥∞Êó∂ÊÆµ‰πüËÉΩËΩªÊùæË∑ëÊª°Â∏¶ÂÆΩ„ÄÇÂèØ‰ª•‰∏éÈîêÈÄüÂÖ±Â≠ò„ÄÇ ‰ΩøÁî®Âª∫ËÆÆ(7.03) FinalSpeedÁé∞Âú®Â∑≤ÂÅúÊ≠¢Êõ¥Êñ∞,Âª∫ËÆÆ‰Ωú‰∏∫Â§áÈÄâÂä†ÈÄüÊâãÊÆµ OVZËôöÊãüÂåñÁöÑvps‰∏äÂè™ÂèØÁî®udpÊ®°ÂºèÔºåudpÂú®ÂõΩÂÜÖË¢´Â∞ÅÊùÄËæÉ‰∏•ÈáçÔºåÂØºËá¥ÈìæÊé•‰∏≠Êñ≠Á≠â„ÄÇ ÂÆâË£ÖÊñπÊ≥ï FinalSpeedÁé∞Âú®Â∑≤ÂÅúÊ≠¢Êõ¥Êñ∞ÔºåÂÆòÊñπÁßªÈô§‰∫ÜÂÆâË£ÖÊñπÊ≥ïÔºå‰ª•‰∏ãÂÆâË£ÖÊñπÂºèÊù•Ëá™githubÂ§á‰ªΩ„ÄÇ ÂÆâË£ÖÂëΩ‰ª§: 1234rm -f install_fs.shwget https://github.com/dupontjoy/customization/raw/master/Rules/Shadowsocks/Finalspeed/install_fs.shchmod +x install_fs.sh./install_fs.sh 2&gt;&amp;1 | tee install.log ‰∏ÄÈîÆÂÆâË£ÖÂÆåÊàêÂêéÔºåvps‰ºöËá™Âä®ÂÆâË£ÖjavaÁéØÂ¢É„ÄÇ Âç∏ËΩΩÔºö 1sh /fs/stop.sh ; rm -rf /fs ËÆæÁΩÆÂºÄÊú∫ÂêØÂä®Ôºö 12chmod +x /etc/rc.localvi /etc/rc.local ÁÑ∂ÂêéÂä†ÂÖ• 1sh /fs/start.sh ÊØèÂ§©Êôö‰∏ä1ÁÇπËá™Âä®ÈáçÂêØÔºö 12crontab -e0 1 * * * sh /fs/restart.sh FinalSpeed windowsÂÆ¢Êà∑Á´ØÂÆòÊñπÊúÄÊñ∞ÁâàÊú¨‰∏∫1.2 Êõ¥Êñ∞Êó•Âøó‰∏äË°®ÊòécpuÂç†Áî®Èôç‰Ωé30%Ôºå‰ΩÜÊòØÁ®≥ÂÆöÊÄßËæÉÂ∑ÆÔºåÊó∂Â∏∏ÊåÇÊéâ„ÄÇÊé®ËçêFinalSpeed1.12ÊµãËØïÁâà ‰∏™‰∫∫Â∏∏Áî®ÁâàÊú¨ÔºåÂæàÁ®≥ÂÆö„ÄÇ Ëøô‰∏ÄÈÉ®ÂàÜËØ∑ÂèÇËÄÉ‰∏Ä‰∏ãÁΩëÁ´ô„ÄÇ https://blog.kuoruan.com/82.html Â∏∏Áî®ÂëΩ‰ª§ ÂêØÂä®Ôºö 1sh /fs/start.sh ÂÅúÊ≠¢Ôºö 1sh /fs/stop.sh ÈáçÊñ∞ÂêØÂä®Ôºö 1sh /fs/restart.sh ËøêË°åÊó•ÂøóÔºö 1tail -f /fs/server.log Kcptun Â∞èÂÜÖÂ≠òVPSÂèØÁî®(64MÂÜÖÂ≠òÊúçÂä°Âô®Á®≥ÂÆöËøêË°å)ÔºåOVZÊû∂ÊûÑÂèØÁî®Ôºå Go ËØ≠Ë®ÄÁºñÂÜô ‰ΩøÁî®Âª∫ËÆÆ(7.03) È¶ñÊ¨°‰ΩøÁî®ÔºåÂª∫ËÆÆ‰Ωú‰∏∫Â§áÈÄâÂä†ÈÄüÊâãÊÆµ ‰∏çÂΩìÈÖçÁΩÆÂ∞ÜÂ∏¶Êù•Â§ßÈáèÊµÅÈáèÊ∂àËÄó ÂÆâË£Ö Kcptun Âü∫‰∫é KCP ÂçèËÆÆÁöÑ UDP ÈößÈÅìÔºåÂÆÉÂèØ‰ª•Â∞Ü TCP ÊµÅËΩ¨Êç¢‰∏∫ KCP+UDP ÊµÅ„ÄÇËÄå KCP ÊòØ‰∏Ä‰∏™Âø´ÈÄüÂèØÈù†ÂçèËÆÆÔºåËÉΩ‰ª•ÊØî TCP Êµ™Ë¥π10%-20%ÁöÑÂ∏¶ÂÆΩÁöÑ‰ª£‰ª∑ÔºåÊç¢ÂèñÂπ≥ÂùáÂª∂ËøüÈôç‰Ωé 30%-40%Ôºå‰∏îÊúÄÂ§ßÂª∂ËøüÈôç‰Ωé‰∏âÂÄçÁöÑ‰º†ËæìÊïàÊûú„ÄÇ Kcptun ÊúçÂä°Á´ØÂÆâË£ÖÁπÅÁêêÔºåÁõÆÂâçÊ≤°ÊúâÊîπ‰∏∫KcptunÂä†ÈÄüÁöÑÈúÄÊ±ÇÔºåÊî∂ÈõÜÁΩëÁªú‰∏ÄÈÉ®ÂàÜKcptunÊê≠Âª∫ÊïôÁ®ã‰æõÂèÇËÄÉ„ÄÇ Â∞èÂÜÖÂ≠òÁ¶èÈü≥ÔºåKcptun ShadowsocksÂä†ÈÄüÊñπÊ°à https://blog.kuoruan.com/102.html Kcptun ÊúçÂä°Á´Ø‰∏ÄÈîÆÂÆâË£ÖËÑöÊú¨,ÂñúÈóª‰πêËßÅÁöÑÂ§öÁî®Êà∑ÊîØÊåÅ https://blog.kuoruan.com/110.html SSRÊ∑∑Ê∑ÜÂèÇÊï∞ ‰ΩúËÄÖJessica LynnËΩ¨ËΩΩËá™ https://plus.google.com/113582246973758055268/posts/H51ZpzwUFDK?iem=4&amp;gpawv=1&amp;hl=zh-Hans-TW ‰∏Ä‰∫õÊ∑∑Ê∑ÜÂèÇÊï∞ÔºàÂüüÂêçÔºâ ÂõΩÂÜÖÔºö sz.btfs.mail.ftn.qq.com btrace.video.qq.com ossweb-img.qq.com 1234-wyfqdku4kcgcabalp6rdudo7‚Äì1042249034.cmos.greencompute.org aecpm.alicdn.com aldh5.tmall.com at.alicdn.com atanx.alicdn.com g.alicdn.com gtms03.alicdn.com gw.alicdn.com img.alicdn.com ÂõΩÂ§ñÔºö az813057.vo.msecnd.net az817829.vo.msecnd.net azureedge.net media.gettyimages.com origin.cdn77.com TCP-BBR(7.03) BBR (Bottleneck Bandwidth and RTT)ÊòØÁî±googleÂ∑•Á®ãÂ∏àÁºñÂÜôÁöÑÊñ∞ÁöÑ TCP Êã•Â°ûÊéßÂà∂ÁÆóÊ≥ïÔºåÁõÆÁöÑÊòØË¶ÅÂ∞ΩÈáèË∑ëÊª°Â∏¶ÂÆΩ, Âπ∂‰∏îÂ∞ΩÈáè‰∏çË¶ÅÊúâÊéíÈòüÁöÑÊÉÖÂÜµ, Âä†ÈÄüÊïàÊûú‰∏çÊØîÈîêÈÄüÂ∑Æ ‰ΩøÁî®Âª∫ËÆÆ(7.03) ÂºÄÊ∫êÔºåÈ´òÊïàÔºåÂº∫ÁÉàÊé®ËçêÈ¶ñÈÄâÔºÅ Âêå‰∏ÄÁ∫øË∑ØÔºåBBR‰∏éÈîêÈÄüÂèØÂàÜÂà´ËØïÁî®ÂèñËàçÔºå‰∏ÄËà¨Êª°Ë∂≥ÈúÄÊ±ÇÔºÅ ‰øÆÊîπÁâà BBR Êõ¥‰∏∫È´òÊïà ‰∏ç‰ºöÈÄ†ÊàêÊµÅÈáèÂ§ßÈáèÊµ™Ë¥π ÂÆâË£Ö ÂºÄÊ∫êÂú∞ÂùÄ ÊµãËØïÁéØÂ¢É Debian 7 x64 Vultr ÂêØÁî®TCP-BBRÊ∂âÂèäVPSÊõ¥Êç¢ÂÜÖÊ†∏ÔºåÊâÄ‰ª•Â¶ÇÊûúÊ≠•È™§ÈîôËØØÔºåÊàñËÄÖVPS‰∏çÂÖºÂÆπÊúÄÊñ∞ÁöÑÂÜÖÊ†∏Ôºå‰ºöÂØºËá¥Êó†Ê≥ïÂºÄÊú∫Á≠âÈîôËØØÔºå ÈîêÈÄü‰∏çÊîØÊåÅÔºåÊõ¥Êç¢ÂêéÁöÑ &gt;4.9 ÂÜÖÊ†∏ ÂÆâË£ÖÂéüÁâàBBR ËÑöÊú¨Êù•Ëá™ÁßãÊ∞¥ÈÄ∏ÂÜ∞ Á≥ªÁªüÊîØÊåÅÔºöCentOS 6+ÔºåDebian 7+ÔºåUbuntu 12+ ËôöÊãüÊäÄÊúØÔºöOpenVZ ‰ª•Â§ñÁöÑÔºåÊØîÂ¶Ç KVM„ÄÅXen„ÄÅVMware Á≠â ÂÜÖÂ≠òË¶ÅÊ±ÇÔºö‚â•128M ËøûÊé•SSHÔºåËæìÂÖ•‰∏ãÈù¢ÂëΩ‰ª§ÔºåÊõ¥Êñ∞ÂÜÖÊ†∏ 123wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.shchmod +x bbr.sh./bbr.sh ÂÆâË£ÖÂÆåÊàêÂêéÔºåËÑöÊú¨‰ºöÊèêÁ§∫ÈúÄË¶ÅÈáçÂêØ VPSÔºåËæìÂÖ• y Âπ∂ÂõûËΩ¶ÂêéÈáçÂêØ ÈáçËøûSSH È™åËØÅ ÂÜÖÊ†∏ÁâàÊú¨ 1uname -r ÊúÄÊñ∞ÂÜÖÊ†∏ÁâàÊú¨Â§ß‰∫é4.9Âç≥ÂèØÔºåÊúÄÊñ∞4.12(7.03) ‰øÆÊîπsysctl.conf 1nano /etc/sysctl.conf Â§çÂà∂‰ª£Á†ÅÔºö 1234567891011121314151617181920212223#TCPÈÖçÁΩÆ‰ºòÂåñ(‰∏çÁÑ∂‰Ω†Ëá™Â∑±Ê†πÊú¨‰∏çÁü•ÈÅì‰Ω†Âú®Âπ≤‰ªÄ‰πà)fs.file-max = 51200#ÊèêÈ´òÊï¥‰∏™Á≥ªÁªüÁöÑÊñá‰ª∂ÈôêÂà∂net.core.rmem_max = 67108864net.core.wmem_max = 67108864net.core.netdev_max_backlog = 250000net.core.somaxconn = 4096net.ipv4.tcp_syncookies = 1net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_tw_recycle = 0net.ipv4.tcp_fin_timeout = 30net.ipv4.tcp_keepalive_time = 1200net.ipv4.ip_local_port_range = 10000 65000net.ipv4.tcp_max_syn_backlog = 8192net.ipv4.tcp_max_tw_buckets = 5000net.ipv4.tcp_fastopen = 3net.ipv4.tcp_mem = 25600 51200 102400net.ipv4.tcp_rmem = 4096 87380 67108864net.ipv4.tcp_wmem = 4096 65536 67108864net.ipv4.tcp_mtu_probing = 1net.ipv4.tcp_congestion_control = bbr#END OF LINE ‰øùÂ≠ò(Ctrl + X ‚Äî‚Äî y ‚Äî‚ÄîÂõûËΩ¶) Â∫îÁî® 1sysctl -p ÈáçÂêØSSR 1/etc/init.d/shadowsocks restart ‰øÆÊîπÁâàBBR Áõ∏ÂØπÂéüÁâàÊõ¥‰∏∫Êö¥ÂäõÔºåÂä†ÈÄüÊïàÊûúÊõ¥Â•Ω Êèê‰æõ VicerÁâà Âíå È≠îÊîπÁâà ‰∏§‰∏™ËØïÁî®ÂêéÂä†ÈÄüÊïàÊûúËøò‰∏çÈîôÁöÑÁâàÊú¨„ÄÇ ÊàëÁöÑÊµãËØïÊù•Áúã È≠îÊîπÁâà ÁöÑÊúÄÈ´òÈÄüÂ∫¶È´ò‰∫é VicerÁâà Ôºå‰ΩÜ YOUTUBE Êù•Áúã VicerÁâà È´ò‰∫é È≠îÊîπÁâà Ê≥®ÊÑèÔºö‰øÆÊîπÁâàBBRÁöÑ‰∏ÄÈîÆËÑöÊú¨ÔºåÊîØÊåÅÁ≥ªÁªüËæÉÂ∞ëÔºåÂÆâË£ÖÂâçÈúÄË¶ÅÁ°ÆËÆ§Ëá™Â∑±ÁöÑÁ≥ªÁªüÊîØÊåÅÔºåÂ¶Ç‰∏çÂú®ÊîØÊåÅÂàóË°®ÔºåËá™Ë°åGoogleÂç≥ÂèØÔºåÊúâÂ§ßÈáèÁ¨¨‰∏âÊñπËÑöÊú¨„ÄÇ ÊîØÊåÅÁ≥ªÁªüÔºö Debian 8 / Ubuntu16 + /Debian 7(ÈúÄË¶ÅÊâãÂä®ÂÆâË£Ögcc4.9) Debian 7ÊâãÂä®ÂÆâË£Ögcc4.9(‰ª•rootÁî®Êà∑ÁôªÈôÜÔºåÂê¶Âàô ÂëΩ‰ª§ÂâçÊ∑ªÂä†sudo) ‰øÆÊîπÁ≥ªÁªüÊõ¥Êñ∞Ê∫ê 1nano /etc/apt/sources.list Ê∑ªÂä†Â¶Ç‰∏ã‰∏§‰∏™Êõ¥Êñ∞Ê∫ê 12deb http://ftp.cn.debian.org/debian/ jessie main non-free contribdeb http://ftp.uk.debian.org/debian/ jessie main non-free contrib ‰øùÂ≠ò(Ctrl + X ‚Äî‚Äî y ‚Äî‚ÄîÂõûËΩ¶) ÊâßË°åÊõ¥Êñ∞apt-get update Ê£ÄÊü•ÂèØÂÆâË£Ö gcc ÁâàÊú¨ÂàóË°®apt-cache search gccËæìÂá∫Êúâgcc4.9 Â≠óÊ†∑Âç≥ÂèØÔºåÊï∞ÈáèÊó†ÊâÄË∞ì 1234567891011121314151617181920libx32gcc-4.8-dev - GCC support library (x32 development files) cpp-4.9 - GNU C preprocessor gcc-4.9 - GNU C compiler gcc-4.9-base - GCC, the GNU Compiler Collection (base package) gcc-4.9-locales - GCC, the GNU compiler collection (native language support files) gcc-4.9-multilib - GNU C compiler (multilib files) gcc-4.9-plugin-dev - Files for GNU GCC plugin development. gcc-4.9-source - Source of the GNU Compiler Collection gccgo-4.9 - GNU Go compiler gccgo-4.9-multilib - GNU Go compiler (multilib files) gcj-4.9 - GCJ byte code and native compiler for Java(TM) gcj-4.9-jdk - GCJ and Classpath development tools for Java(TM) gcj-4.9-jre-lib - Java runtime library for use with gcj (jar files) gdc-4.9 - GNU D compiler (version 2), based on the GCC backend gfortran-4.9 - GNU Fortran compiler gfortran-4.9-multilib - GNU Fortran compiler (multilib files) gobjc++-4.9 - GNU Objective-C++ compiler gobjc++-4.9-multilib - GNU Objective-C++ compiler (multilib files) gobjc-4.9 - GNU Objective-C compiler gobjc-4.9-multilib - GNU Objective-C compiler (multilib files) ÂëΩ‰ª§apt-get install g++-4.9 ÂÆâË£Ög++-4.9 VicerÁâàBBR ËÑöÊú¨Êù•Ëá™Debian/Ubuntu TCP BBR ÊîπËøõÁâà/Â¢ûÂº∫Áâà ‰∏ÄÈîÆÂÆâË£Ö 1wget --no-check-certificate -qO &apos;BBR_POWERED.sh&apos; &apos;https://moeclub.org/attachment/LinuxShell/BBR_POWERED.sh&apos; &amp;&amp; chmod a+x BBR_POWERED.sh &amp;&amp; bash BBR_POWERED.sh ÈÅáÂà∞ Error! Header not be matched by Linux Kernel. ÂèÇÁúãDebian/Ubuntu ÂºÄÂêØ TCP BBR Êã•Â°ûÁÆóÊ≥ï,‰æùÁÖß ‰ΩúËÄÖÂºÄÂêØbbr ÁöÑËÑöÊú¨ÊâßË°å‰∏ÄÈÅçÂç≥ÂèØ„ÄÇ ÈÅáÂà∞Error! Install gcc-4.9. debian 7 ÈáçÊñ∞ÂÆâË£Ö‰∏ÄÈÅç gcc-4.9 ÔºåÂÖ∂‰ªñÁ≥ªÁªü ÊâßË°å apt-get update ÂÆâË£ÖÂÆåÊàêÂêé ÊâßË°ålsmod |grep &#39;bbr_powered&#39; ÁªìÊûú‰∏ç‰∏∫Á©∫,ÂàôÂä†ËΩΩÊ®°ÂùóÊàêÂäü ÈáçÂêØSSR /etc/init.d/shadowsocks restart È≠îÊîπÁâàBBR ‰∏ÄÈîÆËÑöÊú¨ 1wget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/YankeeBBR/master/bbr.sh &amp;&amp; bash bbr.sh install ‰πãÂêéÈÄâÊã©ÈáçÂêØÁ≥ªÁªüÔºåÈáçËøûSSH ËæìÂÖ•ÂëΩ‰ª§ bash bbr.sh start Âç≥ÂèØÂÆåÊàêÂÆâË£Ö È™åËØÅ sysctl net.ipv4.tcp_available_congestion_control ËøîÂõûÂëΩ‰ª§Êúâ tsunami Âç≥ÂèØ„ÄÇ ÈáçÂêØSSR /etc/init.d/shadowsocks restart ÁªìÊùü]]></content>
      <categories>
        <category>ÁßëÂ≠¶‰∏äÁΩë</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>VPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÔºà‰∏ÄÔºâ‚Äî‚ÄîVPS‰∏äÊê≠Âª∫SSR]]></title>
    <url>%2F2016%2F06%2F26%2FVPS%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97%2F</url>
    <content type="text"><![CDATA[12345678910111213141516171819Êõ¥Êñ∞2016.06.26 ‰∏éSSRÊúâÂÖ≥ÈÉ®ÂàÜÂü∫Êú¨ÂÆåÊàê„ÄÇ 2016.09.29 Êõ¥Êñ∞SSRÈÉ®ÂàÜÂÜÖÂÆπ2016.10.09 Êõ¥Êñ∞SSRÂÜÖÂÆπÔºåÊõ¥Êñ∞AndroidÁ´ØÊé•ÂÖ•„ÄÇ2016.11.09 Êõ¥Êñ∞SSRÊ∑∑Ê∑ÜÁõ∏ÂÖ≥ÂÜÖÂÆπÔºåÊõ¥Êñ∞SSR-AndroidÔºåÊõ¥Êñ∞ÈÉ®ÂàÜ‰ªãÁªç„ÄÇ2016.11.20 Êï¥Âêà‰∏ÄÈÉ®ÂàÜVPS‰ºòÂåñÂÜÖÂÆπ2016.12.11 Âà†ÂáèË∞ÉÊï¥‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπ2016.12.15 ÊõøÊç¢ÈîêÈÄü‰ºòÂåñ‰∏∫ BBRÔºåÊï¥ÂêàTCP‰ºòÂåñ2016.12.26 Êõ¥Êç¢TCP BBR ËÑöÊú¨ÔºåËÑöÊú¨Êù•Ëá™@ÁßãÊ∞¥ÈÄ∏ÂÜ∞ ÁâàÊú¨ÔºåÊµãËØïÈÄöËøá 2017.01.11 ÂêåÊ≠•Êõ¥Êñ∞‰∏ÄÈÉ®ÂàÜSSRÂÜÖÂÆπ2017.02.17 ÂêåÊ≠•Êõ¥Êñ∞ÔºåË∞ÉÊï¥Âà†ÂáèÂÜÖÂÆπÔºåÈôç‰Ωé‰∏äÊâãÈöæÂ∫¶ÔºåÂ¢ûÂä†VPSÊµãÈÄüÁõ∏ÂÖ≥ÂÜÖÂÆπ2017.03.28 Ë∞ÉÊï¥‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπÔºåÊõ¥Êñ∞VpsÊé®Ëçê2017.04.08 Êñ∞Â¢û VPS ÂÆâÂÖ®Âä†Âõ∫2017.05.24 ÂêåÊ≠•Êõ¥Êñ∞ÂÜÖÂÆπÔºåÊõ¥Êç¢ÂçèËÆÆÔºåÂ¢ûÂä†Êñ∞ÂÜÖÂÆπ„ÄÇ2017.06.28 Âà†ÂáèËøáÊó∂ÂÜÖÂÆπÔºåÂêåÊ≠•Êõ¥Êñ∞2017.07.03 Êõ¥Êñ∞BBRÂÜÖÂÆπÔºåVPSÊµãÈÄü2017.07.12 Êõ¥Êç¢ËøáÊó∂Êà™ÂõæÔºå‰øÆÊ≠£ÈîôËØØ„ÄÇ2017.07.28 Êõ¥Êç¢Â§±ÊïàÈìæÊé•ÔºåÂèØËÉΩÊòØÊúÄÂêé‰∏ÄÊ¨°Êõ¥Êñ∞‰∫Ü2017.10.18 Êõ¥Êñ∞vpsÂÜÖÂÆπ,Áº©ÂáèÊó†Êïà‰ø°ÊÅØ. SSRÂéü‰ΩúËÄÖÂ∑≤Âà†Èô§‰ª£Á†ÅÂ∫ì,Â∫îËØ•‰∏ç‰ºöÂÜçÊõ¥Êñ∞Ê≠§ÊïôÁ®ãÔºåËøô‰∏™ÊïôÁ®ãÂºÄÂßãÂà∞Áé∞Âú®1Âπ¥Â§öÔºåÂü∫Êú¨Ê≤°ÊúâÂÅúÊõ¥ÔºåÊî∂Ëé∑‰∫Ü50000Â§öÁöÑÊ≤°Âä†Ê∞¥ÁöÑÈòÖËØªÈáèÔºåË∞¢Ë∞¢Â§ßÂÆ∂ÔºÅ ÊàëÂºÄÂßãÊúâ‰∫õÊòéÁôΩGFWÁöÑ‰∏çÊñ≠Âº∫ÂåñÂπ∂‰∏çÊòØÊúÄÂèØÊÄï„ÄÇÊàñËÄÖËØ¥GFWÁöÑÂ≠òÂú®Âπ∂‰∏çÈáçË¶Å.‰∫∫ÂøÉÁöÑÂ¢ôÊ∞∏ËøúÊúâ‰∫∫Âú®Êó†ÂÅøÂä†Âõ∫„ÄÇ ÂÆâË£ÖËÑöÊú¨ËØ¥ÊòéÔºöÈÅáÂà∞Â§±ÊïàÁ≠âÔºåËØ∑ÁïôË®ÄÊàñÈÇÆ‰ª∂ÊàëÔºÅ ËÑöÊú¨Êù•Ê∫ê @ÁßãÊ∞¥ÈÄ∏ÂÜ∞ShadowsocksR‰∏ÄÈîÆÂÆâË£ÖËÑöÊú¨ ÈöêÁßÅ/ÂêéÈó®Ôºö(Ëøô‰∏™ÁªìËÆ∫‰ªÖÂØπÊú¨Êñá‰ΩøÁî®ËÑöÊú¨Ë¥üË¥£)ÊñáÁ´†‰∏≠ÊâÄ‰ΩøÁî®ÁöÑËÑöÊú¨ÔºåÈô§ÈªòËÆ§Áî®Êà∑Âêç/ÂØÜÁ†ÅÂ§ñÔºåÊ≤°Êúâ‰ªª‰ΩïÂ§πÂ∏¶ÁßÅË¥ß„ÄÇËÑöÊú¨‰∫¶ÂºÄÊ∫êÔºå‰∏çÊîæÂøÉÂèØ‰ª•‰∏ãËΩΩÂêéËá™Ë°åÂÆ°ËÆ°ÔºÅ https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.sh SSR ÊúçÂä°Âô®Á´ØÊõ¥Êñ∞Ôºö‰ΩøÁî®Ê≠§‰∏ÄÈîÆËÑöÊú¨ÂÆâË£ÖÁöÑÔºå‰∏çËÉΩ‰ΩøÁî®ÂÖ∂‰ªñÂëΩ‰ª§Êõ¥Êñ∞ÔºåÂè™ËÉΩÈÄöËøá Â§á‰ªΩÈÖçÁΩÆÊñá‰ª∂ÔºåÂç∏ËΩΩÂÜçÈáçÊñ∞ÂÆâË£ÖÔºÅ‰πüÈÉΩ‰∏çÊòØ‰∫ãÔºåÂ§á‰ªΩ‰∏Ä‰∏ãÈÖçÁΩÆÊñá‰ª∂ÔºåÈáçÊñ∞ÂÆâË£ÖÔºåË¶ÜÁõñÈÖçÁΩÆÊñá‰ª∂ÔºåÈáçÂêØÂç≥ÂèØ„ÄÇ Âü∫Êú¨‰ªé0ÂºÄÂßãÁöÑÊïôÁ®ãÔºåÂΩì‰ΩúËá™Â∑±ÁöÑÂ§á‰ªΩ‰∫Ü„ÄÇ ÂêêÊßΩ‰Ωú‰∏∫‰∏Ä‰∏™‰º™Á®ãÂ∫èÂëòÔºåÊØèÊ¨°ÊúÄËã¶ÊÅºÁöÑÂ∞±ÊòØAndroid SDKÁöÑÊõ¥Êñ∞ÔºåÂΩìÂàùÂÆâË£ÖAndroid StudioÊó∂ÂÄôÂ∞±Âõ†‰∏∫Èò≤ÁÅ´Â¢ôÊäòËÖæ‰∫ÜÊï¥Êï¥2Âë®ÔºåÁÆÄÁõ¥Â∞±ÊòØÊääËá™Â≠¶AndroidÁöÑÈÇ£ÁÇπËÄêÂøÉÈÉΩÁ£®Ê≤°‰∫Ü„ÄÇÂêÑÁßçÁöÑÊêúÁ¥¢ÊñáÊ°£ÔºåÁ¶ª‰∫ÜgoogleÊïàÁéá‰∏ãÈôç70%ÔºÅÁßëÂ≠¶‰∏äÁΩëÁÆÄÁõ¥Êàê‰∫ÜÁ®ãÂ∫èÂëòÁöÑÂøÖÂ§áÁîüÂ≠òÊäÄËÉΩ‰∫Ü„ÄÇ Ë∞ÅÊØîËæÉÈúÄË¶ÅÂçïÁã¨Ë¥≠‰π∞VPSÁßëÂ≠¶‰∏äÁΩëÔºü Âè™ÊòØÁøªÂ¢ôÁÆÄÂçïÊµèËßàÁΩëÈ°µÔºåÂ∞±‰∏çÂøÖË¶ÅÂÜçÂçïÁã¨Ëä±Ë¥π‰∫∫Ê∞ëÂ∏Å‰∫ÜÔºåËìùÁÅØ„ÄÅÂíåÂêÑ‰∏™ÁΩëÁ´ôÁöÑÂÖçË¥πssË¥¶Êà∑ÔºåÊòØ‰Ω†ÁöÑ‰∏ªËèú„ÄÇ ÂÅ∂Â∞îÁúãÁúãËßÜÈ¢ë„ÄÅ‰∏çÊÉ≥ÁîªÂ§™Â§öÁ≤æÂäõÂú®ÂØªÊâæÂÖçË¥πËµÑÊ∫ê‰∏ä„ÄÇÂèØ‰ª•Áõ¥Êé•Ë¥≠‰π∞Áé∞ÊàêÁöÑss/vpnË¥¶Êà∑ÔºåÂú®G+Áõ∏Â∫îÁöÑÁ§æÂå∫ÂèØ‰ª•ÊâæÂà∞ÂæàÂ§öÊØîËæÉÈù†Ë∞±ÁöÑÊèê‰æõÂïÜ„ÄÇ Â∏∏Âπ¥Ê≥°ËßÜÈ¢ëÁΩëÁ´ôÂèàÂèó‰∏ç‰∫ÜÂõΩÂÜÖËßÜÈ¢ëÁΩëÁ´ô‰π±‰∏ÉÂÖ´Á≥ü„ÄÅ24h‰ΩøÁî®googleÊúçÂä°„ÄÅÂØπÁ®≥ÂÆöÊÄßÂíåÊµÅÈáèÊúâ‰∏ÄÂÆöË¶ÅÊ±Ç„ÄÅÊÑøÊÑè‰ΩøÁî®‰∏ÄÁÇπÊó∂Èó¥Êù•ÊäòËÖæVPS„ÄÇÊØîËæÉÈÄÇÂêàÂçïÁã¨Ë¥≠‰π∞VPSÊù•ÁßëÂ≠¶‰∏äÁΩë„ÄÇVPSÈÄâÊã©Â¶Ç‰∏ã‰ºöÊèêÂèä„ÄÇ ÊêúÁ¥¢ÊñáÊ°£ÔºåÊõ¥Êñ∞ËΩØ‰ª∂Ê∫ê„ÄÅÊäòËÖæ‰∏™‰∫∫ÁΩëÁ´ôÂèà‰∏çÊÉ≥Â§áÊ°àÁöÑ„ÄÅÊäòËÖæÂºÄÊ∫êÁöÑ ËøôÈÉ®ÂàÜÂ§ßÁ•ûË∞Å‰ºöÊù•ÁúãËøô‰∏™ÂïäÔºåÊó©Ëá™Â∑±ÂàÜÂàÜÈíüÂÜô‰∏™ËΩÆÂ≠ê‰∫Ü VPSÈÄâÊã©ÈÄâÊã©VPSÁúãÈÇ£Âá†ÁÇπ ‰∏ÄÂÆöË¶ÅÊ†πÊçÆËá™Â∑±ÁöÑÂÖ∑‰Ωì‰ΩøÁî®Âú∫ÊôØÂíåÁΩëÁªúÁéØÂ¢ÉÊù•ÈÄâÊã©VPSÊúçÂä°„ÄÇ ÈÄâÊã©VPSÁöÑ‰∏ÄËà¨Ë¶ÅÊ≥®ÊÑèÁöÑÂá†ÁÇπ Ëá™Â∑±ÁöÑÂÖ∑‰ΩìÁΩëÁªúÁéØÂ¢É ÁÆÄÂçïÊù•ËØ¥Ôºå‰∏ÄËà¨ËÅîÈÄöÁöÑÂõΩÈôÖÂá∫Âè£Á®≥ÂÆöÊÄßÂ§ß‰∫éÁîµ‰ø°„ÄÅÁßªÂä®ÁöÑÂõΩÈôÖÂá∫Âè£ÁúãÂøÉÊÉÖÊúâÁöÑÂú∞Âå∫Áî©Áîµ‰ø°ËÅîÈÄöÂá†Êù°Ë°óÔºåÂùèÁöÑÊó∂ÂÄôÊ†πÊú¨Ê≤°ÈÄüÂ∫¶„ÄÇÁîµ‰ø°ÁΩëË∑ØÊØîËæÉÁâπÊÆäÔºåÂõΩÈôÖÂá∫Âè£ÂÖÖË∂≥Ôºå‰ΩÜÊòØÈôêÈÄüÂà∞‰∏çËÉΩÂøçÔºå‰∏çÊå§ÁöÑÊó∂ÂÄôÂóñÂóñÁöÑÔºåÈ´òÂ≥∞ÊúüÊ∏£Âà∞ÁàÜÁÇ∏.ÁßªÂä®Âá∫Âè£‰∏çÈîô,‰ΩÜÂ¢ô‰∏≠Â¢ô.. ÂÖ∂‰ªñ‰∫åÁ∫ßÂÆΩÂ∏¶ÂïÜÂøΩÁï•‰∏çËÆ° VPSÂú∞ÁÇπ„ÄÇ Êó•Êú¨VPSÁîµ‰ø°ÁΩëÁªúËÆøÈóÆË¶ÅÁªïÈÅìÁæéÂõΩÁªïÈÅìping‰∏ÄËà¨Âú®200Âà∞300‰∫ÜÔºåÔºà9.29ÔºâËÅîÈÄöÁõ¥ËøûÊó•Êú¨ÔºåpingÂú®100ÔºÅËÅîÈÄöÁõÆÂâç‰πüÂàÜÂú∞Âå∫ÊúâÈôêÈÄü„ÄÇ(2.17)ËÅîÈÄöÂõ†‰∏∫16Âπ¥Âπ¥Â∫ïÊµ∑Â∫ïÂÖâÁºÜÊïÖÈöúÊçüÂ§±‰∫Ü30ÔºÖÁöÑÂõΩÈôÖÂá∫Âè£ÔºåÂØºËá¥Êñ∞Âπ¥Âà∞Áé∞Âú®Âá∫Âè£Ë∑ØÁî±Âπ∂‰∏çÁ®≥ÂÆöÔºåËÅîÈÄö-Êó•Êú¨nttÂª∂ËøüÊúâÊó∂200ÊúâÊó∂100.Ôºà6.28ÔºâÁõÆÂâçËØªËÄÖÂèçÊò†nttÊØîËæÉÁ®≥ÂÆö„ÄÇÂ∑≤ÊîæÂºÉ‰∫öÊ¥≤Âú∞Âå∫vps(10.18),‰∏çÁ®≥ÂÆöÁõ∏ÊØîÂÖ∂‰ªñÂú∞Âå∫. ÁæéÂõΩÁöÑVPSËÅîÈÄö/Áîµ‰ø°ËÆøÈóÆÂª∂ËøüÂü∫Êú¨Áõ∏ÂΩì„ÄÇ‰∏ÄËà¨ÈÄâÊã©Èù†ËøëÁæéÂõΩË•øÊµ∑Â≤∏ËäÇÁÇπÊóßÈáëÂ±±„ÄÅÊ¥õÊùâÁü∂„ÄÅÁ∫ΩÁ∫¶Á≠âÂú∞ÁÇπ„ÄÇÁîµ‰ø°ÈôêÈÄüÂæàÂéâÂÆ≥ÔºåÊâÄ‰ª•‰∏ÄËà¨Áîµ‰ø°ÁΩëÈúÄË¶ÅÂºÄÊ∑∑Ê∑ÜÈÖçÂêàFinaSppeedÁ≠âÂä†ÈÄü„ÄÇÂèØ‰ª•ÈÄâÊã©‰æøÂÆúcn2Á∫øË∑Øvps,‰ºöÂ•ΩÂæàÂ§ö. Êñ∞Âä†Âù°ËäÇÁÇπÔºåÂú®Èù†ËøëÂçóÊñπÂú∞Âå∫ÔºåÂèØ‰ª•pingÂú®100‰ª•ÂÜÖÁ®≥ÂÆöÔºÅyoutube 4k‰∏çÂç°„ÄÇ‰ΩÜÂú®ÂÅèÂåó‰∏Ä‰∫õÂú∞Âå∫ping‰∏çÁ®≥ÂÆö È¶ôÊ∏ØVPSÔºåËøô‰∏™ÊØîËæÉÁâπÊÆäÔºåÈ¶ôÊ∏ØÁöÑVPS pingÂÄºÂèØ‰ª•‰ΩéÂà∞20Âá†Ôºå‰ΩÜÊòØÈ¶ôÊ∏ØÊú¨Ë∫´ÁöÑÂõΩÈôÖÂá∫Âè£Â∞±Â∞èÔºåVPS‰ª∑Ê†º‰πüÂÅèÈ´òÔºåÂè¶Â§ñÈ¶ôÊ∏ØÊØïÁ´ü‰πüÂú®ÊîøÂ∫úÁöÑÁõ¥Êé•ÁÆ°ËæñÂÜÖÔºåÈöêÁßÅÊñπÈù¢È£éÈô©ÊØîÂÖ∂‰ªñÂú∞Âå∫ËäÇÁÇπË¶ÅÂ§ß‰∏Ä‰∫õ„ÄÇÂª∫ËÆÆÂúüË±™Á∫ßÂà´ÁöÑÊ∏∏ÊàèÁé©ÂÆ∂‰ΩøÁî®„ÄÇ VPSËôöÊãüÂåñÊû∂ÊûÑ (ÂÖ∑‰ΩìËß£ÈáäËØ∑Ëá™Ë°ågoogleÔºåÂè™ËØ¥ÊòéÂØπÁßëÂ≠¶‰∏äÁΩëÁöÑÂΩ±Âìç) OpenVZÔºàÁÆÄÁß∞OVZÔºâ ‰æøÂÆúÔºÅ‰ΩÜÊòØÊ≤°Ê≥ïËøõË°å‰øÆÊîπÂÜÖÊ†∏„ÄÅÂä†ÈîêÈÄü‰πãÁ±ªÁöÑ‰ºòÂåñÊìç‰Ωú„ÄÇËÆøÈóÆÈÄüÂ∫¶Âü∫Êú¨ÂèñÂÜ≥‰∫é‰Ω†ÁöÑÊú¨Âú∞ÁΩëÁªúÁéØÂ¢É‰ºòÂåñÁöÑÂèØËÉΩÊÄß„ÄÇÔºà‰∏çÊòØÊ≤°ÊúâÂèØ‰ª•Âä†ÈÄüÁöÑÊâãÊÆµÔºåÂ∞±ÊòØÂú®Âü∫Êú¨Áõ∏ÂêåÊÉÖÂÜµ‰∏ãÔºå‰∏çÂ¶ÇÂÖ∂‰ªñÊû∂ÊûÑÁöÑvpsÂèØ‰ª•Ê¶®Âπ≤VPSÁöÑ‰º†ËæìÊÄßËÉΩÔºâ„ÄÇÂä†ÈÄüÊâãÊÆµÔºöFinaspeedÔºàÂ∑≤ÂÅúÊ≠¢Êõ¥Êñ∞Ôºâ Âíånet-speeder„ÄÇ XenÊÄßËÉΩËæÉÂ•ΩÔºåÂÆûÈôÖÁî®ÁöÑ‰∏çÂ§öÔºå‰∏çÂÅöÊõ¥Â§öËØÑËÆ∫ Hyper-VHÂÆåÁæéÊîØÊåÅWindowsÁ≥ªÁªüÔºåHyper-VÂêåÊ†∑ÂèØ‰ª•Ë∂ÖÂîÆÂÜÖÂ≠òÂíåÁ°¨ÁõòÔºåÂ¶ÇÊûúÊúçÂä°ÂïÜË∂ÖÂçñËæÉÂ§öÂèØËÉΩ‰ºöÊúâÊÄßËÉΩÈóÆÈ¢òÔºåLinuxÊìç‰ΩúÁ≥ªÁªüÊÄßËÉΩËæÉ‰Ωé„ÄÇ KVMÂÖ®ÂäüËÉΩËôöÊãüÂåñÊû∂ÊûÑÔºåÂèØ‰∏ä‰º†ISOÊâãÂä®ÂÆâË£ÖÁ≥ªÁªü„ÄÇKVM VPSÁõ∏ÂØπÂÖ∂ÂÆÉÊû∂ÊûÑÁöÑVPSËæÉ‰∏∫Ëá™Áî±„ÄÇËôöÊãüÂåñÊÄßËÉΩÊØîXenÁï•‰Ωé„ÄÇÂèØ‰ª•‰ΩøÁî®TCP‰ºòÂåñÂíåÈîêÈÄüÔºå‰ª∑Ê†ºÊØî‰∏ÄÂçäOVZÁöÑË¶ÅÈ´ò‰∏Ä‰∫õ„ÄÇÔºàÊú¨ÊïôÁ®ã‰ª•KVM‰∏∫‰æã„ÄÇ„ÄÇÈÄüÂ∫¶ÈúÄÊ±ÇÂ§ßÁöÑÊúÄÂ•Ω‰ΩøÁî®KVMÔºâ VPSÊèê‰æõÂïÜ Ëøô‰∏™Â∞±ÊØîËæÉÂ§ö‰∫ÜÔºåÂ∞ΩÈáèÈÄâÊã©Ë¥≠‰π∞‰∫∫ËæÉÂ§öÁöÑÔºåËÄå‰∏î‰∏ÄËà¨ÊîØÊåÅÊîØ‰ªòÂÆùÁöÑÊúçÂä°ÂïÜË¢´ÂõΩ‰∫∫Áé©ÂçäÊÆãÂ±ÖÂ§öÔºàÊØîÂ¶ÇÊê¨Áì¶Â∑•„ÄÇ„ÄÇË∂ÖÂîÆ‰∏•ÈáçÔºâÔºåÊâÄ‰ª•Ë¥≠‰π∞‰∏çÊîØÊåÅÊîØ‰ªòÂÆùÁöÑvpsÊèê‰æõÂïÜ (Áõ∏ÂØπ) Ë¶ÅÈù†Ë∞±‰∏ÄÁÇπ„ÄÇÊ≥®ÂÜåpaypalÂõΩÈôÖÁâàÔºàÊ≥®ÔºöÊòØÂõΩÈôÖÁâàpaypal ‰∏çÊòØÂõΩÂÜÖÁöÑË¥ùÂÆùÔºÅÔºâ‰∏ÄËà¨ÁöÑvpsÊèê‰æõÂïÜÈÉΩÊîØÊåÅpaypal‰ªòÊ¨æ„ÄÇ‰∏é‰ΩøÁî®‰ø°Áî®Âç°Áõ∏ÊØîÔºåÂÖ∑‰ΩìÁöÑ‰ºòÊÉ†ÊîøÁ≠ñ‰∏çÂêå. ÊîØÊåÅÊîØ‰ªòÂÆù/ÂæÆ‰ø°ÁöÑÊúçÂä°ÂïÜËâØËé†‰∏çÈΩêÔºåÁ¨¨‰∏ÄÊ¨°Ë¥≠‰π∞ÈúÄË¶ÅÊ≥®ÊÑèÈÄÄÊ¨æÊîøÁ≠ñÔºåËôöÊãüÂåñÊû∂ÊûÑÁ≠âÔºåÊúÄÂ•ΩÊåâÊúàÊîØ‰ªò„ÄÇÁé∞Âú®‰ΩøÁî®ÁöÑÊòØÊ¥õÊùâÁü∂ÁöÑKVMÊú∫Âô®ÔºåÈÖçÂêàBBRÂü∫Êú¨3ÁΩëÈÄöÂêÉÔºåÈô§‰∏™Âà´Êó∂ÊÆµÈùûÂ∏∏Á®≥ÂÆö„ÄÇÁîµ‰ø°Êé®ËçêÊ¥õÊùâÁü∂C3Êú∫Êàø,ËôΩÁÑ∂‰∏∫ÂçäÁ®ãcn2,‰ΩÜË∂≥Â§ü‰æøÂÆúÁ®≥ÂÆö. Êé®ËçêÂá†‰∏™ VPS ÁöÑËØÑÊµãÁΩëÁ´ôÔºåÁõ∏ÂØπÊõ¥Êñ∞ÂæàÂø´„ÄÇ http://www.laozuo.org/myvpshttps://doub.io/https://www.91yun.org/ VPSÊµãÈÄü ÂÜ≥ÂÆöÁßëÂ≠¶‰∏äÁΩëË¥®ÈáèÁöÑ‰∏ªË¶ÅÊòØÁî±vpsÂõûÂüéÁöÑÁ∫øË∑ØÂÜ≥ÂÆö. Â∏∏Áî®VPSÊèê‰æõÂïÜÊµãÈÄüÂú∞ÂùÄ vultr http://www.vultrvps.com/test-server Êê¨Áì¶Â∑• http://www.64mb.biz/tips/4ip.html ÂÖ∂‰ªñÂæÖÊõ¥Êñ∞ÔºåÂÖ∂ÂÆûÂè™Ë¶ÅÊêúÁ¥¢ ÊµãÈÄüÂú∞ÂùÄ+vpsÊèê‰æõÂïÜÂêçÁß∞Â∞±Â•Ω ‰ª•vultr‰∏ú‰∫¨ËäÇÁÇπ‰∏∫‰æã ÊúâÁöÑvpsÊèê‰æõÂïÜÂè™Êèê‰æõÊµãÈÄüÁΩëÂùÄÔºåËÄåÊµãÈÄüÂ§ßÂ§ö‰ª•ipÂú∞ÂùÄ‰∏∫‰∏ªÔºåpingÂëΩ‰ª§ÂèØ‰ª•Ëé∑Âèñ ÊµãÈÄüÁΩëÂùÄ ÂØπÂ∫îÁöÑipÂú∞ÂùÄ ÊúÄÁÆÄÂçïÁöÑÂëΩ‰ª§ PING (Âª∂ËøüÊµãËØï) win+rÁªÑÂêàÈîÆÊâìÂºÄËøêË°åÊ†è ËæìÂÖ•cmdÔºåÂõûËΩ¶ Â¶ÇÂõæ ËæìÂÖ• ping ‰Ω†ÈúÄË¶ÅÊµãËØïÁöÑipÂú∞ÂùÄ ËøôÈáåÊòØ 1ping hnd-jp-ping.vultr.com Â∫îÁ≠îÂ¶Ç‰∏ã ËøôÈáåÂèØ‰ª•ÁúãÂà∞ÂÖ∑‰ΩìÁöÑÊµãÈÄüipÂú∞ÂùÄ‰∏∫ 108.61.201.151 ÈÄâ‰∏≠ Ctrl + CÂ§çÂà∂‰∏ãÊù• Âª∂Ëøü141 Â∑¶Âè≥ÔºåËøòÂú®Êé•ÂèóËåÉÂõ¥ÂÜÖ„ÄÇ‰∏¢ÂåÖÂ§ßËá¥‰Ωú‰∏∫ÂèÇËÄÉÂç≥ÂèØÔºåÂè™Êúâ4‰∏™ÂåÖÂèëÈÄÅÔºå‰∏çË∂≥‰ª•‰Ωú‰∏∫ÁªìÊûúÊ≥®ÊÑèËøôÈáåÁöÑÂª∂ËøüÂè™ÊòØpingÊ£ÄÊµãÁöÑÁªìÊûúÔºåÂèØ‰ª•‰Ωú‰∏∫ÂÆûÈôÖËÆøÈóÆÂª∂ËøüÁöÑÂèÇËÄÉÂÄºÔºåËÄå‰∏çÊòØÁªùÂØπÂáÜÁ°ÆÔºÅ ÊµãÈÄüÁõ∏ÂÖ≥ÁΩëÁ´ô Êü•ËØ¢ipÂú∞ÂùÄÂΩíÂ±ûÂú∞‰∏çË¶Å‰ΩøÁî® ÁôæÂ∫¶ÊêúÁ¥¢Êü•ËØ¢ipÂú∞ÂùÄ ÈÇ£‰∫õÊï∞ÊçÆÂõΩÂÜÖÂ∞öÂèØÔºåvps‰∏ÄËà¨ÂØπÂ∫îÂõΩÂ§ñÁΩëÁ´ôÔºåÁôæÂ∫¶Á≠âÂàôÈîôËØØ‰∏çÂ∞ëÔºåÊé®ËçêÔºöipip.net https://www.ipip.net/ip.html ÂÖ®ÂõΩpingÊ£ÄÊµãÊúâÊó∂ssÂ±û‰∫éÂêàÁßüÊúçÂä°Âô®ÔºåÂèØËÉΩÂú®‰∏çÂêåÁúÅ‰ªΩÔºåÈúÄË¶ÅËØÑ‰º∞ipÂà∞‰∏çÂêåÁúÅ‰ªΩÁöÑÂª∂ËøüÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å ÂÖ®ÂõΩËåÉÂõ¥ÂÜÖÁöÑpingÊ£ÄÊµãÈ¶ñÊé®ÔºöÁ´ôÈïø‰πãÂÆ∂pingÊ£ÄÊµã http://ping.chinaz.com/ Ë∑ØÁî±ËøΩË∏™ Best Trace Best TraceÊòØÁî± IPIP.NET ÂºÄÂèëÁöÑË∑ØÁî±ËøΩË∏™Ê£ÄÊµãÂ∑•ÂÖ∑ÂÆòÊñπÂú∞ÂùÄ‰∏ãËΩΩ Ë∑ØÁî±ËøΩË∏™ Âç≥ Ê£ÄÊµãÊï∞ÊçÆ ‰ªé‰Ω†ÁöÑÊú¨Âú∞ÂÆΩÂ∏¶ÂºÄÂßã Âà∞ vps ÁöÑÊï¥‰∏™ËøáÁ®ã‰∏≠Ëµ∞ÁöÑË∑ØÂæÑÔºå‰æãÂ¶Ç Âåó‰∫¨ËÅîÈÄö Âà∞ vultr‰∏ú‰∫¨ ‰ªéÂåó‰∫¨Áõ¥Êé•ËøûÂà∞Êó•Êú¨ÔºåËÄå Ê≤≥ÂçóÁîµ‰ø°Âà∞ vultr‰∏ú‰∫¨ ÂàôÊòØÂÖàÂà∞ÁæéÂõΩÔºåÂÜçÂéªÊó•Êú¨„ÄÇ ‰∏äÂõæËØ¥ËØù(ÂõæÁâáÊù•Ëá™91yun) ËøôÊ¨æËΩØ‰ª∂Âá†‰πéÊ≤°Êúâ‰∏äÊâãÈöæÂ∫¶ ÂÖ∑‰Ωì‰ªãÁªçÂ¶Ç‰∏ã http://www.laozuo.org/8277.html ‰∏¢ÂåÖÁéá WinMTR ÂÖ∑‰Ωì‰ªãÁªçÂ¶Ç‰∏ãÔºå91yun‰ªãÁªçÂæàËØ¶ÁªÜÔºåÂπ∂ÈôÑÂ∏¶‰∏ãËΩΩÂú∞ÂùÄÔºåÊ≠§Â§ÑÂ∞±‰∏çÂ§öË®Ä‰∫Ü https://www.91yun.org/zh/archives/1120 VPSËá™Ë∫´ÊµãËØïÔºà7.03Ôºâ vpsÁΩëÁªúÊµãËØï https://teddysun.com/444.html vpsÊÄßËÉΩÊµãËØï https://teddysun.com/245.html vpsÈÉ®ÁΩ≤ ÊàëÈÄâÊã©ÁöÑÊòØVultr VPS„ÄÇ2.5ÂàÄ/ÊúàÔºå500GÊµÅÈáè ÊÄé‰πàÊäòËÖæÈÉΩÂ§ü‰∫Ü„ÄÇ Êú¨ËäÇÂÜÖÂÆπËΩ¨ËΩΩ/Âà†ËäÇ/‰øÆÊ≠£Ëá™ https://mpc2008cn.github.io/2015/10/22/vps/Â∞±ÊòØ‰ªéËøôÂºÄÂßãÊäòËÖæÁöÑÔºåÊúâÂà†ÂáèÂíå‰øÆÊîπ„ÄÇ Vultr ÈÄöËøá‰∏ãÈù¢ÈìæÊé•Ê≥®ÂÜåÔºå‰Ω†ÂèØ‰ª•ÂÖçË¥πËé∑Âæó 10ÁæéÂÖÉÂêåÊó∂ ‰πüËÉΩÂ∏ÆÂä©ÊàëËé∑Âæó‰∏Ä‰∫õÂ•ñÂä±ÔºåË∞¢Ë∞¢ÔºÅ VultrÂú∞ÂùÄ ÊúçÂä°Âô®ÈÄâÊã© ÈÄâÊã©‰∏ú‰∫¨ÊàñËÄÖÁæéÂõΩË•øÊµ∑Â≤∏ÁöÑÊúçÂä°Âô®,ÈÄüÂ∫¶Áõ∏ÂØπÊØîËæÉÂø´ Êìç‰ΩúÁ≥ªÁªü Êé®ËçêÈÄâÊã©Debian 7 x64Ê≠§ÁâàÊú¨Êê≠Âª∫SSR/ÈîêÈÄü/bbrÂü∫Êú¨Ê≤°ÊúâÈÅáÂà∞ÊïÖÈöúÂÖ∂‰ªñÁâàÊú¨‰πüÂèØÔºåËØ∑Ëá™Ë°åÈÄâÊã© ÈÄâÊã©Á°¨‰ª∂ ‰∏Ä‰∏™ÊúàÂèØ‰ª•ÂÖçË¥πÁî®$5ÁöÑÈÖçÁΩÆ,ÁßëÂ≠¶‰∏äÁΩëÂ∞±Â§ü‰∫ÜÔºåÂª∫Á´ôÁ≠âÈúÄÊ±ÇÈúÄË¶ÅÊõ¥Â§ßÁöÑ„ÄÇ ÂàõÂª∫vps Á≠âÂæÖÂÆåÊàê„ÄÇ VPSÊµãËØï(ÂèØÂøΩÁï•Ôºå‰ΩÜÊòØÊé®ËçêËøõË°å) ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰∏äÈù¢ÊèêÂà∞ÁöÑ VPSÊµãËØïËΩØ‰ª∂ÔºåÊù•Êü•Áúã Ëá™Â∑±ÁöÑvpsÂà∞Êú¨Âú∞ÁöÑ Ë∑ØÁî±ËøΩË∏™ Êó∂ÂÄô‰∏é ÂÆòÊñπÊµãËØïÂú∞ÂùÄ Áõ∏ÂêåÔºå‰∏¢ÂåÖÁéá/Âª∂ËøüÂ¶Ç‰ΩïÁ≠â Áé∞Âú®Âá†‰πéÊâÄÊúâÁöÑvpsËøêËê•ÂïÜ ÈÉΩÊúâÂ§ßÈáèÁöÑÂõΩ‰∫∫Ê∂åÂÖ•ÔºåÊúâ‰∏ÄÁÇπÊ¶ÇÁéá‰Ω†ÂºÄÂà∞ÁöÑIP ÊòØË¢´ ÈïøÂüéÈò≤ÁÅ´Â¢ô ÈòªÊñ≠ËøáÔºåË¢´Â∫üÂºÉÁöÑip„ÄÇÂú®Ê≠£ÂºèÊê≠Âª∫ ÁßëÂ≠¶‰∏äÁΩë ÊúçÂä°‰πãÂâçÔºåËØ∑Á°Æ‰øùËá™Â∑± VPS ÁöÑÂèØËÆøÈóÆÊÄß ÈÖçÁΩÆsecurecrt(‰∏çÂøÖÂú®ÊÑèipÂú∞ÂùÄ) ‰∏ãËΩΩsecurecrt Â§çÂà∂ÊúçÂä°Âô®ÁöÑIPÂú∞ÂùÄ,ÂàùÂßãÁî®Êà∑Âêç,ÂàùÂßãÂØÜÁ†Å securecrtËøûÊé•vps Ëß£Âéã‰∏ãËΩΩÁöÑsecure crt,ÂèåÂáª\SecureCRT_EN\SecureCRT\‰∏≠ÁöÑSecureCRT.exe ËæìÂÖ•IPÂú∞ÂùÄ,Áî®Êà∑Âêç,ÁÇπÂáªconnect ÂºπÂá∫Ê°ÜÁÇπÂáªAccept&amp;Save ËæìÂÖ•ÂØÜÁ†Å,ÂãæÈÄâsave password,OK Âá∫Áé∞Â¶ÇÂõæÊâÄÁ§∫,Ê†áÁ≠æÂèòÁªøÂ∞±ËØ¥ÊòéËøûÊé•ÊàêÂäüÂï¶. ÈÉ®ÁΩ≤ShadowSocksR ‰∏∫‰ªÄ‰πàÈÄâÊã©SSRËÄå‰∏çÊòØÂéüÁâàÁöÑSS‰∏ªË¶ÅÂéüÂõ†Â¶Ç‰∏ã ÂèØ‰ª•Áõ¥Êé•ÂêØÁî®chacha20Âä†ÂØÜÔºåÂú®ÁßªÂä®ËÆæÂ§á‰∏äÊØîËæÉÂ•Ω‰Ωø TFO(TCP Fast Open)Áõ¥Êé•Ëá™Â∏¶ÔºåÂáèÂ∞ëÊè°ÊâãÊ¨°Êï∞„ÄÇ ‰∫åÊ¨°Ê∑∑Ê∑ÜÂíåÊäóÈáçÊîæÁ≠âÈôÑÂä†ÂäüËÉΩ shadowsocksRÁöÑÁõ∏ÂÖ≥‰∫âËÆ∫Âú®‰ª•‰∏ãÁΩëÂùÄ‰∏≠ÔºåËá≥‰∫éÁî®Êà∑ËÄåË®ÄÔºåÁé∞Âú®ssrÂºÄÊ∫êÔºå‰∏ÄÂÆöÁöÑÁΩëÁªúÁéØÂ¢É‰∏ãÊØîÂéüÁâàÁöÑssÁ®≥ÂÆöÂ∞±Â§ü‰∫Ü„ÄÇ ‰∏Ä‰∫õ‰∫âËÆÆÂ¶Ç‰∏ã https://www.librehat.com/about-shadowsocks-r-and-the-security-of-shadowsocks/ SSRÊúâÂÖ≥ÁΩëÂùÄ (2.17)Âú®2016.12Êúà‰πãÂâçÂæàÈïø‰∏ÄÊÆµÊó∂Èó¥SSRÂè™Âú® ZeroNet ‰∏≠Êõ¥Êñ∞Ôºå17Âπ¥‰ª•ÂêéÂà∞Áé∞Âú®ÊÅ¢Â§çÂú®github‰∏äÊõ¥Êñ∞ÔºÅÊúõÂë®Áü•ÔºÅ**SSRÂ∑≤Âà†Èô§Â∫ìÔºå‰ΩÜËøòÂèØ‰ª•ÂÆâË£Ö** ShadowsocksR github‰∏ªÈ°µ https://github.com/breakwa11/shadowsocks-rss ShadowsocksR C#(windowsÁâà)‰∏ãËΩΩÂú∞ÂùÄ https://github.com/shadowsocksr/shadowsocksr-csharp/releases shadowsocksr-androidÁâà‰∏ãËΩΩÂú∞ÂùÄ https://github.com/shadowsocksr/shadowsocksr-android/releases Áî®Âà∞ÁöÑ‰∏ÄÈîÆÂÆâË£ÖËÑöÊú¨@ÁßãÊ∞¥ÈÄ∏ÂÜ∞(ÊÑüË∞¢ÔºÅ) https://shadowsocks.be/9.html ZeroNet(ÁõÆÂâçÊõ¥Êñ∞Áä∂ÊÄÅÊú™Áü•) SSR-ZeroNet http://127.0.0.1:43110/shadowsocksr.bitÔºà10.9Ôºâ‰∏çÂÆâË£ÖZeroNetÔºåÁõ¥Êé•ËÆøÈóÆÂú∞ÂùÄhttps://bit.no.com:43110/shadowsocksr.bit/ ZeroNetÁÆÄ‰ªãÂíåÊé•ÂÖ• http://www.williamlong.info/archives/4574.html ÂÆâË£ÖSSR Â§çÂà∂‰ª•‰∏ã‰ª£Á†ÅÂà∞ÁôªÈôÜÊàêÂäüÁöÑsecurecrt 123wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.shchmod +x shadowsocksR.sh./shadowsocksR.sh 2&gt;&amp;1 | tee shadowsocksR.log Â¶ÇÂõæÔºåÂõûËΩ¶„ÄÇ ËæìÂÖ•ËÆæÂÆöÂàùÂßãÂØÜÁ†ÅÔºå‰πüÂèØ‰ª•Áõ¥Êé•ÂõûËΩ¶„ÄÇ ËæìÂÖ•ÂàùÂßãÁ´ØÂè£Ôºå‰πüÁõ¥Êé•ÂõûËΩ¶ ÂóØÔºåÂõûËΩ¶ Á≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÁöÑÊªöÂ±èÔºåÊúÄÂêé‰ºöÊèêÁ§∫‚Äî‚ÄîÊàêÂäü shadowsocks.jsonÈÖçÁΩÆÊñá‰ª∂ shadowsocks.jsonÊñá‰ª∂‰∏≠ÂÆö‰πâSSRÁöÑËÆøÈóÆÁ´ØÂè£ÔºåÂä†ÂØÜÊñπÂºèÁ≠âÔºåÊàë‰ª¨‰ΩøÁî® WinSCPËΩØ‰ª∂ËøõË°åÁºñËæë‰øÆÊîπ(Êõ¥‰∏∫ÂèãÂ•Ω)ÔºåÁõ¥Êé•‰ΩøÁî® securecrt Á≠âÂ∑•ÂÖ∑ ‰ΩøÁî® vim ÂëΩ‰ª§‰øÆÊîπ‰πüÂèØÔºåÊ≠§Êñá‰∏≠ÊöÇ‰∏çÊ∂âÂèä WinSCP ÊòØ‰∏Ä‰∏™ Windows ÁéØÂ¢É‰∏ã‰ΩøÁî®ÁöÑ SSH ÁöÑÂºÄÊ∫êÂõæÂΩ¢Âåñ SFTP ÂÆ¢Êà∑Á´Ø„ÄÇÂêåÊó∂ÊîØÊåÅ SCP ÂçèËÆÆ„ÄÇÂÆÉÁöÑ‰∏ªË¶ÅÂäüËÉΩÊòØÂú®Êú¨Âú∞‰∏éËøúÁ®ãËÆ°ÁÆóÊú∫Èó¥ÂÆâÂÖ®Âú∞Â§çÂà∂Êñá‰ª∂ÔºåÂπ∂‰∏îÂèØ‰ª•Áõ¥Êé•ÁºñËæëÊñá‰ª∂. ‰∏ãËΩΩWinSCPÁªøËâ≤‰∏≠ÊñáÁâà„ÄÇ Ëß£ÂéãÁº©ÊâìÂºÄwinscpÔºå‰øùÊåÅÈªòËÆ§ÈÖçÁΩÆ‰∏çÂèòÔºåËæìÂÖ•VPSÁöÑipÂú∞ÂùÄ„ÄÅÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÇÁÇπÂáªÁôªÈôÜ„ÄÇ ÈªòËÆ§Âú®/rootÊñá‰ª∂Â§π‰∏ãÔºåË¶ÅËøõÂÖ•/etcÊñá‰ª∂Â§π‰∏ãÊâæÂà∞shadowsocks.json ÁºñËæëshadowsocks.jsonÊñá‰ª∂ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ shadowsocks.jsonÁöÑÊ≥®ÈáäÊ®°ÊùøÁõ¥Êé•Â§çÂà∂Á≤òË¥¥ Êó†Ê≥®ÈáäÁâàÊú¨ Ë¶ÜÁõñÂéüÂßãÊñá‰ª∂Âç≥ÂèØÔºåÊàñËÄÖÂú®ÂéüÊñá‰ª∂‰∏ä‰øÆÊîπÔºàÂª∫ËÆÆÂÖàÁúã‰∏Ä‰∏ãÊ≥®ÈáäÔºå‰∫ÜËß£‰∏Ä‰∏ãshadowsocks.jsonÁöÑÂ§ßËá¥ÂÜÖÂÆπÔºâ ÂèÇËÄÉËµÑÊñôÁΩëÂùÄshadowsocks.jsonÊñá‰ª∂ÂêÑÈ°πÈÖçÁΩÆËØ¥Êòé https://github.com/breakwa11/shadowsocks-rss/wiki/Server-Setup Ê∑∑Ê∑ÜÊèí‰ª∂ËØ¥Êòé https://github.com/breakwa11/shadowsocks-rss/wiki/obfs Ê≥®Èáä 12345678910111213141516171819202122232425262728&#123; "server":"0.0.0.0", "server_ipv6":"::", "local_address":"127.0.0.1", "local_port":1080, "port_password":&#123; #Á∫Ø SS ‰∏çÂ∏¶Ê∑∑Ê∑Ü Á´ØÂè£25 ÂØÜÁ†Å‰∏∫123456. "25":"123456", #Á´ØÂè£443ÔºåÂØÜÁ†Å123456 ÔºåprotocolÈÄâÊã©auth_chain_a„ÄÇobfsÈÄâÊã©tls1.2_ticket_authÔºåÂÖ∑‰ΩìÊèí‰ª∂ÁöÑ‰ªãÁªçÂ¶Ç‰∏ãÂèÇËÄÉËµÑÊñô‰∏≠ "443":&#123;"protocol":"auth_chain_a", "password":"123456", "obfs":"tls1.2_ticket_auth", "obfs_param":""&#125;, #Ê≥®ÊÑèÊó†ËÆ∫ÊÄé‰πàÂèòÂåñÔºåÊúÄÂêé‰∏Ä‰∏™Á´ØÂè£ËÆæÁΩÆÔºå‰∏çÂ∏¶ÈÄóÂè∑ÔºÅ "3389":&#123;"protocol":"auth_aes128_md5", "password":"123456", "obfs":"tls1.2_ticket_auth", "obfs_param":""&#125;#Ê≠§Â§ÑÊ≤°ÊúâÈÄóÂè∑ÔºÅ &#125;, "timeout":400, #ÈªòËÆ§ÂÖ®Â±ÄÁöÑÂä†ÂØÜÊñπÂºèÔºåÂç≥‰∏äËæπÂêÑ‰∏™Á´ØÂè£ÁöÑÈªòËÆ§Âä†ÂØÜÊñπÂºè„ÄÇ‰∏ÄËà¨‰∏∫aes-256-cfbÔºå Ê≠§Â§ÑÔºåÈÄâÊã©‰∏∫chacha20ÔºåÁßªÂä®ËÆæÂ§áÊÄßËÉΩËæÉÂ•Ω„ÄÇ "method":"chacha20", #protocol.ÂçèËÆÆÂÆö‰πâÊèí‰ª∂ÁöÑÈªòËÆ§ÂÄºÔºåoriginÂç≥‰ΩøÁî®ÂéüÁâàSSÂçèËÆÆÔºå‰∏çÊ∑∑Ê∑Ü„ÄÇÂç≥‰∏äÈù¢Á´ØÂè£ÈÖçÁΩÆ‰∏≠Ôºå‰Ω†Ê≤°ÊúâËÆæÁΩÆ protocol Âíå obfs ÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî®ÁöÑÈªòËÆ§ÂÄº„ÄÇ "protocol": "origin", "protocol_param": "", #protocol.ÂçèËÆÆÂÆö‰πâÊèí‰ª∂ÁöÑÈªòËÆ§ÂÄºÔºåplainÂç≥‰ΩøÁî®ÂéüÂçèËÆÆÔºå‰∏çÊ∑∑Ê∑Ü„ÄÇ "obfs": "plain", "obfs_param": "", "redirect": "", "dns_ipv6": true, #TCP FAST OPEN ÔºåÊâìÂºÄ "fast_open": true, "workers": 1&#125; Êó†Ê≥®ÈáäÁâàÊú¨ÔºåÁõ¥Êé•Â§çÂà∂Á≤òË¥¥Ë¶ÜÁõñÂéüÂßãÊñá‰ª∂ÔºåÊàñËÄÖÂú®ÂéüÊñá‰ª∂‰∏ä‰øÆÊîπ 12345678910111213141516171819202122&#123; "server":"0.0.0.0", "server_ipv6":"::", "local_address":"127.0.0.1", "local_port":1080, "port_password":&#123; "25":"123456", "443":&#123;"protocol":"auth_chain_a", "password":"123456", "obfs":"tls1.2_ticket_auth", "obfs_param":""&#125;, "3389":&#123;"protocol":"auth_aes128_md5", "password":"123456", "obfs":"tls1.2_ticket_auth", "obfs_param":""&#125; &#125;, "timeout":400, "method":"chacha20", "protocol": "origin", "protocol_param": "", "obfs": "plain", "obfs_param": "", "redirect": "", "dns_ipv6": true, "fast_open": true, "workers": 1&#125; ÈáçÂêØSSR ÈÖçÁΩÆÂÆåÊàêÂêéÔºåÈáçÂêØSSR,‰ª•rootË¥¶Êà∑ÁôªÈôÜsecurecrtÔºåÂ§çÂà∂‰ª•‰∏ã‰ª£Á†ÅÔºåÈáçÂêØssr„ÄÇ 1/etc/init.d/shadowsocks restart ‰ºöÊèêÁ§∫shadowsocksrÈáçÂêØÊàêÂäü„ÄÇÔºàÂ¶ÇÂõæÔºâ Êõ¥Êñ∞SSR vpsÁ´ØÔºåÈúÄË¶ÅÂÖà‰ª§Â≠ò shadowsocks.jsonÊñá‰ª∂„ÄÇÂÜçÊâßË°åÂç∏ËΩΩ 1./shadowsocksR.sh uninstall ‰πãÂêéÈáçÊñ∞ÊâßË°åÂÆâË£ÖËÑöÊú¨Âç≥ÂèØ Ê∑∑Ê∑ÜÈÄâÊã©(Êñ∞ÊâãÂèØÁï•Ëøá)Ê∑∑Ê∑ÜÊèí‰ª∂ÁÆÄ‰ªã ShadowsocksRÁõÆÂâçÊîØÊåÅÁöÑÊ∑∑Ê∑ÜÊèí‰ª∂ÔºàÊ≠§Á±ªÂûãÁöÑÊèí‰ª∂Áî®‰∫éÂÆö‰πâÂä†ÂØÜÂêéÁöÑÈÄö‰ø°ÂçèËÆÆÔºâÔºö plain ,http_simple ,http_post,random_head ,tls1.2_ticketauth ÂçèËÆÆÂÆö‰πâÊèí‰ª∂(Áî®‰∫éÂÆö‰πâÂä†ÂØÜÂâçÁöÑÂçèËÆÆ): origin, auth_sha1, auth_sha1_v2, auth_sha1_v4, auth_aes128_md5/auth_aes128_sha1 auth_aes128_md5/auth_aes128_sha1 ÊîØÊåÅ ÂçïÁ´ØÂè£Â§öÁî®Êà∑ÔºåÂç≥‰∏Ä‰∏™Á´ØÂè£ ÂèØ‰ª•ÈÖçÁΩÆ Âá†‰∏™‰∏çÂêåÁöÑÂØÜÁ†ÅÔºåÁ®çÂêéÊõ¥Êñ∞„ÄÇ ShadowsocksR ÂçèËÆÆÊèí‰ª∂ÊñáÊ°£ Ê∑∑Ê∑ÜÊèí‰ª∂ÈÄâÊã©(5.24) ÈÄöÁî® Êé®Ëçêauth_chain_a+tls1.2_ticket_authËøôÁßçÁªÑÂêàÁõÆÂâçÊ∑∑Ê∑ÜÊïàÊûúÊúÄÂ•ΩÔºåÊúâÂà©‰∫é‰∏™‰∫∫VPSÁöÑÈïøÊó∂Èó¥‰ΩøÁî®„ÄÇ Ôºà5.24Ôºâauth_chain_aÂèØ‰∏ç‰ΩøÁî®Áî®Âä†ÂØÜÔºåÂç≥Âä†ÂØÜÊñπÂºèNoneÔºàSSR‰ΩúËÄÖËØ≠ÔºâÔºå‰ΩÜÊòØÂêßÔºåÊÄßËÉΩÂ∑Æ‰∏çÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂä†‰∏™ÂØÜÊ≤°ÊØõÁóÖ„ÄÇ auth_aes128_md5Êàñauth_aes128_sha1+ÈöèÊÑèÔºåÂç≥‰Ωø‰ΩøÁî®rc4Âä†ÂØÜ‰∫¶ÂèØÔºàSSR‰ΩúËÄÖËØ≠Ôºâ Áé©Ê∏∏ÊàèÔºåÊàñÂØπÂª∂ËøüÊúâË¶ÅÊ±ÇÔºå‰∏çË¶Å‰ΩøÁî®tls1.2_ticket_auth ÁΩëÁªúÂ∞ÅÈîÅ/ÁõëÊéßÁéØÂ¢É‰∏ã ‰æãÂ¶ÇÂ≠¶Ê†°ÊïôËÇ≤ÁΩë/ÂÖ¨Âè∏ÂÜÖÁΩë/ÂπøÁîµÂÆΩÂ∏¶Á≠âÁ≠âÔºåÂ∞ÅÊùÄ‰∫ÜBT/Á¶ÅÊ≠¢ËÆøÈóÆÁΩëÁõòÁ≠âÁ≠âÁ≠âÁ≠â„ÄÇ ‰ΩøÁî®http_simple„ÄÅhttp_postÊàñtls1.2_ticket_auth Ê∑∑Ê∑ÜËÆøÈóÆÁöÑÁõÆÊ†áÁΩëÂùÄ„ÄÇÂÜçÈÖçÂêà443/80Á´ØÂè£ÈÄöÂ∏∏ÂèØ‰ª•Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ Android (5.24)ÊúÄÂ•Ω‰ΩøÁî®auth_chain_a„ÄÇ Â¶ÇÊûú‰πãÂâç‰ΩøÁî®ÁöÑÊòØauth_aes128_md5ÔºåÊé®Ëçê‰ª•auth_chain_aÊõøÊç¢ ÊâãÊú∫ËøêÁÆóËÉΩÂäõËæÉÂ∑ÆÁöÑÊé®Ëçê‰ΩøÁî®auth_sha1_v4ÊõøÊç¢auth_aes128_md5 ÂçïÁ´ØÂè£Â§öÁî®Êà∑ ÈÄÇÁî®Âú∫ÊôØ:Â§ö‰∫∫ÂêàÁßü,ÂáèÂ∞ëvpsÂºÄÊîæÁ´ØÂè£. https://breakwa11.blogspot.ru/2017/01/shadowsocksr-mu.html?m=1 ÂÆòÊñπ ShadowsocksRÂçïÁ´ØÂè£Â§öÁî®Êà∑ÈÖçÁΩÆÊñπÊ≥ï ‰º™Ë£ÖÊ≠£Â∏∏ÁΩëÁ´ô(Êé®Ëçê) ÈÄÇÁî®Âú∫ÊôØÊúÄÂ§ßÁ®ãÂ∫¶ÂáèÂ∞ëGFW‰∏ªÂä®Êâ´Êèè,Ë¢´ÂèëÁé∞ÁöÑÂèØËÉΩÊÄß. (‰º™Ë£ÖÁΩëÁ´ôÂêé,Êó†Ê≥ï‰ΩøÁî®ÂçïÁ´ØÂè£Â§öÁî®Êà∑) https://doub.io/ss-jc48/ ÈÄóÊØîÊ†πÊçÆÂú∞ÁöÑ‰ªãÁªçÔºåÂæàËØ¶ÁªÜÔºåÊê≠ÈÖçÊúÄÊñ∞ÁöÑauth_chain_a Ê∑∑Ê∑ÜÔºåÂæàÂ•ΩÁî®„ÄÇ httpÁΩëÁ´ôÂØπÂ∫îÊ∑∑Ê∑ÜÈÄâÊã©http Êàñ post https ÁΩëÁ´ôÈÄâÊã©tls1.2 ÂüüÂêçÁî≥ËØ∑ÔºåÂÖçË¥πÔºÅ https://my.freenom.com/clientarea.php DNSËß£Êûê(ÁõÆÂâçÂõΩÂÜÖÁΩëÁ´ô ÂüüÂêç CDN DNSËß£Êûê ÂùáÈúÄÂ§áÊ°àÂÆûÂêç,ÊïÖÊîæÂºÉ) https://www.cloudflare.com/ VPS‰ºòÂåñ ËØ¶ÊÉÖÂú®ÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÔºà‰∫åÔºâ‚Äî‚ÄîVPS‰ºòÂåñÂä†ÈÄü ËøôÈáåÂè™ÊèêÂèä ÂéüÁâàBBR BBRÁõÆÂâçÊúâÂæàÂ§ö‰øÆÊîπÁâàÊú¨ÔºåÊïàÊûúÂæàÂ•ΩÔºåBBRÂ±û‰∫éÂÜÖÊ†∏Á∫ßÂà´Ôºå‰∏çÊé®ËçêÊñ∞Êâã ÂÆâË£Ö‰øÆÊîπÁâàBBRÔºåÂÜÖÊ†∏ÊåÇÊéâÔºåÊñ∞Êâã‰∏ÄËà¨ÂæàÈöæÂ§ÑÁêÜ„ÄÇ ‰øÆÊîπÁâàBBR ËØ¶ÊÉÖËßÅÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÔºà‰∫åÔºâ‚Äî‚ÄîVPS‰ºòÂåñÂä†ÈÄü TCP‰ºòÂåñ Â¢ûÂä†TCPËøûÊé•Êï∞Èáè 1nano /etc/security/limits.conf Ê∑ªÂä†‰∏§Ë°åÔºö 12* soft nofile 51200* hard nofile 51200 ‰øùÂ≠ò(Ctrl + X ‚Äî‚Äî y ‚Äî‚ÄîÂõûËΩ¶) ËÆæÁΩÆulimitÔºö 1ulimit -n 51200 TCP-BBR(Êé®Ëçê) ËÑöÊú¨Êù•Ëá™‰∫é@ÁßãÊ∞¥ÈÄ∏ÂÜ∞ Êï¨ÂëäÔºö ÈîêÈÄü‰∏çÊîØÊåÅÔºåÊõ¥Êç¢ÂêéÁöÑ 4.9Âèä‰ª•Âêé ÂÜÖÊ†∏ Âä†ÈÄüÊïàÊûú‰∏éÂÖ∑‰ΩìÁΩëÁªúÁä∂ÊÄÅÊúâÂÖ≥ ‰∏çÊé®ËçêÊñ∞ÊâãÁõ¥Êé•ÂÆâË£Ö‰øÆÊîπÁâàBBRÔºåÊåÇÊéâÂêéÂæàÈöæÊÅ¢Â§ç„ÄÇ BBR (Bottleneck Bandwidth and RTT)ÊòØÁî±googleÂ∑•Á®ãÂ∏àÁºñÂÜôÁöÑÊñ∞ÁöÑ TCP Êã•Â°ûÊéßÂà∂ÁÆóÊ≥ïÔºåÁõÆÁöÑÊòØË¶ÅÂ∞ΩÈáèË∑ëÊª°Â∏¶ÂÆΩ, Âπ∂‰∏îÂ∞ΩÈáè‰∏çË¶ÅÊúâÊéíÈòüÁöÑÊÉÖÂÜµ, Âä†ÈÄüÊïàÊûú‰∏çÊØîÈîêÈÄüÂ∑ÆÔºåÂÆåÂÖ®ÂºÄÊ∫êÔºåÂØπÈöêÂåøÊÄßË¶ÅÊ±ÇÈ´òËÄåÊó†Ê≥ï‰ΩøÁî®ÈîêÈÄüÁöÑ‰∫∫Â£´Ôºå‰πüÂèØ‰ª•ÊîæÂøÉ‰ΩøÁî®ÂºÄÊ∫êÂú∞ÂùÄ ÂêØÁî®TCP-BBRÊ∂âÂèäVPSÊõ¥Êç¢ÂÜÖÊ†∏ÔºåÊâÄ‰ª•Â¶ÇÊûúÊ≠•È™§ÈîôËØØÔºåÊàñËÄÖVPS‰∏çÂÖºÂÆπÊúÄÊñ∞ÁöÑÂÜÖÊ†∏Ôºå‰ºöÂØºËá¥Êó†Ê≥ïÂºÄÊú∫Á≠âÈîôËØØ ÁõÆÂâçÂú® Vultr / DO ‰∏äÊµãËØïÈÄöËøá„ÄÇÂÖ∂‰ªñ‰∏ªÊú∫Êèê‰æõÂïÜÔºåËØ∑Ëá™Ë°åÊµãËØï ËøûÊé•SSHÔºåËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§ 123wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.shchmod +x bbr.sh./bbr.sh ÊèêÁ§∫ÈúÄË¶ÅÈáçÂêØ VPSÔºåËæìÂÖ• y Âπ∂ÂõûËΩ¶ÂêéÈáçÂêØÔºåÈáçËøûSSH ËÑöÊú¨‰ºöËá™Âä®Êõ¥Êñ∞ÂåπÈÖçÁöÑ4.xxÁâàÊú¨ÂÜÖÊ†∏(6.28 ÁõÆÂâçÊòØ4.11ÔºâÔºåÂπ∂ÂêØÁî®TCP BBR È™åËØÅ ËæìÂÖ• 1uname -r Êúâ4.9.0 ‰ª•‰∏äÂ∞± Ë°®Á§∫ Êõ¥Êñ∞ÊàêÂäü ËæìÂÖ• 1lsmod | grep bbr ËøîÂõûÂÄºÊúâ tcpbbr Âç≥bbrÂ∑≤ÂêØÂä®„ÄÇ Ê∑ªÂä†‰∏Ä‰∫õ‰ºòÂåñÂÜÖÂÆπ‰øÆÊîπsysctl.conf 1nano /etc/sysctl.conf Â§çÂà∂‰ª£Á†ÅÔºö 1234567891011121314151617181920212223#TCPÈÖçÁΩÆ‰ºòÂåñ(‰∏çÁÑ∂‰Ω†Ëá™Â∑±Ê†πÊú¨‰∏çÁü•ÈÅì‰Ω†Âú®Âπ≤‰ªÄ‰πà)fs.file-max = 51200#ÊèêÈ´òÊï¥‰∏™Á≥ªÁªüÁöÑÊñá‰ª∂ÈôêÂà∂net.core.rmem_max = 67108864net.core.wmem_max = 67108864net.core.netdev_max_backlog = 250000net.core.somaxconn = 4096net.ipv4.tcp_syncookies = 1net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_tw_recycle = 0net.ipv4.tcp_fin_timeout = 30net.ipv4.tcp_keepalive_time = 1200net.ipv4.ip_local_port_range = 10000 65000net.ipv4.tcp_max_syn_backlog = 8192net.ipv4.tcp_max_tw_buckets = 5000net.ipv4.tcp_fastopen = 3net.ipv4.tcp_mem = 25600 51200 102400net.ipv4.tcp_rmem = 4096 87380 67108864net.ipv4.tcp_wmem = 4096 65536 67108864net.ipv4.tcp_mtu_probing = 1net.ipv4.tcp_congestion_control = bbr#END OF LINE ‰øùÂ≠ò(Ctrl + X ‚Äî‚Äî y ‚Äî‚ÄîÂõûËΩ¶) Â∫îÁî® 1sysctl -p ÈáçÂêØSSR 1/etc/init.d/shadowsocks restart VPSÂÆâÂÖ®Âä†Âõ∫( ÂÆâÂÖ®ÊÄßÊòØÈáç‰∏≠‰πãÈáçÔºÅ) ÂøÖÈ°ªËøõË°åÁöÑÊ≠•È™§ÔºåÂÆâÂÖ®ÊÄßÊòØÈáç‰∏≠‰πãÈáçÔºÅËØ¶ÊÉÖÂú®ÁßëÂ≠¶‰∏äÁΩëÊïôÁ®ãÔºà‰∏âÔºâ‚Äî‚ÄîVPSÂÆâÂÖ®Âä†Âõ∫ shadowsocksR ÂÆ¢Êà∑Á´ØÈÖçÁΩÆshadowsocksR C# windowsÁâàÊú¨ (6.28)ÊúÄÊñ∞ÁöÑ4.6.0ÂÆ¢Êà∑Á´Ø(Ê≥®ÊÑèMD5Ê†°È™å) ÊîØÊåÅhostsÊñá‰ª∂ÂÆûÈ™åÊÄßË¥®ÔºåÁ®≥ÂÆöÂêéÂä†ÂÖ• shadowsocksR C# windowsÁâàÊú¨ Êù•Ê∫ê‰∫égithubÂ§á‰ªΩ„ÄÇ Ëß£ÂéãShadowsocksR-win-4.6.1.7zÔºà‰ª•ÂÖ∑‰ΩìÂÆ¢Êà∑Á´ØÁâàÊú¨‰∏∫ÂáÜÔºâÔºåÊâìÂºÄ„ÄÇ ÂØπÂ∫î‰∏äÊñá‰∏≠SSRÊúçÂä°Á´ØÈÖçÁΩÆËæìÂÖ•ÂØπÂ∫îÁ´ØÂè£ÈÖçÁΩÆÔºåipÂú∞ÂùÄÔºåÂØÜÁ†ÅÁ≠â„ÄÇ 25Á´ØÂè£ÔºàÂçïSSÔºâ 443Á´ØÂè£ 3389Á´ØÂè£ Âè≥ÈîÆshadowsocksÂø´Êç∑ÂõæÊ†á,ÈÄâÊã©ÂêØÁî®Á≥ªÁªü‰ª£ÁêÜÁé∞Âú®Â∫îËØ•ÂèØ‰ª•ËÆøÈóÆ Ë∞∑Ê≠å‰∫Ü:) ‰ΩøÁî®Chrome+SwitchyOmega Êé®ËçêÔºÅÔºÅ Chrome‰∏ãÊèí‰ª∂SwitchyOmegaÂèØ‰ª•Ê†πÊçÆË¶ÅËÆøÈóÆÁöÑÁΩëÂùÄÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÁªèËøá‰ª£ÁêÜÔºåÂÅöÂà∞Êô∫ËÉΩÁöÑÁßëÂ≠¶‰∏äÁΩë„ÄÇÂπ∂‰∏îÁé∞Âú®Ëøô‰∏™Êèí‰ª∂ÁöÑÈÖçÁΩÆÂèØ‰ª•‰∫ëÂêåÊ≠•ÔºåÂÜç‰πü‰∏çÁî®Êú¨Âú∞‰øùÂ≠ò‰∫ÜÔºÅÂÖ∑‰ΩìÊïôÁ®ãÂ¶Ç‰∏ãSwitchyOmega‰ΩøÁî®ss‰ª£ÁêÜ http://www.ihacksoft.com/chrome-switchyomega.html ÈÖçÂêàgfwlist https://github.com/FelisCatus/SwitchyOmega/wiki/GFWList SSR-Android SSR-Android SSR-AndroidÁ´Ø(Ê≥®ÊÑèMD5Ê†°È™å) https://github.com/Jasper-1024/shadowsocksr-android-1/releases (12.11) ssr-androidÊõ¥Êñ∞Âà∞3.2.7.14.ÁâàÔºåÂ¢ûÂä†auth_aes128_md5Âíåauth_aes128_sha1,Êé®ËçêÊõ¥Êñ∞ÔºÅ (1.11)ssr-androidÊõ¥Êñ∞Âà∞3.3.3.1Êé®ËçêÊõ¥Êñ∞ÔºÅ (2.17)ssr-androidÊõ¥Êñ∞Âà∞3.3.4.5 Êé®ËçêÊõ¥Êñ∞! (6.28)SSR-androidÊõ¥Êñ∞3.4.0.5 androidÁ´Ø‰ΩøÁî® ÂèØ‰ª•Áõ¥Êé•ËæìÂÖ•SSRÈÖçÁΩÆÔºåËæÉ‰∏∫ÁπÅÁêê Âú®SSR C#ÁâàÊú¨Ôºå‰∏≠ËæìÂÖ•ÂÆåÊØïÔºå‰øùÂ≠ò„ÄÇÁõ¥Êé•Êâ´Êèè‰∫åÁª¥Á†ÅÂç≥ÂèØÔºÅ‰∫åÁª¥Á†ÅÂøÖÈ°ªÂú®ÂÖâÊ†áÁßªÂà∞ SSRÈìæÊé• Â§ÑÊâç‰ºöÂá∫Áé∞ ÁªìÊùü]]></content>
      <categories>
        <category>ÁßëÂ≠¶‰∏äÁΩë</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>VPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂºÄÁ´ØÔºåËµ∑Âßã„ÄÇ]]></title>
    <url>%2F2016%2F06%2F21%2F%E5%BC%80%E7%AB%AF%2F</url>
    <content type="text"><![CDATA[ÊÄªÁÆóÊòØÂçöÂÆ¢Êê≠Âª∫ÂÆå‰∫ÜÔºå‰æùÈôÑÂú®github‰∏äÔºåËá™Â∑±ÁöÑÂüüÂêç‰ªÄ‰πàÁöÑÂÖà‰∏ç‰π∞‰∫Ü„ÄÇ ËØÑËÆ∫Á≥ªÁªü„ÄÅRSS„ÄÅÁïôË®Ä„ÄÅÁªüËÆ°„ÄÅËÆøÈóÆÈáè Âü∫Êú¨Êúâ‰∏™Áã¨Á´ãÂçöÂÆ¢ÁöÑÊ†∑Â≠ê‰∫Ü„ÄÇ‰πãÂâç‰∏ÄÁõ¥‰ª•‰∏∫Áã¨Á´ãÂçöÂÆ¢Ë¶ÅËä±ÂæàÈïøÊó∂Èó¥ÊâçÂèØ‰ª•ÂÆåÊàêÔºåÂÖ∂ÂÆû‰πüÂ∞±ÈÇ£‰∫õ‰∏úË•øÔºåÁúüÊ≠£ÂéâÂÆ≥ÁöÑÊòØÈÄ†ËΩÆÂ≠êÁöÑ‰∫∫„ÄÇ È©¨‰∏äÂ§ßÂõõ‰∫ÜÔºåÂèçËÄåÊâæÂà∞‰∫ÜËá™Â∑±ÁöÑÂÖ¥Ë∂£Ôºå‰∏çÁü•ÈÅìÊòØÈ´òÂÖ¥ËøòÊòØÊÇ≤‰º§ÔºåÂÅö‰∫Ü‰∏âÂπ¥ÁöÑÂçïÁâáÊú∫ÊúÄÂêéÂèëÁé∞ÊúÄÂñúÊ¨¢ÁöÑÊòØËΩØ‰ª∂ÔºåÈÄ†ÂåñÂºÑ‰∫∫Âêß„ÄÇ ÂºÄÂßãÊõ¥Êñ∞Ëá™Â∑±ÁöÑÁªèÂéÜÂíåÂøÉÊÉÖÔºåÂü∫Êú¨‰∏çÁî®ÊãÖÂøÉÂÆ°Êü•ÂíåÂ§áÊ°àÔºåÂèçÊ≠£ÊúçÂä°Âô®Âèà‰∏çÂú®ÂõΩÂÜÖ„ÄÇÂè™ËÉΩËØ¥Ëµ∞‰∏ÄÊ≠•ÂÜçËµ∞‰∏ÄÊ≠•‰∫ÜÁî®Â•ΩÂâ©‰∏ãÁöÑÊó∂Èó¥„ÄÇÂâçË∑ØÂíåÊúüËÆ∏ÂæàÈöæÔºå‰ΩÜÊòØÂ∞±Ëøô‰πàÁÜ¨ÁùÄÔºåÊÄªÊúâÊÑèÂ§ñÁöÑ‰∏ÄÂ§©„ÄÇ]]></content>
      <categories>
        <category>Èöè</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ÂàùÂÖ•Ê†ëËéìÊ¥æ1ÂÆâË£ÖÁ≥ªÁªü+ËøõÂÖ•SSH]]></title>
    <url>%2F2016%2F06%2F21%2F%E5%88%9D%E5%85%A5%E6%A0%91%E8%8E%93%E6%B4%BE1----%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%2B%E8%BF%9B%E5%85%A5SSH%2F</url>
    <content type="text"><![CDATA[‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑ‰ªé‰∫ãÁ®ãÂ∫èÂëò‰∫ã‰∏ö„ÄÅÂ°´Âùëlinux„ÄÅ‰∏∫Â≠¶ÂºüÊâì‰∏ãÁ¨¨‰∏ÄÊâãËµÑÊñô„ÄÅÁïô‰∏ãlinuxÂüπËÆ≠ÊïôÊùê‚Ä¶‚Ä¶ ÂÆûÈôÖÂ∞±ÊòØ‰∏∫‰∫ÜÊê≠‰∏™Ë∑ØÁî±Âô®ÔºåÁé©Áé© ÂÖ•‰∫ÜÊ†ëËéìÊ¥æ3b +ÁîµÊ∫ê+Â§ñÂ£≥+sdÂç°‚Äî300Â§ßÊ¥ã‚Äî‚Äî‚ÄìËÇâÁñº Ê†ëËéìÊ¥æÁ≥ªÁªüÂÆâË£Ö Ê†ëËéìÊ¥æ3bÁöÑËÄóÁîµÈáèËøòÊòØÊå∫Â§ßÁöÑ Êé®Ëçê‰π∞‰∏™2.5AÁöÑÁîµÊ∫ê Á≥ªÁªüÈÄâÊã© Ê†ëËéìÊ¥æÊîØÊåÅ Êï∞ÂçÅÊ¨æÊìç‰ΩúÁ≥ªÁªüÔºå‰∏ÄËà¨Êñ∞ÊâãÊé®ËçêÁöÑÊòØraspbian RaspbianÊòØ‰∏∫Ê†ëËéìÊ¥æËÆæËÆ°ÔºåÂü∫‰∫éDebianÁöÑÊìç‰ΩúÁ≥ªÁªüÔºå‰∏çÈö∂Â±û‰∫éÊ†ëËéìÊ¥æÂü∫Èáë‰ºö[1]Ôºå‰ΩÜË¢´Âàó‰∏∫ÂÆòÊñπÊîØÊåÅÁöÑÊìç‰ΩúÁ≥ªÁªüÔºå RaspbianÈïúÂÉèÂú∞ÂùÄ(ÊúÄÂ•ΩÂú®FQ‰∏ãÔºåÂê¶Âàô‰ºöÂæàÊÖ¢ÁöÑ„ÄÇ‰Ω†Ë¶ÅÁî®IDMÂΩìÊàëÊ≤°ËØ¥) RaspbianÊúâ‰∏§‰∏™ÁâàÊú¨ÔºåÁÆÄÂçïÂå∫Âà´Â¶Ç‰∏ã RASPBIAN JESSIE WITH PIXELÂ∏¶ÊúâÂÆåÊï¥ÁöÑÊ°åÈù¢‰ΩìÈ™åÔºåÂÆâË£ÖÂåÖ1.4GÂ∑¶Âè≥ RASPBIAN JESSIE LITEÊ≤°ÊúâX-server Â•ó‰ª∂ÔºåÊ≤°Êúâ Qt Âíå GTK+ ÁöÑÂáΩÂºèÂ∫ì„ÄÇÁ≠â‰∫éÂéªÊéâ‰∫ÜÊ°åÈù¢„ÄÇÂÆâË£ÖÂåÖ400Mb‰∏ä‰∏ã„ÄÇ ÊâÄË¶ÅÁî®Âà∞ÁöÑÂ∑•ÂÖ∑ÊòØÔºö 1.Â§öÂäüËÉΩËØªÂç°Âô®‰∏Ä‰∏™ 2.TFÂç°‰∏ÄÂº†Ôºà4G‰ª•‰∏äÔºâ ÁÉßÂÜôÂô®ÂÆòÊñπÊé®ËçêÊòØwin32diskimager‰ΩÜÊòØÊñá‰ª∂Ë∑ØÂæÑ‰∏çÊîØÊåÅ‰∏≠Êñá„ÄÇ ‰∏™‰∫∫Êé®Ëçê USB Image ToolÊïÖÈöúÁéáÊúÄ‰ΩéÁöÑÊòØ1.7ÁâàÊú¨„ÄÇ Êèí‰∏äËØªÂç°Âô®ÔºåÁÉßÂÜôÁ≥ªÁªüÂºÄÂßãÔºÅ ÁÉßÂÜôÁ≥ªÁªü ÊâìÂºÄUSB Image ToolÊ≥®ÊÑèÂ∑¶‰∏äËßíÊòØDevice ModeÔºå‰∏çÊòØVolume ModeÔºÅ ÈÄâÊã©‰∏ãËΩΩÂêéËß£ÂéãÁöÑimgÊñá‰ª∂ ÂÜôÂÖ•Á≠âÂæÖËøõÂ∫¶Êù°ÂÆåÊàêÂç≥ÂèØ„ÄÇ ÈîôËØØÂéüÂõ† USB Image Tool Âú®win7‰ª•‰∏äÁ≥ªÁªü‰∏≠ÂøÖÈ°ªË¶Å‰ª•ÁÆ°ÁêÜÂëòÊùÉÈôêËøêË°å USB Image ToolËøêË°åÈúÄË¶Å.netÁéØÂ¢É Áõ¥Êé•‰ΩøÁî®Á≥ªÁªüÈªòËÆ§Âä†ËΩΩÁöÑÂç≥ÂèØ„ÄÇ ÁÉßÂÜôÂÆåÊàêÂêéÊé•ÂÖ•ÁîµÊ∫ê ËøõÂÖ•SSHÁÆ°ÁêÜÔºàÊ≤°ÊúâÊòæÁ§∫ËÆæÂ§áÊó∂Ôºâ Á¨¨‰∏ÄÊ¨°ËøõÂÖ•Á≥ªÁªüÊó∂Áõ¥Êé•Âà©Áî®ÁΩëÁ∫øÊé•ÂÖ•Ë∑ØÁî±Âô®ÔºåÂ∞ÜÁîµËÑëÊé•ÂÖ•Âêå‰∏Ä‰∏™wifi‰∏ã„ÄÇÂú®Ë∑ØÁî±Âô®ÁÆ°ÁêÜÁïåÈù¢Êü•ÊâæÊ†ëËéìÊ¥æÂØπÂ∫îÂæóIPÂú∞ÂùÄ„ÄÇ‰πüÂèØ‰ª•Êâ´Êèè‰∏Ä‰∏ãÂ±ÄÂüüÁΩëËÆæÂ§á‰∏≠ÂºÄÂêØ22Á´ØÂè£ÁöÑËÆæÂ§á. ‰ΩøÁî®SSHÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåËøôÈáå‰ª•putty‰∏∫‰æã„ÄÇÊâìÂºÄËΩØ‰ª∂ÔºåÂ°´ÂÖ•Ê†ëËéìÊ¥æipÂú∞ÂùÄ„ÄÇ ÊâìÂºÄËΩØ‰ª∂ÔºåÂ°´ÂÖ•Ê†ëËéìÊ¥æipÂú∞ÂùÄ„ÄÇÈªòËÆ§ÁôªÈôÜÁïåÈù¢ ÈªòËÆ§Áî®Êà∑Âêçpi ÂØÜÁ†Åraspberry„ÄÇ ÁôªÈôÜÊàêÂäüÔºÅ ÂèÇËÄÉ http://blog.csdn.net/longerzone/article/details/36034619]]></content>
      <categories>
        <category>Ê†ëËéìÊ¥æ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2016%2F06%2F18%2Fhellowworld%2F</url>
    <content type="text"><![CDATA[Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>Èöè</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Linux</tag>
        <tag>VPS</tag>
        <tag>python</tag>
        <tag>ÂçïÁâáÊú∫</tag>
        <tag>ÂºÄÊ∫ê</tag>
      </tags>
  </entry>
</search>